import{j as f,n as y,s as ae,f as F,a as qe,o as He,b as $,g as ke}from"./chunk-ZJJGQIVY-3d316dd5.js";import{I as Ee}from"./chunk-2GBDXOMA-c3ee5274.js";import{r as a}from"./index-76fb7be0.js";import{u as D}from"./index-30c8b35e.js";import{c as ze,t as De,a as Pe}from"./index-f68c64fe.js";import{u as We}from"./index-938a7d6c.js";import{u as Xe}from"./index-5f92aa2b.js";import{u as Ye}from"./index-3e7aa64e.js";import{m as ue}from"./index-17e33fe9.js";import{a as $e}from"./chunk-56K2BSAJ-a2503b05.js";import{c as Fe}from"./index-7abe7895.js";import{b as Je,C as Qe}from"./icons-d10032f4.js";import{I as Ze}from"./chunk-2ZHRCML3-0a67530c.js";function et(t={}){const{onChange:n,precision:o,defaultValue:r,value:i,step:s=1,min:l=Number.MIN_SAFE_INTEGER,max:d=Number.MAX_SAFE_INTEGER,keepWithinRange:b=!0}=t,N=D(n),[h,w]=a.useState(()=>{var p;return r==null?"":(p=se(r,s,o))!=null?p:""}),S=typeof i<"u",g=S?i:h,V=Re(_(g),s),R=o??V,C=a.useCallback(p=>{p!==g&&(S||w(p.toString()),N==null||N(p.toString(),_(p)))},[N,S,g]),A=a.useCallback(p=>{let m=p;return b&&(m=ze(m,l,d)),De(m,R)},[R,b,d,l]),B=a.useCallback((p=s)=>{let m;g===""?m=_(p):m=_(g)+p,m=A(m),C(m)},[A,s,C,g]),K=a.useCallback((p=s)=>{let m;g===""?m=_(-p):m=_(g)-p,m=A(m),C(m)},[A,s,C,g]),U=a.useCallback(()=>{var p;let m;r==null?m="":m=(p=se(r,s,o))!=null?p:l,C(m)},[r,o,s,C,l]),Q=a.useCallback(p=>{var m;const ee=(m=se(p,s,R))!=null?m:l;C(ee)},[R,s,C,l]),k=_(g);return{isOutOfRange:k>d||k<l,isAtMax:k===d,isAtMin:k===l,precision:R,value:g,valueAsNumber:k,update:C,reset:U,increment:B,decrement:K,clamp:A,cast:Q,setValue:w}}function _(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function Re(t,n){return Math.max(Pe(n),Pe(t))}function se(t,n,o){const r=_(t);if(Number.isNaN(r))return;const i=Re(r,n);return De(r,o??i)}var tt=t=>f.jsx(Ee,{viewBox:"0 0 24 24",...t,children:f.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),nt=t=>f.jsx(Ee,{viewBox:"0 0 24 24",...t,children:f.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function _e(t,n,o,r){a.useEffect(()=>{var i;if(!t.current||!r)return;const s=(i=t.current.ownerDocument.defaultView)!=null?i:window,l=Array.isArray(n)?n:[n],d=new s.MutationObserver(b=>{for(const N of b)N.type==="attributes"&&N.attributeName&&l.includes(N.attributeName)&&o(N)});return d.observe(t.current,{attributes:!0,attributeFilter:l}),()=>d.disconnect()})}function rt(t,n){const o=D(t);a.useEffect(()=>{let r=null;const i=()=>o();return n!==null&&(r=window.setInterval(i,n)),()=>{r&&window.clearInterval(r)}},[n,o])}var at=50,we=300;function ut(t,n){const[o,r]=a.useState(!1),[i,s]=a.useState(null),[l,d]=a.useState(!0),b=a.useRef(null),N=()=>clearTimeout(b.current);rt(()=>{i==="increment"&&t(),i==="decrement"&&n()},o?at:null);const h=a.useCallback(()=>{l&&t(),b.current=setTimeout(()=>{d(!1),r(!0),s("increment")},we)},[t,l]),w=a.useCallback(()=>{l&&n(),b.current=setTimeout(()=>{d(!1),r(!0),s("decrement")},we)},[n,l]),S=a.useCallback(()=>{d(!0),r(!1),N()},[]);return a.useEffect(()=>()=>N(),[]),{up:h,down:w,stop:S,isSpinning:o}}var st=/^[Ee0-9+\-.]$/;function ot(t){return st.test(t)}function lt(t,n){if(t.key==null)return!0;const o=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||o?!0:n(t.key)}function it(t={}){const{focusInputOnChange:n=!0,clampValueOnBlur:o=!0,keepWithinRange:r=!0,min:i=Number.MIN_SAFE_INTEGER,max:s=Number.MAX_SAFE_INTEGER,step:l=1,isReadOnly:d,isDisabled:b,isRequired:N,isInvalid:h,pattern:w="[0-9]*(.[0-9]+)?",inputMode:S="decimal",allowMouseWheel:g,id:V,onChange:R,precision:C,name:A,"aria-describedby":B,"aria-label":K,"aria-labelledby":U,onFocus:Q,onBlur:k,onInvalid:ie,getAriaValueText:ce,isValidCharacter:Z,format:p,parse:m,...ee}=t,te=D(Q),me=D(k),T=D(ie),L=D(Z??ot),ne=D(ce),u=et(t),{update:j,increment:pe,decrement:de}=u,[Ke,re]=a.useState(!1),G=!(d||b),P=a.useRef(null),q=a.useRef(null),fe=a.useRef(null),be=a.useRef(null),H=a.useCallback(e=>e.split("").filter(L).join(""),[L]),z=a.useCallback(e=>{var c;return(c=m==null?void 0:m(e))!=null?c:e},[m]),M=a.useCallback(e=>{var c;return((c=p==null?void 0:p(e))!=null?c:e).toString()},[p]);Xe(()=>{(u.valueAsNumber>s||u.valueAsNumber<i)&&(T==null||T("rangeOverflow",M(u.value),u.valueAsNumber))},[u.valueAsNumber,u.value,M,T]),Ye(()=>{if(!P.current)return;if(P.current.value!=u.value){const c=z(P.current.value);u.setValue(H(c))}},[z,H]);const W=a.useCallback((e=l)=>{G&&pe(e)},[pe,G,l]),X=a.useCallback((e=l)=>{G&&de(e)},[de,G,l]),I=ut(W,X);_e(fe,"disabled",I.stop,I.isSpinning),_e(be,"disabled",I.stop,I.isSpinning);const ve=a.useCallback(e=>{if(e.nativeEvent.isComposing)return;const v=z(e.currentTarget.value);j(H(v)),q.current={start:e.currentTarget.selectionStart,end:e.currentTarget.selectionEnd}},[j,H,z]),Ne=a.useCallback(e=>{var c,v,x;te==null||te(e),q.current&&(e.target.selectionStart=(v=q.current.start)!=null?v:(c=e.currentTarget.value)==null?void 0:c.length,e.currentTarget.selectionEnd=(x=q.current.end)!=null?x:e.currentTarget.selectionStart)},[te]),Ie=a.useCallback(e=>{if(e.nativeEvent.isComposing)return;lt(e,L)||e.preventDefault();const c=ge(e)*l,v=e.key,E={ArrowUp:()=>W(c),ArrowDown:()=>X(c),Home:()=>j(i),End:()=>j(s)}[v];E&&(e.preventDefault(),E(e))},[L,l,W,X,j,i,s]),ge=e=>{let c=1;return(e.metaKey||e.ctrlKey)&&(c=.1),e.shiftKey&&(c=10),c},xe=a.useMemo(()=>{const e=ne==null?void 0:ne(u.value);if(e!=null)return e;const c=u.value.toString();return c||void 0},[u.value,ne]),Ce=a.useCallback(()=>{let e=u.value;if(u.value==="")return;/^[eE]/.test(u.value.toString())?u.setValue(""):(u.valueAsNumber<i&&(e=i),u.valueAsNumber>s&&(e=s),u.cast(e))},[u,s,i]),ye=a.useCallback(()=>{re(!1),o&&Ce()},[o,re,Ce]),Y=a.useCallback(()=>{n&&requestAnimationFrame(()=>{var e;(e=P.current)==null||e.focus()})},[n]),he=a.useCallback(e=>{e.preventDefault(),I.up(),Y()},[Y,I]),Se=a.useCallback(e=>{e.preventDefault(),I.down(),Y()},[Y,I]);We(()=>P.current,"wheel",e=>{var c,v;const E=((v=(c=P.current)==null?void 0:c.ownerDocument)!=null?v:document).activeElement===P.current;if(!g||!E)return;e.preventDefault();const O=ge(e)*l,Ae=Math.sign(e.deltaY);Ae===-1?W(O):Ae===1&&X(O)},{passive:!1});const Ue=a.useCallback((e={},c=null)=>{const v=b||r&&u.isAtMax;return{...e,ref:ue(c,fe),role:"button",tabIndex:-1,onPointerDown:y(e.onPointerDown,x=>{x.button!==0||v||he(x)}),onPointerLeave:y(e.onPointerLeave,I.stop),onPointerUp:y(e.onPointerUp,I.stop),disabled:v,"aria-disabled":ae(v)}},[u.isAtMax,r,he,I.stop,b]),Le=a.useCallback((e={},c=null)=>{const v=b||r&&u.isAtMin;return{...e,ref:ue(c,be),role:"button",tabIndex:-1,onPointerDown:y(e.onPointerDown,x=>{x.button!==0||v||Se(x)}),onPointerLeave:y(e.onPointerLeave,I.stop),onPointerUp:y(e.onPointerUp,I.stop),disabled:v,"aria-disabled":ae(v)}},[u.isAtMin,r,Se,I.stop,b]),Ge=a.useCallback((e={},c=null)=>{var v,x,E,O;return{name:A,inputMode:S,type:"text",pattern:w,"aria-labelledby":U,"aria-label":K,"aria-describedby":B,id:V,disabled:b,...e,readOnly:(v=e.readOnly)!=null?v:d,"aria-readonly":(x=e.readOnly)!=null?x:d,"aria-required":(E=e.required)!=null?E:N,required:(O=e.required)!=null?O:N,ref:ue(P,c),value:M(u.value),role:"spinbutton","aria-valuemin":i,"aria-valuemax":s,"aria-valuenow":Number.isNaN(u.valueAsNumber)?void 0:u.valueAsNumber,"aria-invalid":ae(h??u.isOutOfRange),"aria-valuetext":xe,autoComplete:"off",autoCorrect:"off",onChange:y(e.onChange,ve),onKeyDown:y(e.onKeyDown,Ie),onFocus:y(e.onFocus,Ne,()=>re(!0)),onBlur:y(e.onBlur,me,ye)}},[A,S,w,U,K,M,B,V,b,N,d,h,u.value,u.valueAsNumber,u.isOutOfRange,i,s,xe,ve,Ie,Ne,me,ye]);return{value:M(u.value),valueAsNumber:u.valueAsNumber,isFocused:Ke,isDisabled:b,isReadOnly:d,getIncrementButtonProps:Ue,getDecrementButtonProps:Le,getInputProps:Ge,htmlProps:ee}}var[ct,J]=Fe({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[mt,oe]=Fe({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),Me=F(function(n,o){const r=qe("NumberInput",n),i=He(n),s=$e(i),{htmlProps:l,...d}=it(s),b=a.useMemo(()=>d,[d]);return f.jsx(mt,{value:b,children:f.jsx(ct,{value:r,children:f.jsx($.div,{...l,ref:o,className:ke("chakra-numberinput",n.className),__css:{position:"relative",zIndex:0,...r.root}})})})});Me.displayName="NumberInput";var Te=F(function(n,o){const r=J();return f.jsx($.div,{"aria-hidden":!0,ref:o,...n,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...r.stepperGroup}})});Te.displayName="NumberInputStepper";var je=F(function(n,o){const{getInputProps:r}=oe(),i=r(n,o),s=J();return f.jsx($.input,{...i,className:ke("chakra-numberinput__field",n.className),__css:{width:"100%",...s.field}})});je.displayName="NumberInputField";var Oe=$("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),Ve=F(function(n,o){var r;const i=J(),{getDecrementButtonProps:s}=oe(),l=s(n,o);return f.jsx(Oe,{...l,__css:i.stepper,children:(r=n.children)!=null?r:f.jsx(tt,{})})});Ve.displayName="NumberDecrementStepper";var Be=F(function(n,o){var r;const{getIncrementButtonProps:i}=oe(),s=i(n,o),l=J();return f.jsx(Oe,{...s,__css:l.stepper,children:(r=n.children)!=null?r:f.jsx(nt,{})})});Be.displayName="NumberIncrementStepper";const le=F((t,n)=>f.jsx(je,{ref:n,...t}));le.displayName="NumberInputField";le.id="Input";const pt=F((t,n)=>{const{hideStepper:o=!1,incrementIcon:r=f.jsx(Je,{}),decrementIcon:i=f.jsx(Qe,{}),leftAddon:s,rightAddon:l,placeholder:d,fieldProps:b,...N}=t,h={placeholder:d,...b};return f.jsxs(Me,{...N,ref:n,children:[f.jsxs(Ze,{children:[s,f.jsx(le,{...h}),l]}),!o&&!l?f.jsxs(Te,{children:[f.jsx(Be,{children:r}),f.jsx(Ve,{children:i})]}):null]})});pt.displayName="NumberInput";export{pt as N};
