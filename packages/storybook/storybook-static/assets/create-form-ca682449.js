import{f as $,a as wr,o as it,j as F,b as Ne,g as nt,e as at,c as je,u as Cr,i as jr,p as kr,r as Dr}from"./chunk-ZJJGQIVY-3d316dd5.js";import{R as A,r as H}from"./index-76fb7be0.js";import{c as Nt}from"./chunk-O3SWHQEE-d6839529.js";import{u as Pt,F as Lt,a as Er}from"./chunk-DFWC5MHP-a7a26ffe.js";import{I as Rr}from"./chunk-2GBDXOMA-c3ee5274.js";import{c as Ir}from"./index-7abe7895.js";import{F as Bt}from"./chunk-H46NUPBZ-200868d1.js";import{B as Nr}from"./chunk-PULVB27S-e893e50c.js";import{u as Ot}from"./chunk-AZVKQZKI-601f6f7e.js";import{N as Pr}from"./number-input-19cdb65d.js";import{P as Lr}from"./password-input-a2c4f82c.js";import{u as Br}from"./chunk-56K2BSAJ-a2503b05.js";import{S as Or}from"./chunk-VTV6N5LE-65c458b7.js";import{S as Mr,a as Ur,b as Tr}from"./select-c1165209.js";import{C as $r}from"./chunk-CWVAJCXJ-22427db6.js";import{R as qr}from"./radio-input-cf776e5a.js";import{N as Hr}from"./native-select-327410ce.js";import{H as Wr}from"./chunk-3ASUQ6PA-012a436b.js";import{P as Gr,a as Zr}from"./chunk-I5V4ORUK-e3ad9ce2.js";import{I as Kr}from"./chunk-6CVSDS6C-58dff80d.js";import{I as zr}from"./chunk-2ZHRCML3-0a67530c.js";import{S as Jr}from"./chunk-NEK3OOAM-0db4f6d4.js";import{m as Mt}from"./utils-13c12efa.js";import{c as Ut}from"./chunk-ITIKTQWJ-0c049f00.js";import{P as Qr,M as Xr}from"./icons-d10032f4.js";import{B as lt}from"./chunk-UVUR7MCU-4e62fe64.js";var[Yr,es]=Ir({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),Tt=$((e,s)=>{const t=wr("FormError",e),r=it(e),i=Pt();return i!=null&&i.isInvalid?F.jsx(Yr,{value:t,children:F.jsx(Ne.div,{...i==null?void 0:i.getErrorMessageProps(r,s),className:nt("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...t.text}})}):null});Tt.displayName="FormErrorMessage";var ts=$((e,s)=>{const t=es(),r=Pt();if(!(r!=null&&r.isInvalid))return null;const i=nt("chakra-form__error-icon",e.className);return F.jsx(Rr,{ref:s,"aria-hidden":!0,...e,__css:t.icon,className:i,children:F.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});ts.displayName="FormErrorIcon";function rs(e,s=[]){const t=Object.assign({},e);for(const r of s)r in t&&delete t[r];return t}var ss=["h","minH","height","minHeight"],$t=$((e,s)=>{const t=at("Textarea",e),{className:r,rows:i,...a}=it(e),o=Br(a),d=i?rs(t,ss):t;return F.jsx(Ne.textarea,{ref:s,rows:i,...o,className:nt("chakra-textarea",r),__css:d})});$t.displayName="Textarea";var Ae=e=>e.type==="checkbox",ge=e=>e instanceof Date,q=e=>e==null;const qt=e=>typeof e=="object";var B=e=>!q(e)&&!Array.isArray(e)&&qt(e)&&!ge(e),Ht=e=>B(e)&&e.target?Ae(e.target)?e.target.checked:e.target.value:e,is=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Wt=(e,s)=>e.has(is(s)),ns=e=>{const s=e.constructor&&e.constructor.prototype;return B(s)&&s.hasOwnProperty("isPrototypeOf")},ot=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function L(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(ot&&(e instanceof Blob||e instanceof FileList))&&(t||B(e)))if(s=t?[]:{},!t&&!ns(e))s=e;else for(const r in e)e.hasOwnProperty(r)&&(s[r]=L(e[r]));else return e;return s}var xe=e=>Array.isArray(e)?e.filter(Boolean):[],R=e=>e===void 0,y=(e,s,t)=>{if(!s||!B(e))return t;const r=xe(s.split(/[,[\].]+?/)).reduce((i,a)=>q(i)?i:i[a],e);return R(r)||r===e?R(e[s])?t:e[s]:r},re=e=>typeof e=="boolean";const ke={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ee={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},le={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gt=A.createContext(null),ve=()=>A.useContext(Gt),as=e=>{const{children:s,...t}=e;return A.createElement(Gt.Provider,{value:t},s)};var Zt=(e,s,t,r=!0)=>{const i={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return s._proxyFormState[o]!==ee.all&&(s._proxyFormState[o]=!r||ee.all),t&&(t[o]=!0),e[o]}});return i},J=e=>B(e)&&!Object.keys(e).length,Kt=(e,s,t,r)=>{t(e);const{name:i,...a}=e;return J(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(o=>s[o]===(!r||ee.all))},Q=e=>Array.isArray(e)?e:[e],zt=(e,s,t)=>!e||!s||e===s||Q(e).some(r=>r&&(t?r===s:r.startsWith(s)||s.startsWith(r)));function Pe(e){const s=A.useRef(e);s.current=e,A.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function ls(e){const s=ve(),{control:t=s.control,disabled:r,name:i,exact:a}=e||{},[o,d]=A.useState(t._formState),c=A.useRef(!0),V=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),v=A.useRef(i);return v.current=i,Pe({disabled:r,next:_=>c.current&&zt(v.current,_.name,a)&&Kt(_,V.current,t._updateFormState)&&d({...t._formState,..._}),subject:t._subjects.state}),A.useEffect(()=>(c.current=!0,V.current.isValid&&t._updateValid(!0),()=>{c.current=!1}),[t]),Zt(o,t,V.current,!1)}var ne=e=>typeof e=="string",Jt=(e,s,t,r,i)=>ne(e)?(r&&s.watch.add(e),y(t,e,i)):Array.isArray(e)?e.map(a=>(r&&s.watch.add(a),y(t,a))):(r&&(s.watchAll=!0),t);function Qt(e){const s=ve(),{control:t=s.control,name:r,defaultValue:i,disabled:a,exact:o}=e||{},d=A.useRef(r);d.current=r,Pe({disabled:a,subject:t._subjects.values,next:v=>{zt(d.current,v.name,o)&&V(L(Jt(d.current,t._names,v.values||t._formValues,!1,i)))}});const[c,V]=A.useState(t._getWatch(r,i));return A.useEffect(()=>t._removeUnmounted()),c}var ut=e=>/^\w*$/.test(e),Xt=e=>xe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),D=(e,s,t)=>{let r=-1;const i=ut(s)?[s]:Xt(s),a=i.length,o=a-1;for(;++r<a;){const d=i[r];let c=t;if(r!==o){const V=e[d];c=B(V)||Array.isArray(V)?V:isNaN(+i[r+1])?{}:[]}e[d]=c,e=e[d]}return e};function os(e){const s=ve(),{name:t,disabled:r,control:i=s.control,shouldUnregister:a}=e,o=Wt(i._names.array,t),d=Qt({control:i,name:t,defaultValue:y(i._formValues,t,y(i._defaultValues,t,e.defaultValue)),exact:!0}),c=ls({control:i,name:t}),V=A.useRef(i.register(t,{...e.rules,value:d,...re(e.disabled)?{disabled:e.disabled}:{}}));return A.useEffect(()=>{const v=i._options.shouldUnregister||a,_=(h,I)=>{const N=y(i._fields,h);N&&(N._f.mount=I)};if(_(t,!0),v){const h=L(y(i._options.defaultValues,t));D(i._defaultValues,t,h),R(y(i._formValues,t))&&D(i._formValues,t,h)}return()=>{(o?v&&!i._state.action:v)?i.unregister(t):_(t,!1)}},[t,i,o,a]),A.useEffect(()=>{y(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:y(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:d,...re(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:A.useCallback(v=>V.current.onChange({target:{value:Ht(v),name:t},type:ke.CHANGE}),[t]),onBlur:A.useCallback(()=>V.current.onBlur({target:{value:y(i._formValues,t),name:t},type:ke.BLUR}),[t,i]),ref:v=>{const _=y(i._fields,t);_&&v&&(_._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:h=>v.setCustomValidity(h),reportValidity:()=>v.reportValidity()})}},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(c.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(c.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(c.touchedFields,t)},error:{enumerable:!0,get:()=>y(c.errors,t)}})}}const us=e=>e.render(os(e));var cs=(e,s,t,r,i)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:i||!0}}:{},ue=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const t=(Math.random()*16+e)%16|0;return(s=="x"?t:t&3|8).toString(16)})},qe=(e,s,t={})=>t.shouldFocus||R(t.shouldFocus)?t.focusName||`${e}.${R(t.focusIndex)?s:t.focusIndex}.`:"",pe=e=>({isOnSubmit:!e||e===ee.onSubmit,isOnBlur:e===ee.onBlur,isOnChange:e===ee.onChange,isOnAll:e===ee.all,isOnTouch:e===ee.onTouched}),tt=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Fe=(e,s,t,r)=>{for(const i of t||Object.keys(e)){const a=y(e,i);if(a){const{_f:o,...d}=a;if(o){if(o.refs&&o.refs[0]&&s(o.refs[0],i)&&!r)break;if(o.ref&&s(o.ref,o.name)&&!r)break;Fe(d,s)}else B(d)&&Fe(d,s)}}};var Yt=(e,s,t)=>{const r=xe(y(e,t));return D(r,"root",s[t]),D(e,t,r),e},ct=e=>e.type==="file",ce=e=>typeof e=="function",De=e=>{if(!ot)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Ce=e=>ne(e),dt=e=>e.type==="radio",Ee=e=>e instanceof RegExp;const Ct={value:!1,isValid:!1},jt={value:!0,isValid:!0};var er=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||e[0].value===""?jt:{value:e[0].value,isValid:!0}:jt:Ct}return Ct};const kt={isValid:!1,value:null};var tr=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,kt):kt;function Dt(e,s,t="validate"){if(Ce(e)||Array.isArray(e)&&e.every(Ce)||re(e)&&!e)return{type:t,message:Ce(e)?e:"",ref:s}}var me=e=>B(e)&&!Ee(e)?e:{value:e,message:""},rt=async(e,s,t,r,i)=>{const{ref:a,refs:o,required:d,maxLength:c,minLength:V,min:v,max:_,pattern:h,validate:I,name:N,valueAsNumber:X,mount:te,disabled:T}=e._f,w=y(s,N);if(!te||T)return{};const z=o?o[0]:a,W=j=>{r&&z.reportValidity&&(z.setCustomValidity(re(j)?"":j||""),z.reportValidity())},x={},b=dt(a),S=Ae(a),k=b||S,O=(X||ct(a))&&R(a.value)&&R(w)||De(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,G=cs.bind(null,N,t,x),Z=(j,C,P,K=le.maxLength,Y=le.minLength)=>{const se=j?C:P;x[N]={type:j?K:Y,message:se,ref:a,...G(j?K:Y,se)}};if(i?!Array.isArray(w)||!w.length:d&&(!k&&(O||q(w))||re(w)&&!w||S&&!er(o).isValid||b&&!tr(o).isValid)){const{value:j,message:C}=Ce(d)?{value:!!d,message:d}:me(d);if(j&&(x[N]={type:le.required,message:C,ref:z,...G(le.required,C)},!t))return W(C),x}if(!O&&(!q(v)||!q(_))){let j,C;const P=me(_),K=me(v);if(!q(w)&&!isNaN(w)){const Y=a.valueAsNumber||w&&+w;q(P.value)||(j=Y>P.value),q(K.value)||(C=Y<K.value)}else{const Y=a.valueAsDate||new Date(w),se=Se=>new Date(new Date().toDateString()+" "+Se),de=a.type=="time",_e=a.type=="week";ne(P.value)&&w&&(j=de?se(w)>se(P.value):_e?w>P.value:Y>new Date(P.value)),ne(K.value)&&w&&(C=de?se(w)<se(K.value):_e?w<K.value:Y<new Date(K.value))}if((j||C)&&(Z(!!j,P.message,K.message,le.max,le.min),!t))return W(x[N].message),x}if((c||V)&&!O&&(ne(w)||i&&Array.isArray(w))){const j=me(c),C=me(V),P=!q(j.value)&&w.length>+j.value,K=!q(C.value)&&w.length<+C.value;if((P||K)&&(Z(P,j.message,C.message),!t))return W(x[N].message),x}if(h&&!O&&ne(w)){const{value:j,message:C}=me(h);if(Ee(j)&&!w.match(j)&&(x[N]={type:le.pattern,message:C,ref:a,...G(le.pattern,C)},!t))return W(C),x}if(I){if(ce(I)){const j=await I(w,s),C=Dt(j,z);if(C&&(x[N]={...C,...G(le.validate,C.message)},!t))return W(C.message),x}else if(B(I)){let j={};for(const C in I){if(!J(j)&&!t)break;const P=Dt(await I[C](w,s),z,C);P&&(j={...P,...G(C,P.message)},W(P.message),t&&(x[N]=j))}if(!J(j)&&(x[N]={ref:z,...j},!t))return x}}return W(!0),x},He=(e,s)=>[...e,...Q(s)],We=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ge(e,s,t){return[...e.slice(0,s),...Q(t),...e.slice(s)]}var Ze=(e,s,t)=>Array.isArray(e)?(R(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(s,1)[0]),e):[],Ke=(e,s)=>[...Q(s),...Q(e)];function ds(e,s){let t=0;const r=[...e];for(const i of s)r.splice(i-t,1),t++;return xe(r).length?r:[]}var ze=(e,s)=>R(s)?[]:ds(e,Q(s).sort((t,r)=>t-r)),Je=(e,s,t)=>{[e[s],e[t]]=[e[t],e[s]]};function fs(e,s){const t=s.slice(0,-1).length;let r=0;for(;r<t;)e=R(e)?r++:e[s[r++]];return e}function ys(e){for(const s in e)if(e.hasOwnProperty(s)&&!R(e[s]))return!1;return!0}function U(e,s){const t=Array.isArray(s)?s:ut(s)?[s]:Xt(s),r=t.length===1?e:fs(e,t),i=t.length-1,a=t[i];return r&&delete r[a],i!==0&&(B(r)&&J(r)||Array.isArray(r)&&ys(r))&&U(e,t.slice(0,-1)),e}var Et=(e,s,t)=>(e[s]=t,e);function ms(e){const s=ve(),{control:t=s.control,name:r,keyName:i="id",shouldUnregister:a}=e,[o,d]=A.useState(t._getFieldArray(r)),c=A.useRef(t._getFieldArray(r).map(ue)),V=A.useRef(o),v=A.useRef(r),_=A.useRef(!1);v.current=r,V.current=o,t._names.array.add(r),e.rules&&t.register(r,e.rules),Pe({next:({values:x,name:b})=>{if(b===v.current||!b){const S=y(x,v.current);Array.isArray(S)&&(d(S),c.current=S.map(ue))}},subject:t._subjects.array});const h=A.useCallback(x=>{_.current=!0,t._updateFieldArray(r,x)},[t,r]),I=(x,b)=>{const S=Q(L(x)),k=He(t._getFieldArray(r),S);t._names.focus=qe(r,k.length-1,b),c.current=He(c.current,S.map(ue)),h(k),d(k),t._updateFieldArray(r,k,He,{argA:We(x)})},N=(x,b)=>{const S=Q(L(x)),k=Ke(t._getFieldArray(r),S);t._names.focus=qe(r,0,b),c.current=Ke(c.current,S.map(ue)),h(k),d(k),t._updateFieldArray(r,k,Ke,{argA:We(x)})},X=x=>{const b=ze(t._getFieldArray(r),x);c.current=ze(c.current,x),h(b),d(b),t._updateFieldArray(r,b,ze,{argA:x})},te=(x,b,S)=>{const k=Q(L(b)),O=Ge(t._getFieldArray(r),x,k);t._names.focus=qe(r,x,S),c.current=Ge(c.current,x,k.map(ue)),h(O),d(O),t._updateFieldArray(r,O,Ge,{argA:x,argB:We(b)})},T=(x,b)=>{const S=t._getFieldArray(r);Je(S,x,b),Je(c.current,x,b),h(S),d(S),t._updateFieldArray(r,S,Je,{argA:x,argB:b},!1)},w=(x,b)=>{const S=t._getFieldArray(r);Ze(S,x,b),Ze(c.current,x,b),h(S),d(S),t._updateFieldArray(r,S,Ze,{argA:x,argB:b},!1)},z=(x,b)=>{const S=L(b),k=Et(t._getFieldArray(r),x,S);c.current=[...k].map((O,G)=>!O||G===x?ue():c.current[G]),h(k),d([...k]),t._updateFieldArray(r,k,Et,{argA:x,argB:S},!0,!1)},W=x=>{const b=Q(L(x));c.current=b.map(ue),h([...b]),d([...b]),t._updateFieldArray(r,[...b],S=>S,{},!0,!1)};return A.useEffect(()=>{if(t._state.action=!1,tt(r,t._names)&&t._subjects.state.next({...t._formState}),_.current&&(!pe(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([r]).then(x=>{const b=y(x.errors,r),S=y(t._formState.errors,r);(S?!b&&S.type||b&&(S.type!==b.type||S.message!==b.message):b&&b.type)&&(b?D(t._formState.errors,r,b):U(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const x=y(t._fields,r);x&&x._f&&!(pe(t._options.reValidateMode).isOnSubmit&&pe(t._options.mode).isOnSubmit)&&rt(x,t._formValues,t._options.criteriaMode===ee.all,t._options.shouldUseNativeValidation,!0).then(b=>!J(b)&&t._subjects.state.next({errors:Yt(t._formState.errors,b,r)}))}t._subjects.values.next({name:r,values:{...t._formValues}}),t._names.focus&&Fe(t._fields,(x,b)=>{if(t._names.focus&&b.startsWith(t._names.focus)&&x.focus)return x.focus(),1}),t._names.focus="",t._updateValid(),_.current=!1},[o,r,t]),A.useEffect(()=>(!y(t._formValues,r)&&t._updateFieldArray(r),()=>{(t._options.shouldUnregister||a)&&t.unregister(r)}),[r,t,i,a]),{swap:A.useCallback(T,[h,r,t]),move:A.useCallback(w,[h,r,t]),prepend:A.useCallback(N,[h,r,t]),append:A.useCallback(I,[h,r,t]),remove:A.useCallback(X,[h,r,t]),insert:A.useCallback(te,[h,r,t]),update:A.useCallback(z,[h,r,t]),replace:A.useCallback(W,[h,r,t]),fields:A.useMemo(()=>o.map((x,b)=>({...x,[i]:c.current[b]||ue()})),[o,i])}}var Qe=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Re=e=>q(e)||!qt(e);function fe(e,s){if(Re(e)||Re(s))return e===s;if(ge(e)&&ge(s))return e.getTime()===s.getTime();const t=Object.keys(e),r=Object.keys(s);if(t.length!==r.length)return!1;for(const i of t){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=s[i];if(ge(a)&&ge(o)||B(a)&&B(o)||Array.isArray(a)&&Array.isArray(o)?!fe(a,o):a!==o)return!1}}return!0}var rr=e=>e.type==="select-multiple",hs=e=>dt(e)||Ae(e),Xe=e=>De(e)&&e.isConnected,sr=e=>{for(const s in e)if(ce(e[s]))return!0;return!1};function Ie(e,s={}){const t=Array.isArray(e);if(B(e)||t)for(const r in e)Array.isArray(e[r])||B(e[r])&&!sr(e[r])?(s[r]=Array.isArray(e[r])?[]:{},Ie(e[r],s[r])):q(e[r])||(s[r]=!0);return s}function ir(e,s,t){const r=Array.isArray(e);if(B(e)||r)for(const i in e)Array.isArray(e[i])||B(e[i])&&!sr(e[i])?R(s)||Re(t[i])?t[i]=Array.isArray(e[i])?Ie(e[i],[]):{...Ie(e[i])}:ir(e[i],q(s)?{}:s[i],t[i]):t[i]=!fe(e[i],s[i]);return t}var we=(e,s)=>ir(e,s,Ie(s)),nr=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>R(e)?e:s?e===""?NaN:e&&+e:t&&ne(e)?new Date(e):r?r(e):e;function Ye(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return ct(s)?s.files:dt(s)?tr(e.refs).value:rr(s)?[...s.selectedOptions].map(({value:t})=>t):Ae(s)?er(e.refs).value:nr(R(s.value)?e.ref.value:s.value,e)}var gs=(e,s,t,r)=>{const i={};for(const a of e){const o=y(s,a);o&&D(i,a,o._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:r}},be=e=>R(e)?e:Ee(e)?e.source:B(e)?Ee(e.value)?e.value.source:e.value:e,Fs=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Rt(e,s,t){const r=y(e,t);if(r||ut(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const a=i.join("."),o=y(s,a),d=y(e,a);if(o&&!Array.isArray(o)&&t!==a)return{name:t};if(d&&d.type)return{name:a,error:d};i.pop()}return{name:t}}var xs=(e,s,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(s||e):(t?r.isOnBlur:i.isOnBlur)?!e:(t?r.isOnChange:i.isOnChange)?e:!0,vs=(e,s)=>!xe(y(e,s)).length&&U(e,s);const _s={mode:ee.onSubmit,reValidateMode:ee.onChange,shouldFocusError:!0};function bs(e={},s){let t={..._s,...e},r={submitCount:0,isDirty:!1,isLoading:ce(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},a=B(t.values)||B(t.defaultValues)?L(t.values||t.defaultValues)||{}:{},o=t.shouldUnregister?{}:L(a),d={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},V,v=0;const _={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Qe(),array:Qe(),state:Qe()},I=pe(t.mode),N=pe(t.reValidateMode),X=t.criteriaMode===ee.all,te=n=>l=>{clearTimeout(v),v=setTimeout(n,l)},T=async n=>{if(_.isValid||n){const l=t.resolver?J((await O()).errors):await Z(i,!0);l!==r.isValid&&h.state.next({isValid:l})}},w=n=>_.isValidating&&h.state.next({isValidating:n}),z=(n,l=[],u,g,m=!0,f=!0)=>{if(g&&u){if(d.action=!0,f&&Array.isArray(y(i,n))){const p=u(y(i,n),g.argA,g.argB);m&&D(i,n,p)}if(f&&Array.isArray(y(r.errors,n))){const p=u(y(r.errors,n),g.argA,g.argB);m&&D(r.errors,n,p),vs(r.errors,n)}if(_.touchedFields&&f&&Array.isArray(y(r.touchedFields,n))){const p=u(y(r.touchedFields,n),g.argA,g.argB);m&&D(r.touchedFields,n,p)}_.dirtyFields&&(r.dirtyFields=we(a,o)),h.state.next({name:n,isDirty:C(n,l),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else D(o,n,l)},W=(n,l)=>{D(r.errors,n,l),h.state.next({errors:r.errors})},x=n=>{r.errors=n,h.state.next({errors:r.errors,isValid:!1})},b=(n,l,u,g)=>{const m=y(i,n);if(m){const f=y(o,n,R(u)?y(a,n):u);R(f)||g&&g.defaultChecked||l?D(o,n,l?f:Ye(m._f)):Y(n,f),d.mount&&T()}},S=(n,l,u,g,m)=>{let f=!1,p=!1;const E={name:n},M=!!(y(i,n)&&y(i,n)._f.disabled);if(!u||g){_.isDirty&&(p=r.isDirty,r.isDirty=E.isDirty=C(),f=p!==E.isDirty);const ie=M||fe(y(a,n),l);p=!!(!M&&y(r.dirtyFields,n)),ie||M?U(r.dirtyFields,n):D(r.dirtyFields,n,!0),E.dirtyFields=r.dirtyFields,f=f||_.dirtyFields&&p!==!ie}if(u){const ie=y(r.touchedFields,n);ie||(D(r.touchedFields,n,u),E.touchedFields=r.touchedFields,f=f||_.touchedFields&&ie!==u)}return f&&m&&h.state.next(E),f?E:{}},k=(n,l,u,g)=>{const m=y(r.errors,n),f=_.isValid&&re(l)&&r.isValid!==l;if(e.delayError&&u?(V=te(()=>W(n,u)),V(e.delayError)):(clearTimeout(v),V=null,u?D(r.errors,n,u):U(r.errors,n)),(u?!fe(m,u):m)||!J(g)||f){const p={...g,...f&&re(l)?{isValid:l}:{},errors:r.errors,name:n};r={...r,...p},h.state.next(p)}w(!1)},O=async n=>t.resolver(o,t.context,gs(n||c.mount,i,t.criteriaMode,t.shouldUseNativeValidation)),G=async n=>{const{errors:l}=await O(n);if(n)for(const u of n){const g=y(l,u);g?D(r.errors,u,g):U(r.errors,u)}else r.errors=l;return l},Z=async(n,l,u={valid:!0})=>{for(const g in n){const m=n[g];if(m){const{_f:f,...p}=m;if(f){const E=c.array.has(f.name),M=await rt(m,o,X,t.shouldUseNativeValidation&&!l,E);if(M[f.name]&&(u.valid=!1,l))break;!l&&(y(M,f.name)?E?Yt(r.errors,M,f.name):D(r.errors,f.name,M[f.name]):U(r.errors,f.name))}p&&await Z(p,l,u)}}return u.valid},j=()=>{for(const n of c.unMount){const l=y(i,n);l&&(l._f.refs?l._f.refs.every(u=>!Xe(u)):!Xe(l._f.ref))&&Me(n)}c.unMount=new Set},C=(n,l)=>(n&&l&&D(o,n,l),!fe(Ft(),a)),P=(n,l,u)=>Jt(n,c,{...d.mount?o:R(l)?a:ne(n)?{[n]:l}:l},u,l),K=n=>xe(y(d.mount?o:a,n,e.shouldUnregister?y(a,n,[]):[])),Y=(n,l,u={})=>{const g=y(i,n);let m=l;if(g){const f=g._f;f&&(!f.disabled&&D(o,n,nr(l,f)),m=De(f.ref)&&q(l)?"":l,rr(f.ref)?[...f.ref.options].forEach(p=>p.selected=m.includes(p.value)):f.refs?Ae(f.ref)?f.refs.length>1?f.refs.forEach(p=>(!p.defaultChecked||!p.disabled)&&(p.checked=Array.isArray(m)?!!m.find(E=>E===p.value):m===p.value)):f.refs[0]&&(f.refs[0].checked=!!m):f.refs.forEach(p=>p.checked=p.value===m):ct(f.ref)?f.ref.value="":(f.ref.value=m,f.ref.type||h.values.next({name:n,values:{...o}})))}(u.shouldDirty||u.shouldTouch)&&S(n,m,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&Oe(n)},se=(n,l,u)=>{for(const g in l){const m=l[g],f=`${n}.${g}`,p=y(i,f);(c.array.has(n)||!Re(m)||p&&!p._f)&&!ge(m)?se(f,m,u):Y(f,m,u)}},de=(n,l,u={})=>{const g=y(i,n),m=c.array.has(n),f=L(l);D(o,n,f),m?(h.array.next({name:n,values:{...o}}),(_.isDirty||_.dirtyFields)&&u.shouldDirty&&h.state.next({name:n,dirtyFields:we(a,o),isDirty:C(n,f)})):g&&!g._f&&!q(f)?se(n,f,u):Y(n,f,u),tt(n,c)&&h.state.next({...r}),h.values.next({name:n,values:{...o}}),!d.mount&&s()},_e=async n=>{const l=n.target;let u=l.name,g=!0;const m=y(i,u),f=()=>l.type?Ye(m._f):Ht(n),p=E=>{g=Number.isNaN(E)||E===y(o,u,E)};if(m){let E,M;const ie=f(),ye=n.type===ke.BLUR||n.type===ke.FOCUS_OUT,Ar=!Fs(m._f)&&!t.resolver&&!y(r.errors,u)&&!m._f.deps||xs(ye,y(r.touchedFields,u),r.isSubmitted,N,I),Te=tt(u,c,ye);D(o,u,ie),ye?(m._f.onBlur&&m._f.onBlur(n),V&&V(0)):m._f.onChange&&m._f.onChange(n);const $e=S(u,ie,ye,!1),Vr=!J($e)||Te;if(!ye&&h.values.next({name:u,type:n.type,values:{...o}}),Ar)return _.isValid&&T(),Vr&&h.state.next({name:u,...Te?{}:$e});if(!ye&&Te&&h.state.next({...r}),w(!0),t.resolver){const{errors:St}=await O([u]);if(p(ie),g){const Sr=Rt(r.errors,i,u),wt=Rt(St,i,Sr.name||u);E=wt.error,u=wt.name,M=J(St)}}else E=(await rt(m,o,X,t.shouldUseNativeValidation))[u],p(ie),g&&(E?M=!1:_.isValid&&(M=await Z(i,!0)));g&&(m._f.deps&&Oe(m._f.deps),k(u,M,E,$e))}},Se=(n,l)=>{if(y(r.errors,l)&&n.focus)return n.focus(),1},Oe=async(n,l={})=>{let u,g;const m=Q(n);if(w(!0),t.resolver){const f=await G(R(n)?n:m);u=J(f),g=n?!m.some(p=>y(f,p)):u}else n?(g=(await Promise.all(m.map(async f=>{const p=y(i,f);return await Z(p&&p._f?{[f]:p}:p)}))).every(Boolean),!(!g&&!r.isValid)&&T()):g=u=await Z(i);return h.state.next({...!ne(n)||_.isValid&&u!==r.isValid?{}:{name:n},...t.resolver||!n?{isValid:u}:{},errors:r.errors,isValidating:!1}),l.shouldFocus&&!g&&Fe(i,Se,n?m:c.mount),g},Ft=n=>{const l={...a,...d.mount?o:{}};return R(n)?l:ne(n)?y(l,n):n.map(u=>y(l,u))},xt=(n,l)=>({invalid:!!y((l||r).errors,n),isDirty:!!y((l||r).dirtyFields,n),isTouched:!!y((l||r).touchedFields,n),error:y((l||r).errors,n)}),vr=n=>{n&&Q(n).forEach(l=>U(r.errors,l)),h.state.next({errors:n?r.errors:{}})},vt=(n,l,u)=>{const g=(y(i,n,{_f:{}})._f||{}).ref;D(r.errors,n,{...l,ref:g}),h.state.next({name:n,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&g&&g.focus&&g.focus()},_r=(n,l)=>ce(n)?h.values.subscribe({next:u=>n(P(void 0,l),u)}):P(n,l,!0),Me=(n,l={})=>{for(const u of n?Q(n):c.mount)c.mount.delete(u),c.array.delete(u),l.keepValue||(U(i,u),U(o,u)),!l.keepError&&U(r.errors,u),!l.keepDirty&&U(r.dirtyFields,u),!l.keepTouched&&U(r.touchedFields,u),!t.shouldUnregister&&!l.keepDefaultValue&&U(a,u);h.values.next({values:{...o}}),h.state.next({...r,...l.keepDirty?{isDirty:C()}:{}}),!l.keepIsValid&&T()},_t=({disabled:n,name:l,field:u,fields:g,value:m})=>{if(re(n)){const f=n?void 0:R(m)?Ye(u?u._f:y(g,l)._f):m;D(o,l,f),S(l,f,!1,!1,!0)}},Ue=(n,l={})=>{let u=y(i,n);const g=re(l.disabled);return D(i,n,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:n}},name:n,mount:!0,...l}}),c.mount.add(n),u?_t({field:u,disabled:l.disabled,name:n,value:l.value}):b(n,!0,l.value),{...g?{disabled:l.disabled}:{},...t.progressive?{required:!!l.required,min:be(l.min),max:be(l.max),minLength:be(l.minLength),maxLength:be(l.maxLength),pattern:be(l.pattern)}:{},name:n,onChange:_e,onBlur:_e,ref:m=>{if(m){Ue(n,l),u=y(i,n);const f=R(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,p=hs(f),E=u._f.refs||[];if(p?E.find(M=>M===f):f===u._f.ref)return;D(i,n,{_f:{...u._f,...p?{refs:[...E.filter(Xe),f,...Array.isArray(y(a,n))?[{}]:[]],ref:{type:f.type,name:n}}:{ref:f}}}),b(n,!1,void 0,f)}else u=y(i,n,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||l.shouldUnregister)&&!(Wt(c.array,n)&&d.action)&&c.unMount.add(n)}}},bt=()=>t.shouldFocusError&&Fe(i,Se,c.mount),br=n=>{re(n)&&(h.state.next({disabled:n}),Fe(i,(l,u)=>{let g=n;const m=y(i,u);m&&re(m._f.disabled)&&(g||(g=m._f.disabled)),l.disabled=g},0,!1))},pt=(n,l)=>async u=>{let g;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let m=L(o);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:f,values:p}=await O();r.errors=f,m=p}else await Z(i);if(U(r.errors,"root"),J(r.errors)){h.state.next({errors:{}});try{await n(m,u)}catch(f){g=f}}else l&&await l({...r.errors},u),bt(),setTimeout(bt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:J(r.errors)&&!g,submitCount:r.submitCount+1,errors:r.errors}),g)throw g},pr=(n,l={})=>{y(i,n)&&(R(l.defaultValue)?de(n,L(y(a,n))):(de(n,l.defaultValue),D(a,n,L(l.defaultValue))),l.keepTouched||U(r.touchedFields,n),l.keepDirty||(U(r.dirtyFields,n),r.isDirty=l.defaultValue?C(n,L(y(a,n))):C()),l.keepError||(U(r.errors,n),_.isValid&&T()),h.state.next({...r}))},At=(n,l={})=>{const u=n?L(n):a,g=L(u),m=n&&!J(n)?g:a;if(l.keepDefaultValues||(a=u),!l.keepValues){if(l.keepDirtyValues)for(const f of c.mount)y(r.dirtyFields,f)?D(m,f,y(o,f)):de(f,y(m,f));else{if(ot&&R(n))for(const f of c.mount){const p=y(i,f);if(p&&p._f){const E=Array.isArray(p._f.refs)?p._f.refs[0]:p._f.ref;if(De(E)){const M=E.closest("form");if(M){M.reset();break}}}}i={}}o=e.shouldUnregister?l.keepDefaultValues?L(a):{}:L(m),h.array.next({values:{...m}}),h.values.next({values:{...m}})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!d.mount&&s(),d.mount=!_.isValid||!!l.keepIsValid||!!l.keepDirtyValues,d.watch=!!e.shouldUnregister,h.state.next({submitCount:l.keepSubmitCount?r.submitCount:0,isDirty:l.keepDirty?r.isDirty:!!(l.keepDefaultValues&&!fe(n,a)),isSubmitted:l.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:l.keepDirtyValues?l.keepDefaultValues&&o?we(a,o):r.dirtyFields:l.keepDefaultValues&&n?we(a,n):{},touchedFields:l.keepTouched?r.touchedFields:{},errors:l.keepErrors?r.errors:{},isSubmitSuccessful:l.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Vt=(n,l)=>At(ce(n)?n(o):n,l);return{control:{register:Ue,unregister:Me,getFieldState:xt,handleSubmit:pt,setError:vt,_executeSchema:O,_getWatch:P,_getDirty:C,_updateValid:T,_removeUnmounted:j,_updateFieldArray:z,_updateDisabledField:_t,_getFieldArray:K,_reset:At,_resetDefaultValues:()=>ce(t.defaultValues)&&t.defaultValues().then(n=>{Vt(n,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:n=>{r={...r,...n}},_disableForm:br,_subjects:h,_proxyFormState:_,_setErrors:x,get _fields(){return i},get _formValues(){return o},get _state(){return d},set _state(n){d=n},get _defaultValues(){return a},get _names(){return c},set _names(n){c=n},get _formState(){return r},set _formState(n){r=n},get _options(){return t},set _options(n){t={...t,...n}}},trigger:Oe,register:Ue,handleSubmit:pt,watch:_r,setValue:de,getValues:Ft,reset:Vt,resetField:pr,clearErrors:vr,unregister:Me,setError:vt,setFocus:(n,l={})=>{const u=y(i,n),g=u&&u._f;if(g){const m=g.refs?g.refs[0]:g.ref;m.focus&&(m.focus(),l.shouldSelect&&m.select())}},getFieldState:xt}}function ps(e={}){const s=A.useRef(),t=A.useRef(),[r,i]=A.useState({isDirty:!1,isValidating:!1,isLoading:ce(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ce(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...bs(e,()=>i(o=>({...o}))),formState:r});const a=s.current.control;return a._options=e,Pe({subject:a._subjects.state,next:o=>{Kt(o,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),A.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),A.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),A.useEffect(()=>{e.values&&!fe(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),A.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),A.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),A.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),s.current.formState=Zt(r,a),s.current}const ar=H.createContext(null),oe=()=>{const e=H.useContext(ar);return{...ve(),...e}},Le=e=>{var r;const s=e==null?void 0:e.replace(/\.[0-9]/g,".$"),t=oe();return((r=t==null?void 0:t.fields)==null?void 0:r[s])||{}},As=e=>{const{children:s,fieldResolver:t,schema:r,fields:i,...a}=e;return F.jsx(as,{...a,children:F.jsx(ar.Provider,{value:{fieldResolver:t,schema:r,fields:i},children:s})})},ft=A.createContext(null),Vs=e=>F.jsx(ft.Provider,{value:e.value,children:e.children}),Ss=()=>A.useContext(ft),ws=(e,s)=>{var r;const t=A.useContext(ft);return((r=t==null?void 0:t.fields)==null?void 0:r[e])||s},st=(e,s)=>{const t={},r={...e};if(typeof s=="function")for(const i in e)s(i)&&(t[i]=e[i],delete r[i]);else for(const i of s)t[i]=e[i],delete r[i];return[t,r]},Cs=(e,s)=>y(s.errors,e),js=(e,s)=>y(s.touchedFields,e),ks=e=>{const[s]=st(e,["name","label","help","hideLabel"]),[t]=st(e,["id","direction","isDisabled","isInvalid","isReadOnly","isRequired"]),{formState:r}=oe(),i=Cs(s.name,r),a=js(s.name,r);return{...s,controlProps:t,error:i,touched:a}},yt=e=>{const{controlProps:s,label:t,help:r,hideLabel:i,error:a}=ks(e),o=!!a||s.isInvalid,{direction:d,...c}=s;return F.jsxs(Lt,{...c,isInvalid:o,variant:d==="row"?"horizontal":void 0,children:[t&&!i?F.jsx(Bt,{children:t}):null,F.jsxs(Nr,{children:[e.children,r&&!(a!=null&&a.message)?F.jsx(Er,{children:r}):null,(a==null?void 0:a.message)&&F.jsx(Tt,{children:a==null?void 0:a.message})]})]})};yt.displayName="BaseField";const Ds=(e,{displayName:s,hideLabel:t,getBaseField:r})=>{const i=$((a,o)=>{const{id:d,name:c,label:V,isRequired:v,rules:_}=a,h={required:v,..._},I=Ss(),N=(I==null?void 0:I.getBaseField)??r,{extraProps:X,BaseField:te}=N(),[,T]=st(a,["children","name","label","isRequired","isDisabled","isInvalid","isReadOnly","help","hideLabel"].concat(X));return F.jsx(te,{hideLabel:t,...a,children:F.jsx(e,{ref:o,id:d,name:c,label:t?V:void 0,...T,rules:h})})});return i.displayName=s,i},Es=e=>$(({name:s,rules:t,...r},i)=>{const{control:a}=oe(),o=r.onChange;return F.jsx(us,{name:s,control:a,rules:t,render:({field:{ref:d,...c}})=>F.jsx(e,{...c,...r,onChange:je(o,c.onChange),onBlur:je(r.onBlur,c.onBlur),ref:Ot(i,d)})})}),Rs=e=>$(({name:s,rules:t,...r},i)=>{const{register:a}=oe(),{ref:o,...d}=a(s,t),c=r.onChange;return F.jsx(e,{...d,...r,onChange:je(c,d.onChange),onBlur:je(r.onBlur,d.onBlur),ref:Ot(i,o)})}),ae=(e,s)=>{let t;return s!=null&&s.isControlled?t=Es(e):t=Rs(e),Ds(t,{displayName:`${e.displayName??"Custom"}Field`,hideLabel:s==null?void 0:s.hideLabel,getBaseField:()=>({extraProps:[],BaseField:yt})})},he=ae($(({type:e="text",leftAddon:s,rightAddon:t,size:r,...i},a)=>{const o=F.jsx(Kr,{type:e,size:r,...i,ref:a});return s||t?F.jsxs(zr,{size:r,children:[s,o,t]}):o})),Is=ae(Pr,{isControlled:!0}),Ns=ae($((e,s)=>F.jsx(Lr,{ref:s,...e}))),Ps=ae($t),Ls=ae($(({type:e,value:s,...t},r)=>F.jsx(Or,{isChecked:!!s,...t,ref:r})),{isControlled:!0}),Bs=ae($((e,s)=>{const{buttonProps:t,listProps:r,...i}=e;return F.jsxs(Mr,{ref:s,...i,children:[F.jsx(Ur,{...t}),F.jsx(Tr,{...r})]})}),{isControlled:!0}),Os=ae($(({label:e,type:s,...t},r)=>F.jsx($r,{ref:r,...t,children:e})),{hideLabel:!0}),Ms=ae(qr,{isControlled:!0}),Us=ae(Hr,{isControlled:!0}),Ts=ae($((e,s)=>{const{pinLength:t=4,pinType:r,spacing:i,...a}=e,o=[];for(let d=0;d<t;d++)o.push(F.jsx(Zr,{ref:s},d));return F.jsx(Wr,{spacing:i,children:F.jsx(Gr,{...a,type:r,children:o})})}),{isControlled:!0}),$s={text:he,email:he,url:he,phone:he,time:he,number:Is,password:Ns,textarea:Ps,switch:Ls,select:Bs,checkbox:Os,radio:Ms,pin:Ts,"native-select":Us},qs="text",mt=H.forwardRef((e,s)=>{const{type:t=qs,name:r}=e,i=Le(r),a=ws((i==null?void 0:i.type)||t,he);return F.jsx(a,{ref:s,...e,...i})}),Ve=({children:e,...s})=>{var o,d;const r=((d=(o=Cr().components)==null?void 0:o.SuiFormLayout)==null?void 0:d.defaultProps)??{spacing:4},i=at("SuiFormLayout",s),a=it({...r,...s});return F.jsx(Jr,{...a,className:Nt("sui-form__layout",s.className),sx:{...i,...s.sx},children:e})};Ve.displayName="FormLayout";const[Hs,Be]=Ut({name:"ArrayFieldContext"}),[Ws,lr]=Ut({name:"ArrayFieldRowContext"}),Gs=({name:e,defaultValue:s={},keyName:t,min:r,max:i})=>{const{control:a}=oe();return{...ms({control:a,name:e,keyName:t}),name:e,defaultValue:s,min:r,max:i}},Zs=({index:e})=>{const{clearErrors:s}=oe(),{name:t,remove:r,fields:i}=Be();return H.useEffect(()=>{s(t)},[]),{index:e,isFirst:e===0,isLast:e===i.length-1,name:`${t}.${e}`,remove:H.useCallback(()=>{s(t),r(e)},[e])}},Ks=()=>{const{isFirst:e,remove:s}=lr(),{min:t,fields:r}=Be(),i=e&&!!(t&&r.length<=t);return{onClick:()=>s(),isDisabled:i}},zs=()=>{const{append:e,defaultValue:s,max:t,fields:r}=Be(),i=!!(t&&r.length>=t);return{onClick:()=>e(s,{shouldFocus:!1}),isDisabled:i}},or=({children:e,index:s,...t})=>F.jsxs(cr,{index:s,children:[F.jsx(ur,{...t,children:e}),F.jsx(dr,{})]});or.displayName="ArrayFieldRow";const ur=({children:e,...s})=>{const{name:t}=lr();return F.jsx(Ve,{flex:"1",mr:"2",...s,children:Mt(t,e)})};ur.displayName="ArrayFieldRowFields";const cr=({children:e,index:s,...t})=>{const r=Zs({index:s}),i={display:"flex",flexDirection:"row",alignItems:"flex-end",width:"100%",mb:4};return F.jsx(Ws,{value:r,children:F.jsx(Ne.div,{...t,__css:i,children:e})})};cr.displayName="ArrayFieldRowContainer";const dr=e=>F.jsx(lt,{"aria-label":"Remove row",...Ks(),...e,children:e.children||F.jsx(Xr,{})});dr.displayName="ArrayFieldRemoveButton";const fr=e=>F.jsx(lt,{"aria-label":"Add row",float:"right",...zs(),...e,children:e.children||F.jsx(Qr,{})});fr.displayName="ArrayFieldAddButton";const ht=$((e,s)=>{const{children:t,...r}=e,i=jr(t)?t:a=>F.jsx(F.Fragment,{children:a.map(({id:o},d)=>F.jsx(or,{index:d,children:t},o))||null});return F.jsxs(mr,{ref:s,...r,children:[F.jsx(yr,{children:i}),F.jsx(fr,{})]})});ht.displayName="ArrayField";const yr=({children:e})=>{const{fields:s}=Be();return e(s)};yr.displayName="ArrayFieldRows";const mr=H.forwardRef(({name:e,defaultValue:s,keyName:t,min:r,max:i,children:a,...o},d)=>{const c=Le(e),V=Gs({name:e,defaultValue:s,keyName:t,min:r||(c==null?void 0:c.min),max:i||(c==null?void 0:c.max)});return H.useImperativeHandle(d,()=>V,[d,V]),F.jsx(Hs,{value:V,children:F.jsx(yt,{name:e,...o,...c,children:a})})});mr.displayName="ArrayFieldContainer";const Js=e=>{const s=at("SuiFormLegend");return F.jsx(Bt,{as:"legend",sx:s,...e})},gt=e=>{const{name:s,label:t,hideLabel:r,children:i,columns:a,spacing:o,...d}=e,{hideLabel:c,columns:V,spacing:v,..._}=Le(s);return F.jsxs(Lt,{name:s,as:"fieldset",...d,..._,children:[F.jsx(Js,{display:r||c?"none":"block",children:t}),F.jsx(Ve,{columns:a||V,gridGap:o||v,children:Mt(s,i)})]})};gt.displayName="ObjectField";const It=(e,s)=>{var t;return(t=e.getNestedFields(s))==null?void 0:t.map(({name:r,type:i,...a},o)=>F.jsx(mt,{name:r,type:i,...a},r||o))},hr=({schema:e,fieldResolver:s,focusFirstField:t,...r})=>{const i=oe(),a=e||i.schema,o=s||i.fieldResolver,d=H.useMemo(()=>o,[a,o]),c=H.useMemo(()=>d==null?void 0:d.getFields(),[d]),V=oe();return H.useEffect(()=>{var v;t&&((v=c==null?void 0:c[0])!=null&&v.name)&&V.setFocus(c[0].name)},[a,o,t]),d?F.jsx(Ve,{...r,children:c==null?void 0:c.map(({name:v,type:_,defaultValue:h,...I})=>_==="array"?F.jsx(ht,{name:v,...I,children:It(d,v)},v):_==="object"?F.jsx(gt,{name:v,...I,children:It(d,v)},v):F.jsx(mt,{name:v,type:_,defaultValue:h,...I},v))}):null};hr.displayName="Fields";const gr=$((e,s)=>{const{variant:t="primary",children:r="Submit",disableIfUntouched:i=!1,disableIfInvalid:a=!1,isDisabled:o,isLoading:d,...c}=e,{formState:V}=ve(),v=Le("submit"),{disableIfUntouched:_,disableIfInvalid:h,...I}=v,N=_??i,X=h??a,te=N&&!V.isDirty||X&&!V.isValid||o;return F.jsx(lt,{ref:s,variant:t,type:"submit",isLoading:V.isSubmitting||d,isDisabled:te,children:r,...c,...I})});gr.displayName="SubmitButton";const Fr=({children:e,name:s,defaultValue:t,isDisabled:r,isExact:i,condition:a=d=>!!d,onToggle:o})=>{const d=H.useRef(!1),c=H.useRef(!1),V=Qt({name:s,defaultValue:t,disabled:r,exact:i}),v=oe(),_=a(V,v);return H.useEffect(()=>{if(!d.current){d.current=!0;return}c.current!==_&&(c.current=_,o==null||o(_,v))},[V]),_?e:null};Fr.displayName="DisplayIf";const et=e=>e&&Object.entries(e).map(([s,t])=>{const{items:r,label:i,title:a,...o}=t;return{...o,name:s,label:i||a||s}}),Qs=e=>({getFields:()=>et(e),getNestedFields:r=>{var a;const i=kr(e,r);return i?((a=i.items)==null?void 0:a.type)==="object"?et(i.items.properties):i.type==="object"?et(i.properties):[i.items]:[]}}),xr=$((e,s)=>{const{mode:t="all",resolver:r,fieldResolver:i,fields:a,reValidateMode:o,shouldFocusError:d,shouldUnregister:c,shouldUseNativeValidation:V,criteriaMode:v,delayError:_,schema:h,defaultValues:I,values:N,context:X,resetOptions:te,onChange:T,onSubmit:w,onError:z,formRef:W,children:x,...b}=e,k=ps({mode:t,resolver:r,defaultValues:I,values:N,reValidateMode:o,shouldFocusError:d,shouldUnregister:c,shouldUseNativeValidation:V,criteriaMode:v,delayError:_,context:X,resetOptions:te}),{handleSubmit:O}=k;H.useImperativeHandle(W,()=>k,[W,k]),H.useEffect(()=>{let Z;return T&&(Z=k.watch(T)),()=>Z==null?void 0:Z.unsubscribe()},[k,T]);let G=x;return!G&&i&&(G=F.jsxs(Ve,{children:[F.jsx(hr,{}),F.jsx(gr,{...a==null?void 0:a.submit})]})),F.jsx(As,{...k,schema:h,fieldResolver:i,fields:a,children:F.jsx(Ne.form,{ref:s,onSubmit:O(w,z),...b,className:Nt("sui-form",e.className),children:Dr(G,{Field:mt,DisplayIf:Fr,ArrayField:ht,ObjectField:gt,...k})})})});xr.displayName="Form";function Ci({resolver:e,fieldResolver:s=Qs,fields:t,getBaseField:r}={}){const i=$((a,o)=>{const{schema:d,resolver:c,fieldResolver:V,...v}=a,_={fields:{...$s,...t},getBaseField:r};return F.jsx(Vs,{value:_,children:F.jsx(xr,{ref:o,resolver:c??(e==null?void 0:e(a.schema)),fieldResolver:V??(s==null?void 0:s(d)),...v})})});return i.displayName="Form",i.id="Form",i}export{ht as A,Fr as D,Ve as F,gt as O,Ts as P,gr as S,mt as a,Vs as b,xr as c,$s as d,Ci as e,ae as f,mr as g,yr as h,cr as i,ur as j,Qt as k,Be as l,Ks as m,cs as n,hr as o,y as p,Qs as q,st as r,D as s,ks as t,oe as u,Tt as v};
