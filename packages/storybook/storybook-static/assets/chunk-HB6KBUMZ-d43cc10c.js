import{m as J,n as $,a as ae,o as ce,u as le,j as U,w as ie,f as de,b as Q,g as X}from"./chunk-ZJJGQIVY-3d316dd5.js";import{r as u}from"./index-76fb7be0.js";import{m as j}from"./index-17e33fe9.js";import{c as fe,u as pe}from"./index-514c0e80.js";import{u as me,a as ve,l as be}from"./index-6843c920.js";import{u as ye,a as Ce}from"./index-c4a63d44.js";import{u as ke}from"./index-30c8b35e.js";import{c as Y}from"./index-7abe7895.js";import{g as he}from"./index-e1b4ee4c.js";import{u as ee}from"./index-5f92aa2b.js";function Me(e){const{key:o}=e;return o.length===1||o.length>1&&/[^a-zA-Z0-9]/.test(o)}function Ee(e={}){const{timeout:o=300,preventDefault:n=()=>!0}=e,[a,s]=u.useState([]),r=u.useRef(),c=()=>{r.current&&(clearTimeout(r.current),r.current=null)},l=()=>{c(),r.current=setTimeout(()=>{s([]),r.current=null},o)};u.useEffect(()=>c,[]);function m(d){return i=>{if(i.key==="Backspace"){const f=[...a];f.pop(),s(f);return}if(Me(i)){const f=a.concat(i.key);n(i)&&(i.preventDefault(),i.stopPropagation()),s(f),d(f.join("")),l()}}}return m}function De(e,o,n,a){if(o==null)return a;if(!a)return e.find(c=>n(c).toLowerCase().startsWith(o.toLowerCase()));const s=e.filter(r=>n(r).toLowerCase().startsWith(o.toLowerCase()));if(s.length>0){let r;return s.includes(a)?(r=s.indexOf(a)+1,r===s.length&&(r=0),s[r]):(r=e.indexOf(s[0]),e[r])}return a}function ge(){const e=u.useRef(new Map),o=e.current,n=u.useCallback((s,r,c,l)=>{e.current.set(c,{type:r,el:s,options:l}),s.addEventListener(r,c,l)},[]),a=u.useCallback((s,r,c,l)=>{s.removeEventListener(r,c,l),e.current.delete(c)},[]);return u.useEffect(()=>()=>{o.forEach((s,r)=>{a(s.el,s.type,r,s.options)})},[a,o]),{add:n,remove:a}}function H(e){const o=e.target,{tagName:n,isContentEditable:a}=o;return n!=="INPUT"&&n!=="TEXTAREA"&&a!==!0}function we(e={}){const{ref:o,isDisabled:n,isFocusable:a,clickOnEnter:s=!0,clickOnSpace:r=!0,onMouseDown:c,onMouseUp:l,onClick:m,onKeyDown:d,onKeyUp:i,tabIndex:f,onMouseOver:g,onMouseLeave:h,...y}=e,[b,M]=u.useState(!0),[p,v]=u.useState(!1),k=ge(),w=t=>{t&&t.tagName!=="BUTTON"&&M(!1)},P=b?f:f||0,D=n&&!a,C=u.useCallback(t=>{if(n){t.stopPropagation(),t.preventDefault();return}t.currentTarget.focus(),m==null||m(t)},[n,m]),E=u.useCallback(t=>{p&&H(t)&&(t.preventDefault(),t.stopPropagation(),v(!1),k.remove(document,"keyup",E,!1))},[p,k]),O=u.useCallback(t=>{if(d==null||d(t),n||t.defaultPrevented||t.metaKey||!H(t.nativeEvent)||b)return;const T=s&&t.key==="Enter";r&&t.key===" "&&(t.preventDefault(),v(!0)),T&&(t.preventDefault(),t.currentTarget.click()),k.add(document,"keyup",E,!1)},[n,b,d,s,r,k,E]),S=u.useCallback(t=>{if(i==null||i(t),n||t.defaultPrevented||t.metaKey||!H(t.nativeEvent)||b)return;r&&t.key===" "&&(t.preventDefault(),v(!1),t.currentTarget.click())},[r,b,n,i]),L=u.useCallback(t=>{t.button===0&&(v(!1),k.remove(document,"mouseup",L,!1))},[k]),_=u.useCallback(t=>{if(t.button!==0)return;if(n){t.stopPropagation(),t.preventDefault();return}b||v(!0),t.currentTarget.focus({preventScroll:!0}),k.add(document,"mouseup",L,!1),c==null||c(t)},[n,b,c,k,L]),R=u.useCallback(t=>{t.button===0&&(b||v(!1),l==null||l(t))},[l,b]),F=u.useCallback(t=>{if(n){t.preventDefault();return}g==null||g(t)},[n,g]),K=u.useCallback(t=>{p&&(t.preventDefault(),v(!1)),h==null||h(t)},[p,h]),A=j(o,w);return b?{...y,ref:A,type:"button","aria-disabled":D?void 0:n,disabled:D,onClick:C,onMouseDown:c,onMouseUp:l,onKeyUp:i,onKeyDown:d,onMouseOver:g,onMouseLeave:h}:{...y,ref:A,role:"button","data-active":J(p),"aria-disabled":n?"true":void 0,tabIndex:D?void 0:P,onClick:C,onMouseDown:_,onMouseUp:R,onKeyUp:S,onKeyDown:O,onMouseOver:F,onMouseLeave:K}}function xe(e){const{ref:o,handler:n,enabled:a=!0}=e,s=ke(n),c=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;u.useEffect(()=>{if(!a)return;const l=f=>{V(f,o)&&(c.isPointerDown=!0)},m=f=>{if(c.ignoreEmulatedMouseEvents){c.ignoreEmulatedMouseEvents=!1;return}c.isPointerDown&&n&&V(f,o)&&(c.isPointerDown=!1,s(f))},d=f=>{c.ignoreEmulatedMouseEvents=!0,n&&c.isPointerDown&&V(f,o)&&(c.isPointerDown=!1,s(f))},i=ne(o.current);return i.addEventListener("mousedown",l,!0),i.addEventListener("mouseup",m,!0),i.addEventListener("touchstart",l,!0),i.addEventListener("touchend",d,!0),()=>{i.removeEventListener("mousedown",l,!0),i.removeEventListener("mouseup",m,!0),i.removeEventListener("touchstart",l,!0),i.removeEventListener("touchend",d,!0)}},[n,o,s,c,a])}function V(e,o){var n;const a=e.target;return a&&!ne(a).contains(a)?!1:!((n=o.current)!=null&&n.contains(a))}function ne(e){var o;return(o=e==null?void 0:e.ownerDocument)!=null?o:document}var[Ie,Pe,Oe,Se]=fe(),[Le,B]=Y({strict:!1,name:"MenuContext"});function Re(e,...o){const n=u.useId(),a=e||n;return u.useMemo(()=>o.map(s=>`${s}-${a}`),[a,o])}function te(e){var o;return(o=e==null?void 0:e.ownerDocument)!=null?o:document}function Z(e){return te(e).activeElement===e}function Te(e={}){const{id:o,closeOnSelect:n=!0,closeOnBlur:a=!0,initialFocusRef:s,autoSelect:r=!0,isLazy:c,isOpen:l,defaultIsOpen:m,onClose:d,onOpen:i,placement:f="bottom-start",lazyBehavior:g="unmount",direction:h,computePositionOnMount:y=!1,...b}=e,M=u.useRef(null),p=u.useRef(null),v=Oe(),k=u.useCallback(()=>{requestAnimationFrame(()=>{var x;(x=M.current)==null||x.focus({preventScroll:!1})})},[]),w=u.useCallback(()=>{const x=setTimeout(()=>{var I;if(s)(I=s.current)==null||I.focus();else{const N=v.firstEnabled();N&&R(N.index)}});T.current.add(x)},[v,s]),P=u.useCallback(()=>{const x=setTimeout(()=>{const I=v.lastEnabled();I&&R(I.index)});T.current.add(x)},[v]),D=u.useCallback(()=>{i==null||i(),r?w():k()},[r,w,k,i]),{isOpen:C,onOpen:E,onClose:O,onToggle:S}=ye({isOpen:l,defaultIsOpen:m,onClose:d,onOpen:D});xe({enabled:C&&a,ref:M,handler:x=>{var I;(I=p.current)!=null&&I.contains(x.target)||O()}});const L=Ce({...b,enabled:C||y,placement:f,direction:h}),[_,R]=u.useState(-1);ee(()=>{C||R(-1)},[C]),me(M,{focusRef:p,visible:C,shouldFocus:!0});const F=ve({isOpen:C,ref:M}),[K,A]=Re(o,"menu-button","menu-list"),t=u.useCallback(()=>{E(),k()},[E,k]),T=u.useRef(new Set([]));u.useEffect(()=>{const x=T.current;return()=>{x.forEach(I=>clearTimeout(I)),x.clear()}},[]);const z=u.useCallback(()=>{E(),w()},[w,E]),q=u.useCallback(()=>{E(),P()},[E,P]),se=u.useCallback(()=>{var x,I;const N=te(M.current),ue=(x=M.current)==null?void 0:x.contains(N.activeElement);if(!(C&&!ue))return;const G=(I=v.item(_))==null?void 0:I.node;G==null||G.focus({preventScroll:!0})},[C,_,v]),re=u.useRef(null);return{openAndFocusMenu:t,openAndFocusFirstItem:z,openAndFocusLastItem:q,onTransitionEnd:se,unstable__animationState:F,descendants:v,popper:L,buttonId:K,menuId:A,forceUpdate:L.forceUpdate,orientation:"vertical",isOpen:C,onToggle:S,onOpen:E,onClose:O,menuRef:M,buttonRef:p,focusedIndex:_,closeOnSelect:n,closeOnBlur:a,autoSelect:r,setFocusedIndex:R,isLazy:c,lazyBehavior:g,initialFocusRef:s,rafId:re}}function Je(e={},o=null){const n=B(),{onToggle:a,popper:s,openAndFocusFirstItem:r,openAndFocusLastItem:c}=n,l=u.useCallback(m=>{const d=m.key,f={Enter:r,ArrowDown:r,ArrowUp:c}[d];f&&(m.preventDefault(),m.stopPropagation(),f(m))},[r,c]);return{...e,ref:j(n.buttonRef,o,s.referenceRef),id:n.buttonId,"data-active":J(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:$(e.onClick,a),onKeyDown:$(e.onKeyDown,l)}}function W(e){var o;return Fe(e)&&!!((o=e==null?void 0:e.getAttribute("role"))!=null&&o.startsWith("menuitem"))}function Qe(e={},o=null){const n=B();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:a,setFocusedIndex:s,menuRef:r,isOpen:c,onClose:l,menuId:m,isLazy:d,lazyBehavior:i,unstable__animationState:f}=n,g=Pe(),h=Ee({preventDefault:p=>p.key!==" "&&W(p.target)}),y=u.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const v=p.key,w={Tab:D=>D.preventDefault(),Escape:l,ArrowDown:()=>{const D=g.nextEnabled(a);D&&s(D.index)},ArrowUp:()=>{const D=g.prevEnabled(a);D&&s(D.index)}}[v];if(w){p.preventDefault(),w(p);return}const P=h(D=>{const C=De(g.values(),D,E=>{var O,S;return(S=(O=E==null?void 0:E.node)==null?void 0:O.textContent)!=null?S:""},g.item(a));if(C){const E=g.indexOf(C.node);s(E)}});W(p.target)&&P(p)},[g,a,h,l,s]),b=u.useRef(!1);c&&(b.current=!0);const M=be({wasSelected:b.current,enabled:d,mode:i,isSelected:f.present});return{...e,ref:j(r,o),children:M?e.children:null,tabIndex:-1,role:"menu",id:m,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:$(e.onKeyDown,y)}}function Ye(e={}){const{popper:o,isOpen:n}=B();return o.getPopperProps({...e,style:{visibility:n?"visible":"hidden",...e.style}})}function _e(e={},o=null){const{onMouseEnter:n,onMouseMove:a,onMouseLeave:s,onClick:r,onFocus:c,isDisabled:l,isFocusable:m,closeOnSelect:d,type:i,...f}=e,g=B(),{setFocusedIndex:h,focusedIndex:y,closeOnSelect:b,onClose:M,menuRef:p,isOpen:v,menuId:k,rafId:w}=g,P=u.useRef(null),D=`${k}-menuitem-${u.useId()}`,{index:C,register:E}=Se({disabled:l&&!m}),O=u.useCallback(t=>{n==null||n(t),!l&&h(C)},[h,C,l,n]),S=u.useCallback(t=>{a==null||a(t),P.current&&!Z(P.current)&&O(t)},[O,a]),L=u.useCallback(t=>{s==null||s(t),!l&&h(-1)},[h,l,s]),_=u.useCallback(t=>{r==null||r(t),W(t.currentTarget)&&(d??b)&&M()},[M,r,b,d]),R=u.useCallback(t=>{c==null||c(t),h(C)},[h,c,C]),F=C===y,K=l&&!m;ee(()=>{if(v)return F&&!K&&P.current?(w.current&&cancelAnimationFrame(w.current),w.current=requestAnimationFrame(()=>{var t;(t=P.current)==null||t.focus({preventScroll:!0}),w.current=null})):p.current&&!Z(p.current)&&p.current.focus({preventScroll:!0}),()=>{w.current&&cancelAnimationFrame(w.current)}},[F,K,p,v]);const A=we({onClick:_,onFocus:R,onMouseEnter:O,onMouseMove:S,onMouseLeave:L,ref:j(E,P,o),isDisabled:l,isFocusable:m});return{...f,...A,type:i??A.type,id:D,role:"menuitem",tabIndex:F?0:-1}}function en(e={},o=null){const{type:n="radio",isChecked:a,...s}=e;return{..._e(s,o),role:`menuitem${n}`,"aria-checked":a}}function nn(e={}){const{children:o,type:n="radio",value:a,defaultValue:s,onChange:r,...c}=e,m=n==="radio"?"":[],[d,i]=pe({defaultValue:s??m,value:a,onChange:r}),f=u.useCallback(y=>{if(n==="radio"&&typeof d=="string"&&i(y),n==="checkbox"&&Array.isArray(d)){const b=d.includes(y)?d.filter(M=>M!==y):d.concat(y);i(b)}},[d,i,n]),h=he(o).map(y=>{if(y.type.id!=="MenuItemOption")return y;const b=p=>{var v,k;f(y.props.value),(k=(v=y.props).onClick)==null||k.call(v,p)},M=n==="radio"?y.props.value===d:d.includes(y.props.value);return u.cloneElement(y,{type:n,onClick:b,isChecked:M})});return{...c,children:h}}function Fe(e){var o;if(!Ae(e))return!1;const n=(o=e.ownerDocument.defaultView)!=null?o:window;return e instanceof n.HTMLElement}function Ae(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}var[Ke,oe]=Y({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Ue=e=>{const{children:o}=e,n=ae("Menu",e),a=ce(e),{direction:s}=le(),{descendants:r,...c}=Te({...a,direction:s}),l=u.useMemo(()=>c,[c]),{isOpen:m,onClose:d,forceUpdate:i}=l;return U.jsx(Ie,{value:r,children:U.jsx(Le,{value:l,children:U.jsx(Ke,{value:n,children:ie(o,{isOpen:m,onClose:d,forceUpdate:i})})})})};Ue.displayName="Menu";var tn=de((e,o)=>{const{type:n,...a}=e,s=oe(),r=a.as||n?n??void 0:"button",c=u.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...s.item}),[s.item]);return U.jsx(Q.button,{ref:o,type:r,...a,__css:c})}),Ne=e=>{const{className:o,children:n,...a}=e,s=oe(),r=u.Children.only(n),c=u.isValidElement(r)?u.cloneElement(r,{focusable:"false","aria-hidden":!0,className:X("chakra-menu__icon",r.props.className)}):null,l=X("chakra-menu__icon-wrapper",o);return U.jsx(Q.span,{className:l,...a,__css:s.icon,children:c})};Ne.displayName="MenuIcon";export{Ue as M,tn as S,oe as a,Je as b,Qe as c,Ye as d,nn as e,en as f,Ne as g,_e as h,B as u};
