import{c as Ma,g as Kn}from"./_commonjsHelpers-de833af9.js";import{n as Va,q as Fa,e as Ua}from"./create-form-ca682449.js";import{i as qa,n as za}from"./resolvers-d84e4cdf.js";var vr={exports:{}},Ln={},Pe={},yt={},_t={},W={},vt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((T,j)=>`${T}${j}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((T,j)=>(j instanceof r&&(T[j.str]=(T[j.str]||0)+1),T),{})}}e._Code=n,e.nil=new n("");function a(d,...h){const T=[d[0]];let j=0;for(;j<h.length;)m(T,h[j]),T.push(d[++j]);return new n(T)}e._=a;const i=new n("+");function l(d,...h){const T=[I(d[0])];let j=0;for(;j<h.length;)T.push(i),m(T,h[j]),T.push(i,I(d[++j]));return v(T),new n(T)}e.str=l;function m(d,h){h instanceof n?d.push(...h._items):h instanceof r?d.push(h):d.push(g(h))}e.addCodeArg=m;function v(d){let h=1;for(;h<d.length-1;){if(d[h]===i){const T=p(d[h-1],d[h+1]);if(T!==void 0){d.splice(h-1,3,T);continue}d[h++]="+"}h++}}function p(d,h){if(h==='""')return d;if(d==='""')return h;if(typeof d=="string")return h instanceof r||d[d.length-1]!=='"'?void 0:typeof h!="string"?`${d.slice(0,-1)}${h}"`:h[0]==='"'?d.slice(0,-1)+h.slice(1):void 0;if(typeof h=="string"&&h[0]==='"'&&!(d instanceof r))return`"${d}${h.slice(1)}`}function y(d,h){return h.emptyStr()?d:d.emptyStr()?h:l`${d}${h}`}e.strConcat=y;function g(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:I(Array.isArray(d)?d.join(","):d)}function k(d){return new n(I(d))}e.stringify=k;function I(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=I;function O(d){return typeof d=="string"&&e.IDENTIFIER.test(d)?new n(`.${d}`):a`[${d}]`}e.getProperty=O;function C(d){if(typeof d=="string"&&e.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}e.getEsmExportName=C;function _(d){return new n(d.toString())}e.regexpCode=_})(vt);var gr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=vt;class r extends Error{constructor(p){super(`CodeGen: "code" for ${p} not defined`),this.value=p.value}}var n;(function(v){v[v.Started=0]="Started",v[v.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:p,parent:y}={}){this._names={},this._prefixes=p,this._parent=y}toName(p){return p instanceof t.Name?p:this.name(p)}name(p){return new t.Name(this._newName(p))}_newName(p){const y=this._names[p]||this._nameGroup(p);return`${p}${y.index++}`}_nameGroup(p){var y,g;if(!((g=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||g===void 0)&&g.has(p)||this._prefixes&&!this._prefixes.has(p))throw new Error(`CodeGen: prefix "${p}" is not allowed in this scope`);return this._names[p]={prefix:p,index:0}}}e.Scope=a;class i extends t.Name{constructor(p,y){super(y),this.prefix=p}setValue(p,{property:y,itemIndex:g}){this.value=p,this.scopePath=(0,t._)`.${new t.Name(y)}[${g}]`}}e.ValueScopeName=i;const l=(0,t._)`\n`;class m extends a{constructor(p){super(p),this._values={},this._scope=p.scope,this.opts={...p,_n:p.lines?l:t.nil}}get(){return this._scope}name(p){return new i(p,this._newName(p))}value(p,y){var g;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const k=this.toName(p),{prefix:I}=k,O=(g=y.key)!==null&&g!==void 0?g:y.ref;let C=this._values[I];if(C){const h=C.get(O);if(h)return h}else C=this._values[I]=new Map;C.set(O,k);const _=this._scope[I]||(this._scope[I]=[]),d=_.length;return _[d]=y.ref,k.setValue(y,{property:I,itemIndex:d}),k}getValue(p,y){const g=this._values[p];if(g)return g.get(y)}scopeRefs(p,y=this._values){return this._reduceValues(y,g=>{if(g.scopePath===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return(0,t._)`${p}${g.scopePath}`})}scopeCode(p=this._values,y,g){return this._reduceValues(p,k=>{if(k.value===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return k.value.code},y,g)}_reduceValues(p,y,g={},k){let I=t.nil;for(const O in p){const C=p[O];if(!C)continue;const _=g[O]=g[O]||new Map;C.forEach(d=>{if(_.has(d))return;_.set(d,n.Started);let h=y(d);if(h){const T=this.opts.es5?e.varKinds.var:e.varKinds.const;I=(0,t._)`${I}${T} ${d} = ${h};${this.opts._n}`}else if(h=k==null?void 0:k(d))I=(0,t._)`${I}${h}${this.opts._n}`;else throw new r(d);_.set(d,n.Completed)})}return I}}e.ValueScope=m})(gr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=vt,r=gr;var n=vt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=gr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(s,c){return this}}class l extends i{constructor(s,c,S){super(),this.varKind=s,this.name=c,this.rhs=S}render({es5:s,_n:c}){const S=s?r.varKinds.var:this.varKind,M=this.rhs===void 0?"":` = ${this.rhs}`;return`${S} ${this.name}${M};`+c}optimizeNames(s,c){if(s[this.name.str])return this.rhs&&(this.rhs=ce(this.rhs,s,c)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class m extends i{constructor(s,c,S){super(),this.lhs=s,this.rhs=c,this.sideEffects=S}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,c){if(!(this.lhs instanceof t.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=ce(this.rhs,s,c),this}get names(){const s=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ye(s,this.rhs)}}class v extends m{constructor(s,c,S,M){super(s,S,M),this.op=c}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class p extends i{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class y extends i{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class g extends i{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class k extends i{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,c){return this.code=ce(this.code,s,c),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class I extends i{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((c,S)=>c+S.render(s),"")}optimizeNodes(){const{nodes:s}=this;let c=s.length;for(;c--;){const S=s[c].optimizeNodes();Array.isArray(S)?s.splice(c,1,...S):S?s[c]=S:s.splice(c,1)}return s.length>0?this:void 0}optimizeNames(s,c){const{nodes:S}=this;let M=S.length;for(;M--;){const D=S[M];D.optimizeNames(s,c)||(qe(s,D.names),S.splice(M,1))}return S.length>0?this:void 0}get names(){return this.nodes.reduce((s,c)=>X(s,c.names),{})}}class O extends I{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class C extends I{}class _ extends O{}_.kind="else";class d extends O{constructor(s,c){super(c),this.condition=s}render(s){let c=`if(${this.condition})`+super.render(s);return this.else&&(c+="else "+this.else.render(s)),c}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let c=this.else;if(c){const S=c.optimizeNodes();c=this.else=Array.isArray(S)?new _(S):S}if(c)return s===!1?c instanceof d?c:c.nodes:this.nodes.length?this:new d(Te(s),c instanceof d?[c]:c.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,c){var S;if(this.else=(S=this.else)===null||S===void 0?void 0:S.optimizeNames(s,c),!!(super.optimizeNames(s,c)||this.else))return this.condition=ce(this.condition,s,c),this}get names(){const s=super.names;return ye(s,this.condition),this.else&&X(s,this.else.names),s}}d.kind="if";class h extends O{}h.kind="for";class T extends h{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,c){if(super.optimizeNames(s,c))return this.iteration=ce(this.iteration,s,c),this}get names(){return X(super.names,this.iteration.names)}}class j extends h{constructor(s,c,S,M){super(),this.varKind=s,this.name=c,this.from=S,this.to=M}render(s){const c=s.es5?r.varKinds.var:this.varKind,{name:S,from:M,to:D}=this;return`for(${c} ${S}=${M}; ${S}<${D}; ${S}++)`+super.render(s)}get names(){const s=ye(super.names,this.from);return ye(s,this.to)}}class V extends h{constructor(s,c,S,M){super(),this.loop=s,this.varKind=c,this.name=S,this.iterable=M}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,c){if(super.optimizeNames(s,c))return this.iterable=ce(this.iterable,s,c),this}get names(){return X(super.names,this.iterable.names)}}class E extends O{constructor(s,c,S){super(),this.name=s,this.args=c,this.async=S}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}E.kind="func";class R extends I{render(s){return"return "+super.render(s)}}R.kind="return";class A extends O{render(s){let c="try"+super.render(s);return this.catch&&(c+=this.catch.render(s)),this.finally&&(c+=this.finally.render(s)),c}optimizeNodes(){var s,c;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(c=this.finally)===null||c===void 0||c.optimizeNodes(),this}optimizeNames(s,c){var S,M;return super.optimizeNames(s,c),(S=this.catch)===null||S===void 0||S.optimizeNames(s,c),(M=this.finally)===null||M===void 0||M.optimizeNames(s,c),this}get names(){const s=super.names;return this.catch&&X(s,this.catch.names),this.finally&&X(s,this.finally.names),s}}class L extends O{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}L.kind="catch";class B extends O{render(s){return"finally"+super.render(s)}}B.kind="finally";class re{constructor(s,c={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...c,_n:c.lines?`
`:""},this._extScope=s,this._scope=new r.Scope({parent:s}),this._nodes=[new C]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,c){const S=this._extScope.value(s,c);return(this._values[S.prefix]||(this._values[S.prefix]=new Set)).add(S),S}getScopeValue(s,c){return this._extScope.getValue(s,c)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,c,S,M){const D=this._scope.toName(c);return S!==void 0&&M&&(this._constants[D.str]=S),this._leafNode(new l(s,D,S)),D}const(s,c,S){return this._def(r.varKinds.const,s,c,S)}let(s,c,S){return this._def(r.varKinds.let,s,c,S)}var(s,c,S){return this._def(r.varKinds.var,s,c,S)}assign(s,c,S){return this._leafNode(new m(s,c,S))}add(s,c){return this._leafNode(new v(s,e.operators.ADD,c))}code(s){return typeof s=="function"?s():s!==t.nil&&this._leafNode(new k(s)),this}object(...s){const c=["{"];for(const[S,M]of s)c.length>1&&c.push(","),c.push(S),(S!==M||this.opts.es5)&&(c.push(":"),(0,t.addCodeArg)(c,M));return c.push("}"),new t._Code(c)}if(s,c,S){if(this._blockNode(new d(s)),c&&S)this.code(c).else().code(S).endIf();else if(c)this.code(c).endIf();else if(S)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new d(s))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(d,_)}_for(s,c){return this._blockNode(s),c&&this.code(c).endFor(),this}for(s,c){return this._for(new T(s),c)}forRange(s,c,S,M,D=this.opts.es5?r.varKinds.var:r.varKinds.let){const U=this._scope.toName(s);return this._for(new j(D,U,c,S),()=>M(U))}forOf(s,c,S,M=r.varKinds.const){const D=this._scope.toName(s);if(this.opts.es5){const U=c instanceof t.Name?c:this.var("_arr",c);return this.forRange("_i",0,(0,t._)`${U}.length`,H=>{this.var(D,(0,t._)`${U}[${H}]`),S(D)})}return this._for(new V("of",M,D,c),()=>S(D))}forIn(s,c,S,M=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,t._)`Object.keys(${c})`,S);const D=this._scope.toName(s);return this._for(new V("in",M,D,c),()=>S(D))}endFor(){return this._endBlockNode(h)}label(s){return this._leafNode(new p(s))}break(s){return this._leafNode(new y(s))}return(s){const c=new R;if(this._blockNode(c),this.code(s),c.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(R)}try(s,c,S){if(!c&&!S)throw new Error('CodeGen: "try" without "catch" and "finally"');const M=new A;if(this._blockNode(M),this.code(s),c){const D=this.name("e");this._currNode=M.catch=new L(D),c(D)}return S&&(this._currNode=M.finally=new B,this.code(S)),this._endBlockNode(L,B)}throw(s){return this._leafNode(new g(s))}block(s,c){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(c),this}endBlock(s){const c=this._blockStarts.pop();if(c===void 0)throw new Error("CodeGen: not in self-balancing block");const S=this._nodes.length-c;if(S<0||s!==void 0&&S!==s)throw new Error(`CodeGen: wrong number of nodes: ${S} vs ${s} expected`);return this._nodes.length=c,this}func(s,c=t.nil,S,M){return this._blockNode(new E(s,c,S)),M&&this.code(M).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,c){const S=this._currNode;if(S instanceof s||c&&S instanceof c)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${c?`${s.kind}/${c.kind}`:s.kind}"`)}_elseNode(s){const c=this._currNode;if(!(c instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=c.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const c=this._nodes;c[c.length-1]=s}}e.CodeGen=re;function X($,s){for(const c in s)$[c]=($[c]||0)+(s[c]||0);return $}function ye($,s){return s instanceof t._CodeOrName?X($,s.names):$}function ce($,s,c){if($ instanceof t.Name)return S($);if(!M($))return $;return new t._Code($._items.reduce((D,U)=>(U instanceof t.Name&&(U=S(U)),U instanceof t._Code?D.push(...U._items):D.push(U),D),[]));function S(D){const U=c[D.str];return U===void 0||s[D.str]!==1?D:(delete s[D.str],U)}function M(D){return D instanceof t._Code&&D._items.some(U=>U instanceof t.Name&&s[U.str]===1&&c[U.str]!==void 0)}}function qe($,s){for(const c in s)$[c]=($[c]||0)-(s[c]||0)}function Te($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${b($)}`}e.not=Te;const He=w(e.operators.AND);function Xe(...$){return $.reduce(He)}e.and=Xe;const je=w(e.operators.OR);function F(...$){return $.reduce(je)}e.or=F;function w($){return(s,c)=>s===t.nil?c:c===t.nil?s:(0,t._)`${b(s)} ${$} ${b(c)}`}function b($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(W);var x={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=W,r=vt;function n(E){const R={};for(const A of E)R[A]=!0;return R}e.toHash=n;function a(E,R){return typeof R=="boolean"?R:Object.keys(R).length===0?!0:(i(E,R),!l(R,E.self.RULES.all))}e.alwaysValidSchema=a;function i(E,R=E.schema){const{opts:A,self:L}=E;if(!A.strictSchema||typeof R=="boolean")return;const B=L.RULES.keywords;for(const re in R)B[re]||V(E,`unknown keyword: "${re}"`)}e.checkUnknownRules=i;function l(E,R){if(typeof E=="boolean")return!E;for(const A in E)if(R[A])return!0;return!1}e.schemaHasRules=l;function m(E,R){if(typeof E=="boolean")return!E;for(const A in E)if(A!=="$ref"&&R.all[A])return!0;return!1}e.schemaHasRulesButRef=m;function v({topSchemaRef:E,schemaPath:R},A,L,B){if(!B){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${E}${R}${(0,t.getProperty)(L)}`}e.schemaRefOrVal=v;function p(E){return k(decodeURIComponent(E))}e.unescapeFragment=p;function y(E){return encodeURIComponent(g(E))}e.escapeFragment=y;function g(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=g;function k(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=k;function I(E,R){if(Array.isArray(E))for(const A of E)R(A);else R(E)}e.eachItem=I;function O({mergeNames:E,mergeToName:R,mergeValues:A,resultToName:L}){return(B,re,X,ye)=>{const ce=X===void 0?re:X instanceof t.Name?(re instanceof t.Name?E(B,re,X):R(B,re,X),X):re instanceof t.Name?(R(B,X,re),re):A(re,X);return ye===t.Name&&!(ce instanceof t.Name)?L(B,ce):ce}}e.mergeEvaluated={props:O({mergeNames:(E,R,A)=>E.if((0,t._)`${A} !== true && ${R} !== undefined`,()=>{E.if((0,t._)`${R} === true`,()=>E.assign(A,!0),()=>E.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${R})`))}),mergeToName:(E,R,A)=>E.if((0,t._)`${A} !== true`,()=>{R===!0?E.assign(A,!0):(E.assign(A,(0,t._)`${A} || {}`),_(E,A,R))}),mergeValues:(E,R)=>E===!0?!0:{...E,...R},resultToName:C}),items:O({mergeNames:(E,R,A)=>E.if((0,t._)`${A} !== true && ${R} !== undefined`,()=>E.assign(A,(0,t._)`${R} === true ? true : ${A} > ${R} ? ${A} : ${R}`)),mergeToName:(E,R,A)=>E.if((0,t._)`${A} !== true`,()=>E.assign(A,R===!0?!0:(0,t._)`${A} > ${R} ? ${A} : ${R}`)),mergeValues:(E,R)=>E===!0?!0:Math.max(E,R),resultToName:(E,R)=>E.var("items",R)})};function C(E,R){if(R===!0)return E.var("props",!0);const A=E.var("props",(0,t._)`{}`);return R!==void 0&&_(E,A,R),A}e.evaluatedPropsToName=C;function _(E,R,A){Object.keys(A).forEach(L=>E.assign((0,t._)`${R}${(0,t.getProperty)(L)}`,!0))}e.setEvaluated=_;const d={};function h(E,R){return E.scopeValue("func",{ref:R,code:d[R.code]||(d[R.code]=new r._Code(R.code))})}e.useFunc=h;var T;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(T=e.Type||(e.Type={}));function j(E,R,A){if(E instanceof t.Name){const L=R===T.Num;return A?L?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:L?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(E).toString():"/"+g(E)}e.getErrorPath=j;function V(E,R,A=E.opts.strictSchema){if(A){if(R=`strict mode: ${R}`,A===!0)throw new Error(R);E.self.logger.warn(R)}}e.checkStrictMode=V})(x);var Re={};Object.defineProperty(Re,"__esModule",{value:!0});const me=W,Ka={data:new me.Name("data"),valCxt:new me.Name("valCxt"),instancePath:new me.Name("instancePath"),parentData:new me.Name("parentData"),parentDataProperty:new me.Name("parentDataProperty"),rootData:new me.Name("rootData"),dynamicAnchors:new me.Name("dynamicAnchors"),vErrors:new me.Name("vErrors"),errors:new me.Name("errors"),this:new me.Name("this"),self:new me.Name("self"),scope:new me.Name("scope"),json:new me.Name("json"),jsonPos:new me.Name("jsonPos"),jsonLen:new me.Name("jsonLen"),jsonPart:new me.Name("jsonPart")};Re.default=Ka;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=W,r=x,n=Re;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:d})=>d?(0,t.str)`"${_}" keyword must be ${d} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function a(_,d=e.keywordError,h,T){const{it:j}=_,{gen:V,compositeRule:E,allErrors:R}=j,A=g(_,d,h);T??(E||R)?v(V,A):p(j,(0,t._)`[${A}]`)}e.reportError=a;function i(_,d=e.keywordError,h){const{it:T}=_,{gen:j,compositeRule:V,allErrors:E}=T,R=g(_,d,h);v(j,R),V||E||p(T,n.default.vErrors)}e.reportExtraError=i;function l(_,d){_.assign(n.default.errors,d),_.if((0,t._)`${n.default.vErrors} !== null`,()=>_.if(d,()=>_.assign((0,t._)`${n.default.vErrors}.length`,d),()=>_.assign(n.default.vErrors,null)))}e.resetErrorsCount=l;function m({gen:_,keyword:d,schemaValue:h,data:T,errsCount:j,it:V}){if(j===void 0)throw new Error("ajv implementation error");const E=_.name("err");_.forRange("i",j,n.default.errors,R=>{_.const(E,(0,t._)`${n.default.vErrors}[${R}]`),_.if((0,t._)`${E}.instancePath === undefined`,()=>_.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(n.default.instancePath,V.errorPath))),_.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${V.errSchemaPath}/${d}`),V.opts.verbose&&(_.assign((0,t._)`${E}.schema`,h),_.assign((0,t._)`${E}.data`,T))})}e.extendErrors=m;function v(_,d){const h=_.const("err",d);_.if((0,t._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,t._)`[${h}]`),(0,t._)`${n.default.vErrors}.push(${h})`),_.code((0,t._)`${n.default.errors}++`)}function p(_,d){const{gen:h,validateName:T,schemaEnv:j}=_;j.$async?h.throw((0,t._)`new ${_.ValidationError}(${d})`):(h.assign((0,t._)`${T}.errors`,d),h.return(!1))}const y={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function g(_,d,h){const{createErrors:T}=_.it;return T===!1?(0,t._)`{}`:k(_,d,h)}function k(_,d,h={}){const{gen:T,it:j}=_,V=[I(j,h),O(_,h)];return C(_,d,V),T.object(...V)}function I({errorPath:_},{instancePath:d}){const h=d?(0,t.str)`${_}${(0,r.getErrorPath)(d,r.Type.Str)}`:_;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,h)]}function O({keyword:_,it:{errSchemaPath:d}},{schemaPath:h,parentSchema:T}){let j=T?d:(0,t.str)`${d}/${_}`;return h&&(j=(0,t.str)`${j}${(0,r.getErrorPath)(h,r.Type.Str)}`),[y.schemaPath,j]}function C(_,{params:d,message:h},T){const{keyword:j,data:V,schemaValue:E,it:R}=_,{opts:A,propertyName:L,topSchemaRef:B,schemaPath:re}=R;T.push([y.keyword,j],[y.params,typeof d=="function"?d(_):d||(0,t._)`{}`]),A.messages&&T.push([y.message,typeof h=="function"?h(_):h]),A.verbose&&T.push([y.schema,E],[y.parentSchema,(0,t._)`${B}${re}`],[n.default.data,V]),L&&T.push([y.propertyName,L])}})(_t);Object.defineProperty(yt,"__esModule",{value:!0});yt.boolOrEmptySchema=yt.topBoolOrEmptySchema=void 0;const La=_t,Ha=W,Ga=Re,Ja={message:"boolean schema is false"};function Wa(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Hn(e,!1):typeof r=="object"&&r.$async===!0?t.return(Ga.default.data):(t.assign((0,Ha._)`${n}.errors`,null),t.return(!0))}yt.topBoolOrEmptySchema=Wa;function Ba(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Hn(e)):r.var(t,!0)}yt.boolOrEmptySchema=Ba;function Hn(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,La.reportError)(a,Ja,void 0,t)}var qt={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.getRules=st.isJSONType=void 0;const Qa=["string","number","integer","boolean","null","object","array"],Xa=new Set(Qa);function Ya(e){return typeof e=="string"&&Xa.has(e)}st.isJSONType=Ya;function Za(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}st.getRules=Za;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.shouldUseRule=Ke.shouldUseGroup=Ke.schemaHasRulesForType=void 0;function xa({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Gn(e,n)}Ke.schemaHasRulesForType=xa;function Gn(e,t){return t.rules.some(r=>Jn(e,r))}Ke.shouldUseGroup=Gn;function Jn(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Ke.shouldUseRule=Jn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=st,r=Ke,n=_t,a=W,i=x;var l;(function(T){T[T.Correct=0]="Correct",T[T.Wrong=1]="Wrong"})(l=e.DataType||(e.DataType={}));function m(T){const j=v(T.type);if(j.includes("null")){if(T.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!j.length&&T.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');T.nullable===!0&&j.push("null")}return j}e.getSchemaTypes=m;function v(T){const j=Array.isArray(T)?T:T?[T]:[];if(j.every(t.isJSONType))return j;throw new Error("type must be JSONType or JSONType[]: "+j.join(","))}e.getJSONTypes=v;function p(T,j){const{gen:V,data:E,opts:R}=T,A=g(j,R.coerceTypes),L=j.length>0&&!(A.length===0&&j.length===1&&(0,r.schemaHasRulesForType)(T,j[0]));if(L){const B=C(j,E,R.strictNumbers,l.Wrong);V.if(B,()=>{A.length?k(T,j,A):d(T)})}return L}e.coerceAndCheckDataType=p;const y=new Set(["string","number","integer","boolean","null"]);function g(T,j){return j?T.filter(V=>y.has(V)||j==="array"&&V==="array"):[]}function k(T,j,V){const{gen:E,data:R,opts:A}=T,L=E.let("dataType",(0,a._)`typeof ${R}`),B=E.let("coerced",(0,a._)`undefined`);A.coerceTypes==="array"&&E.if((0,a._)`${L} == 'object' && Array.isArray(${R}) && ${R}.length == 1`,()=>E.assign(R,(0,a._)`${R}[0]`).assign(L,(0,a._)`typeof ${R}`).if(C(j,R,A.strictNumbers),()=>E.assign(B,R))),E.if((0,a._)`${B} !== undefined`);for(const X of V)(y.has(X)||X==="array"&&A.coerceTypes==="array")&&re(X);E.else(),d(T),E.endIf(),E.if((0,a._)`${B} !== undefined`,()=>{E.assign(R,B),I(T,B)});function re(X){switch(X){case"string":E.elseIf((0,a._)`${L} == "number" || ${L} == "boolean"`).assign(B,(0,a._)`"" + ${R}`).elseIf((0,a._)`${R} === null`).assign(B,(0,a._)`""`);return;case"number":E.elseIf((0,a._)`${L} == "boolean" || ${R} === null
              || (${L} == "string" && ${R} && ${R} == +${R})`).assign(B,(0,a._)`+${R}`);return;case"integer":E.elseIf((0,a._)`${L} === "boolean" || ${R} === null
              || (${L} === "string" && ${R} && ${R} == +${R} && !(${R} % 1))`).assign(B,(0,a._)`+${R}`);return;case"boolean":E.elseIf((0,a._)`${R} === "false" || ${R} === 0 || ${R} === null`).assign(B,!1).elseIf((0,a._)`${R} === "true" || ${R} === 1`).assign(B,!0);return;case"null":E.elseIf((0,a._)`${R} === "" || ${R} === 0 || ${R} === false`),E.assign(B,null);return;case"array":E.elseIf((0,a._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${R} === null`).assign(B,(0,a._)`[${R}]`)}}}function I({gen:T,parentData:j,parentDataProperty:V},E){T.if((0,a._)`${j} !== undefined`,()=>T.assign((0,a._)`${j}[${V}]`,E))}function O(T,j,V,E=l.Correct){const R=E===l.Correct?a.operators.EQ:a.operators.NEQ;let A;switch(T){case"null":return(0,a._)`${j} ${R} null`;case"array":A=(0,a._)`Array.isArray(${j})`;break;case"object":A=(0,a._)`${j} && typeof ${j} == "object" && !Array.isArray(${j})`;break;case"integer":A=L((0,a._)`!(${j} % 1) && !isNaN(${j})`);break;case"number":A=L();break;default:return(0,a._)`typeof ${j} ${R} ${T}`}return E===l.Correct?A:(0,a.not)(A);function L(B=a.nil){return(0,a.and)((0,a._)`typeof ${j} == "number"`,B,V?(0,a._)`isFinite(${j})`:a.nil)}}e.checkDataType=O;function C(T,j,V,E){if(T.length===1)return O(T[0],j,V,E);let R;const A=(0,i.toHash)(T);if(A.array&&A.object){const L=(0,a._)`typeof ${j} != "object"`;R=A.null?L:(0,a._)`!${j} || ${L}`,delete A.null,delete A.array,delete A.object}else R=a.nil;A.number&&delete A.integer;for(const L in A)R=(0,a.and)(R,O(L,j,V,E));return R}e.checkDataTypes=C;const _={message:({schema:T})=>`must be ${T}`,params:({schema:T,schemaValue:j})=>typeof T=="string"?(0,a._)`{type: ${T}}`:(0,a._)`{type: ${j}}`};function d(T){const j=h(T);(0,n.reportError)(j,_)}e.reportTypeError=d;function h(T){const{gen:j,data:V,schema:E}=T,R=(0,i.schemaRefOrVal)(T,E,"type");return{gen:j,keyword:"type",data:V,schema:E.type,schemaCode:R,schemaValue:R,parentSchema:E,params:{},it:T}}})(qt);var cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.assignDefaults=void 0;const ht=W,es=x;function ts(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)bn(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,i)=>bn(e,i,a.default))}cr.assignDefaults=ts;function bn(e,t,r){const{gen:n,compositeRule:a,data:i,opts:l}=e;if(r===void 0)return;const m=(0,ht._)`${i}${(0,ht.getProperty)(t)}`;if(a){(0,es.checkStrictMode)(e,`default is ignored for: ${m}`);return}let v=(0,ht._)`${m} === undefined`;l.useDefaults==="empty"&&(v=(0,ht._)`${v} || ${m} === null || ${m} === ""`),n.if(v,(0,ht._)`${m} = ${(0,ht.stringify)(r)}`)}var Ue={},Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.validateUnion=Q.validateArray=Q.usePattern=Q.callValidateCode=Q.schemaProperties=Q.allSchemaProperties=Q.noPropertyInData=Q.propertyInData=Q.isOwnProperty=Q.hasPropFunc=Q.reportMissingProp=Q.checkMissingProp=Q.checkReportMissingProp=void 0;const ae=W,Nr=x,Je=Re,rs=x;function ns(e,t){const{gen:r,data:n,it:a}=e;r.if(Cr(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ae._)`${t}`},!0),e.error()})}Q.checkReportMissingProp=ns;function as({gen:e,data:t,it:{opts:r}},n,a){return(0,ae.or)(...n.map(i=>(0,ae.and)(Cr(e,t,i,r.ownProperties),(0,ae._)`${a} = ${i}`)))}Q.checkMissingProp=as;function ss(e,t){e.setParams({missingProperty:t},!0),e.error()}Q.reportMissingProp=ss;function Wn(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ae._)`Object.prototype.hasOwnProperty`})}Q.hasPropFunc=Wn;function Or(e,t,r){return(0,ae._)`${Wn(e)}.call(${t}, ${r})`}Q.isOwnProperty=Or;function os(e,t,r,n){const a=(0,ae._)`${t}${(0,ae.getProperty)(r)} !== undefined`;return n?(0,ae._)`${a} && ${Or(e,t,r)}`:a}Q.propertyInData=os;function Cr(e,t,r,n){const a=(0,ae._)`${t}${(0,ae.getProperty)(r)} === undefined`;return n?(0,ae.or)(a,(0,ae.not)(Or(e,t,r))):a}Q.noPropertyInData=Cr;function Bn(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Q.allSchemaProperties=Bn;function is(e,t){return Bn(t).filter(r=>!(0,Nr.alwaysValidSchema)(e,t[r]))}Q.schemaProperties=is;function cs({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:i},it:l},m,v,p){const y=p?(0,ae._)`${e}, ${t}, ${n}${a}`:t,g=[[Je.default.instancePath,(0,ae.strConcat)(Je.default.instancePath,i)],[Je.default.parentData,l.parentData],[Je.default.parentDataProperty,l.parentDataProperty],[Je.default.rootData,Je.default.rootData]];l.opts.dynamicRef&&g.push([Je.default.dynamicAnchors,Je.default.dynamicAnchors]);const k=(0,ae._)`${y}, ${r.object(...g)}`;return v!==ae.nil?(0,ae._)`${m}.call(${v}, ${k})`:(0,ae._)`${m}(${k})`}Q.callValidateCode=cs;const us=(0,ae._)`new RegExp`;function ls({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,i=a(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,ae._)`${a.code==="new RegExp"?us:(0,rs.useFunc)(e,a)}(${r}, ${n})`})}Q.usePattern=ls;function ds(e){const{gen:t,data:r,keyword:n,it:a}=e,i=t.name("valid");if(a.allErrors){const m=t.let("valid",!0);return l(()=>t.assign(m,!1)),m}return t.var(i,!0),l(()=>t.break()),i;function l(m){const v=t.const("len",(0,ae._)`${r}.length`);t.forRange("i",0,v,p=>{e.subschema({keyword:n,dataProp:p,dataPropType:Nr.Type.Num},i),t.if((0,ae.not)(i),m)})}}Q.validateArray=ds;function fs(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(v=>(0,Nr.alwaysValidSchema)(a,v))&&!a.opts.unevaluated)return;const l=t.let("valid",!1),m=t.name("_valid");t.block(()=>r.forEach((v,p)=>{const y=e.subschema({keyword:n,schemaProp:p,compositeRule:!0},m);t.assign(l,(0,ae._)`${l} || ${m}`),e.mergeValidEvaluated(y,m)||t.if((0,ae.not)(l))})),e.result(l,()=>e.reset(),()=>e.error(!0))}Q.validateUnion=fs;Object.defineProperty(Ue,"__esModule",{value:!0});Ue.validateKeywordUsage=Ue.validSchemaType=Ue.funcKeywordCode=Ue.macroKeywordCode=void 0;const $e=W,rt=Re,hs=Q,ps=_t;function ms(e,t){const{gen:r,keyword:n,schema:a,parentSchema:i,it:l}=e,m=t.macro.call(l.self,a,i,l),v=Qn(r,n,m);l.opts.validateSchema!==!1&&l.self.validateSchema(m,!0);const p=r.name("valid");e.subschema({schema:m,schemaPath:$e.nil,errSchemaPath:`${l.errSchemaPath}/${n}`,topSchemaRef:v,compositeRule:!0},p),e.pass(p,()=>e.error(!0))}Ue.macroKeywordCode=ms;function $s(e,t){var r;const{gen:n,keyword:a,schema:i,parentSchema:l,$data:m,it:v}=e;vs(v,t);const p=!m&&t.compile?t.compile.call(v.self,i,l,v):t.validate,y=Qn(n,a,p),g=n.let("valid");e.block$data(g,k),e.ok((r=t.valid)!==null&&r!==void 0?r:g);function k(){if(t.errors===!1)C(),t.modifying&&Sn(e),_(()=>e.error());else{const d=t.async?I():O();t.modifying&&Sn(e),_(()=>ys(e,d))}}function I(){const d=n.let("ruleErrs",null);return n.try(()=>C((0,$e._)`await `),h=>n.assign(g,!1).if((0,$e._)`${h} instanceof ${v.ValidationError}`,()=>n.assign(d,(0,$e._)`${h}.errors`),()=>n.throw(h))),d}function O(){const d=(0,$e._)`${y}.errors`;return n.assign(d,null),C($e.nil),d}function C(d=t.async?(0,$e._)`await `:$e.nil){const h=v.opts.passContext?rt.default.this:rt.default.self,T=!("compile"in t&&!m||t.schema===!1);n.assign(g,(0,$e._)`${d}${(0,hs.callValidateCode)(e,y,h,T)}`,t.modifying)}function _(d){var h;n.if((0,$e.not)((h=t.valid)!==null&&h!==void 0?h:g),d)}}Ue.funcKeywordCode=$s;function Sn(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,$e._)`${n.parentData}[${n.parentDataProperty}]`))}function ys(e,t){const{gen:r}=e;r.if((0,$e._)`Array.isArray(${t})`,()=>{r.assign(rt.default.vErrors,(0,$e._)`${rt.default.vErrors} === null ? ${t} : ${rt.default.vErrors}.concat(${t})`).assign(rt.default.errors,(0,$e._)`${rt.default.vErrors}.length`),(0,ps.extendErrors)(e)},()=>e.error())}function vs({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Qn(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,$e.stringify)(r)})}function gs(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ue.validSchemaType=gs;function _s({schema:e,opts:t,self:r,errSchemaPath:n},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw new Error("ajv implementation error");const l=a.dependencies;if(l!=null&&l.some(m=>!Object.prototype.hasOwnProperty.call(e,m)))throw new Error(`parent schema must have dependencies of ${i}: ${l.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[i])){const v=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(v);else throw new Error(v)}}Ue.validateKeywordUsage=_s;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.extendSubschemaMode=Qe.extendSubschemaData=Qe.getSubschema=void 0;const Fe=W,Xn=x;function ws(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:i,topSchemaRef:l}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const m=e.schema[t];return r===void 0?{schema:m,schemaPath:(0,Fe._)`${e.schemaPath}${(0,Fe.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:m[r],schemaPath:(0,Fe._)`${e.schemaPath}${(0,Fe.getProperty)(t)}${(0,Fe.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Xn.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||i===void 0||l===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:l,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Qe.getSubschema=ws;function Es(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:i,propertyName:l}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=t;if(r!==void 0){const{errorPath:p,dataPathArr:y,opts:g}=t,k=m.let("data",(0,Fe._)`${t.data}${(0,Fe.getProperty)(r)}`,!0);v(k),e.errorPath=(0,Fe.str)`${p}${(0,Xn.getErrorPath)(r,n,g.jsPropertySyntax)}`,e.parentDataProperty=(0,Fe._)`${r}`,e.dataPathArr=[...y,e.parentDataProperty]}if(a!==void 0){const p=a instanceof Fe.Name?a:m.let("data",a,!0);v(p),l!==void 0&&(e.propertyName=l)}i&&(e.dataTypes=i);function v(p){e.data=p,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,p]}}Qe.extendSubschemaData=Es;function bs(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:i}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Qe.extendSubschemaMode=bs;var pe={},Yn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var l=i[a];if(!e(t[l],r[l]))return!1}return!0}return t!==t&&r!==r},Zn={exports:{}},Be=Zn.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};xt(t,n,a,e,"",e)};Be.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Be.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Be.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Be.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xt(e,t,r,n,a,i,l,m,v,p){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,i,l,m,v,p);for(var y in n){var g=n[y];if(Array.isArray(g)){if(y in Be.arrayKeywords)for(var k=0;k<g.length;k++)xt(e,t,r,g[k],a+"/"+y+"/"+k,i,a,y,n,k)}else if(y in Be.propsKeywords){if(g&&typeof g=="object")for(var I in g)xt(e,t,r,g[I],a+"/"+y+"/"+Ss(I),i,a,y,n,I)}else(y in Be.keywords||e.allKeys&&!(y in Be.skipKeywords))&&xt(e,t,r,g,a+"/"+y,i,a,y,n)}r(n,a,i,l,m,v,p)}}function Ss(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Ps=Zn.exports;Object.defineProperty(pe,"__esModule",{value:!0});pe.getSchemaRefs=pe.resolveUrl=pe.normalizeId=pe._getFullPath=pe.getFullPath=pe.inlineRef=void 0;const Ns=x,Os=Yn,Cs=Ps,Rs=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ts(e,t=!0){return typeof e=="boolean"?!0:t===!0?!_r(e):t?xn(e)<=t:!1}pe.inlineRef=Ts;const js=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function _r(e){for(const t in e){if(js.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(_r)||typeof r=="object"&&_r(r))return!0}return!1}function xn(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Rs.has(r)&&(typeof e[r]=="object"&&(0,Ns.eachItem)(e[r],n=>t+=xn(n)),t===1/0))return 1/0}return t}function ea(e,t="",r){r!==!1&&(t=$t(t));const n=e.parse(t);return ta(e,n)}pe.getFullPath=ea;function ta(e,t){return e.serialize(t).split("#")[0]+"#"}pe._getFullPath=ta;const Is=/#\/?$/;function $t(e){return e?e.replace(Is,""):""}pe.normalizeId=$t;function ks(e,t,r){return r=$t(r),e.resolve(t,r)}pe.resolveUrl=ks;const Ds=/^[a-z_][-a-z0-9._]*$/i;function As(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=$t(e[r]||t),i={"":a},l=ea(n,a,!1),m={},v=new Set;return Cs(e,{allKeys:!0},(g,k,I,O)=>{if(O===void 0)return;const C=l+k;let _=i[O];typeof g[r]=="string"&&(_=d.call(this,g[r])),h.call(this,g.$anchor),h.call(this,g.$dynamicAnchor),i[k]=_;function d(T){const j=this.opts.uriResolver.resolve;if(T=$t(_?j(_,T):T),v.has(T))throw y(T);v.add(T);let V=this.refs[T];return typeof V=="string"&&(V=this.refs[V]),typeof V=="object"?p(g,V.schema,T):T!==$t(C)&&(T[0]==="#"?(p(g,m[T],T),m[T]=g):this.refs[T]=C),T}function h(T){if(typeof T=="string"){if(!Ds.test(T))throw new Error(`invalid anchor "${T}"`);d.call(this,`#${T}`)}}}),m;function p(g,k,I){if(k!==void 0&&!Os(g,k))throw y(I)}function y(g){return new Error(`reference "${g}" resolves to more than one schema`)}}pe.getSchemaRefs=As;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getData=Pe.KeywordCxt=Pe.validateFunctionCode=void 0;const ra=yt,Pn=qt,Rr=Ke,nr=qt,Ms=cr,At=Ue,hr=Qe,q=W,G=Re,Vs=pe,Le=x,It=_t;function Fs(e){if(sa(e)&&(oa(e),aa(e))){zs(e);return}na(e,()=>(0,ra.topBoolOrEmptySchema)(e))}Pe.validateFunctionCode=Fs;function na({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},i){a.code.es5?e.func(t,(0,q._)`${G.default.data}, ${G.default.valCxt}`,n.$async,()=>{e.code((0,q._)`"use strict"; ${Nn(r,a)}`),qs(e,a),e.code(i)}):e.func(t,(0,q._)`${G.default.data}, ${Us(a)}`,n.$async,()=>e.code(Nn(r,a)).code(i))}function Us(e){return(0,q._)`{${G.default.instancePath}="", ${G.default.parentData}, ${G.default.parentDataProperty}, ${G.default.rootData}=${G.default.data}${e.dynamicRef?(0,q._)`, ${G.default.dynamicAnchors}={}`:q.nil}}={}`}function qs(e,t){e.if(G.default.valCxt,()=>{e.var(G.default.instancePath,(0,q._)`${G.default.valCxt}.${G.default.instancePath}`),e.var(G.default.parentData,(0,q._)`${G.default.valCxt}.${G.default.parentData}`),e.var(G.default.parentDataProperty,(0,q._)`${G.default.valCxt}.${G.default.parentDataProperty}`),e.var(G.default.rootData,(0,q._)`${G.default.valCxt}.${G.default.rootData}`),t.dynamicRef&&e.var(G.default.dynamicAnchors,(0,q._)`${G.default.valCxt}.${G.default.dynamicAnchors}`)},()=>{e.var(G.default.instancePath,(0,q._)`""`),e.var(G.default.parentData,(0,q._)`undefined`),e.var(G.default.parentDataProperty,(0,q._)`undefined`),e.var(G.default.rootData,G.default.data),t.dynamicRef&&e.var(G.default.dynamicAnchors,(0,q._)`{}`)})}function zs(e){const{schema:t,opts:r,gen:n}=e;na(e,()=>{r.$comment&&t.$comment&&ca(e),Js(e),n.let(G.default.vErrors,null),n.let(G.default.errors,0),r.unevaluated&&Ks(e),ia(e),Qs(e)})}function Ks(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,q._)`${r}.evaluated`),t.if((0,q._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,q._)`${e.evaluated}.props`,(0,q._)`undefined`)),t.if((0,q._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,q._)`${e.evaluated}.items`,(0,q._)`undefined`))}function Nn(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,q._)`/*# sourceURL=${r} */`:q.nil}function Ls(e,t){if(sa(e)&&(oa(e),aa(e))){Hs(e,t);return}(0,ra.boolOrEmptySchema)(e,t)}function aa({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function sa(e){return typeof e.schema!="boolean"}function Hs(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&ca(e),Ws(e),Bs(e);const i=n.const("_errs",G.default.errors);ia(e,i),n.var(t,(0,q._)`${i} === ${G.default.errors}`)}function oa(e){(0,Le.checkUnknownRules)(e),Gs(e)}function ia(e,t){if(e.opts.jtd)return On(e,[],!1,t);const r=(0,Pn.getSchemaTypes)(e.schema),n=(0,Pn.coerceAndCheckDataType)(e,r);On(e,r,!n,t)}function Gs(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Le.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Js(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Le.checkStrictMode)(e,"default is ignored in the schema root")}function Ws(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Vs.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Bs(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ca({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const i=r.$comment;if(a.$comment===!0)e.code((0,q._)`${G.default.self}.logger.log(${i})`);else if(typeof a.$comment=="function"){const l=(0,q.str)`${n}/$comment`,m=e.scopeValue("root",{ref:t.root});e.code((0,q._)`${G.default.self}.opts.$comment(${i}, ${l}, ${m}.schema)`)}}function Qs(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:i}=e;r.$async?t.if((0,q._)`${G.default.errors} === 0`,()=>t.return(G.default.data),()=>t.throw((0,q._)`new ${a}(${G.default.vErrors})`)):(t.assign((0,q._)`${n}.errors`,G.default.vErrors),i.unevaluated&&Xs(e),t.return((0,q._)`${G.default.errors} === 0`))}function Xs({gen:e,evaluated:t,props:r,items:n}){r instanceof q.Name&&e.assign((0,q._)`${t}.props`,r),n instanceof q.Name&&e.assign((0,q._)`${t}.items`,n)}function On(e,t,r,n){const{gen:a,schema:i,data:l,allErrors:m,opts:v,self:p}=e,{RULES:y}=p;if(i.$ref&&(v.ignoreKeywordsWithRef||!(0,Le.schemaHasRulesButRef)(i,y))){a.block(()=>da(e,"$ref",y.all.$ref.definition));return}v.jtd||Ys(e,t),a.block(()=>{for(const k of y.rules)g(k);g(y.post)});function g(k){(0,Rr.shouldUseGroup)(i,k)&&(k.type?(a.if((0,nr.checkDataType)(k.type,l,v.strictNumbers)),Cn(e,k),t.length===1&&t[0]===k.type&&r&&(a.else(),(0,nr.reportTypeError)(e)),a.endIf()):Cn(e,k),m||a.if((0,q._)`${G.default.errors} === ${n||0}`))}}function Cn(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,Ms.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,Rr.shouldUseRule)(n,i)&&da(e,i.keyword,i.definition,t.type)})}function Ys(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Zs(e,t),e.opts.allowUnionTypes||xs(e,t),eo(e,e.dataTypes))}function Zs(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ua(e.dataTypes,r)||Tr(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),ro(e,t)}}function xs(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Tr(e,"use allowUnionTypes to allow union type keyword")}function eo(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,Rr.shouldUseRule)(e.schema,a)){const{type:i}=a.definition;i.length&&!i.some(l=>to(t,l))&&Tr(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function to(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ua(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ro(e,t){const r=[];for(const n of e.dataTypes)ua(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Tr(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Le.checkStrictMode)(e,t,e.opts.strictTypes)}class la{constructor(t,r,n){if((0,At.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Le.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",fa(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,At.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",G.default.errors))}result(t,r,n){this.failResult((0,q.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,q.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,q._)`${r} !== undefined && (${(0,q.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?It.reportExtraError:It.reportError)(this,this.def.error,r)}$dataError(){(0,It.reportError)(this,this.def.$dataError||It.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,It.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=q.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=q.nil,r=q.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:i,def:l}=this;n.if((0,q.or)((0,q._)`${a} === undefined`,r)),t!==q.nil&&n.assign(t,!0),(i.length||l.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==q.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:i}=this;return(0,q.or)(l(),m());function l(){if(n.length){if(!(r instanceof q.Name))throw new Error("ajv implementation error");const v=Array.isArray(n)?n:[n];return(0,q._)`${(0,nr.checkDataTypes)(v,r,i.opts.strictNumbers,nr.DataType.Wrong)}`}return q.nil}function m(){if(a.validateSchema){const v=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,q._)`!${v}(${r})`}return q.nil}}subschema(t,r){const n=(0,hr.getSubschema)(this.it,t);(0,hr.extendSubschemaData)(n,this.it,t),(0,hr.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return Ls(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Le.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Le.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,q.Name)),!0}}Pe.KeywordCxt=la;function da(e,t,r,n){const a=new la(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,At.funcKeywordCode)(a,r):"macro"in r?(0,At.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,At.funcKeywordCode)(a,r)}const no=/^\/(?:[^~]|~0|~1)*$/,ao=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function fa(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,i;if(e==="")return G.default.rootData;if(e[0]==="/"){if(!no.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,i=G.default.rootData}else{const p=ao.exec(e);if(!p)throw new Error(`Invalid JSON-pointer: ${e}`);const y=+p[1];if(a=p[2],a==="#"){if(y>=t)throw new Error(v("property/index",y));return n[t-y]}if(y>t)throw new Error(v("data",y));if(i=r[t-y],!a)return i}let l=i;const m=a.split("/");for(const p of m)p&&(i=(0,q._)`${i}${(0,q.getProperty)((0,Le.unescapeJsonPointer)(p))}`,l=(0,q._)`${l} && ${i}`);return l;function v(p,y){return`Cannot access ${p} ${y} levels up, current level is ${t}`}}Pe.getData=fa;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});class so extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}zt.default=so;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});const pr=pe;class oo extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,pr.resolveUrl)(t,r,n),this.missingSchema=(0,pr.normalizeId)((0,pr.getFullPath)(t,this.missingRef))}}Kt.default=oo;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.resolveSchema=_e.getCompilingSchema=_e.resolveRef=_e.compileSchema=_e.SchemaEnv=void 0;const Ne=W,io=zt,tt=Re,Ce=pe,Rn=x,co=Pe;class ur{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ce.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}_e.SchemaEnv=ur;function jr(e){const t=ha.call(this,e);if(t)return t;const r=(0,Ce.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:i}=this.opts,l=new Ne.CodeGen(this.scope,{es5:n,lines:a,ownProperties:i});let m;e.$async&&(m=l.scopeValue("Error",{ref:io.default,code:(0,Ne._)`require("ajv/dist/runtime/validation_error").default`}));const v=l.scopeName("validate");e.validateName=v;const p={gen:l,allErrors:this.opts.allErrors,data:tt.default.data,parentData:tt.default.parentData,parentDataProperty:tt.default.parentDataProperty,dataNames:[tt.default.data],dataPathArr:[Ne.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ne.stringify)(e.schema)}:{ref:e.schema}),validateName:v,ValidationError:m,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ne.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ne._)`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,co.validateFunctionCode)(p),l.optimize(this.opts.code.optimize);const g=l.toString();y=`${l.scopeRefs(tt.default.scope)}return ${g}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const I=new Function(`${tt.default.self}`,`${tt.default.scope}`,y)(this,this.scope.get());if(this.scope.value(v,{ref:I}),I.errors=null,I.schema=e.schema,I.schemaEnv=e,e.$async&&(I.$async=!0),this.opts.code.source===!0&&(I.source={validateName:v,validateCode:g,scopeValues:l._values}),this.opts.unevaluated){const{props:O,items:C}=p;I.evaluated={props:O instanceof Ne.Name?void 0:O,items:C instanceof Ne.Name?void 0:C,dynamicProps:O instanceof Ne.Name,dynamicItems:C instanceof Ne.Name},I.source&&(I.source.evaluated=(0,Ne.stringify)(I.evaluated))}return e.validate=I,e}catch(g){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),g}finally{this._compilations.delete(e)}}_e.compileSchema=jr;function uo(e,t,r){var n;r=(0,Ce.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let i=ho.call(this,e,r);if(i===void 0){const l=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:m}=this.opts;l&&(i=new ur({schema:l,schemaId:m,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=lo.call(this,i)}_e.resolveRef=uo;function lo(e){return(0,Ce.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:jr.call(this,e)}function ha(e){for(const t of this._compilations)if(fo(t,e))return t}_e.getCompilingSchema=ha;function fo(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function ho(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||lr.call(this,e,t)}function lr(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Ce._getFullPath)(this.opts.uriResolver,r);let a=(0,Ce.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return mr.call(this,r,e);const i=(0,Ce.normalizeId)(n),l=this.refs[i]||this.schemas[i];if(typeof l=="string"){const m=lr.call(this,e,l);return typeof(m==null?void 0:m.schema)!="object"?void 0:mr.call(this,r,m)}if(typeof(l==null?void 0:l.schema)=="object"){if(l.validate||jr.call(this,l),i===(0,Ce.normalizeId)(t)){const{schema:m}=l,{schemaId:v}=this.opts,p=m[v];return p&&(a=(0,Ce.resolveUrl)(this.opts.uriResolver,a,p)),new ur({schema:m,schemaId:v,root:e,baseId:a})}return mr.call(this,r,l)}}_e.resolveSchema=lr;const po=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function mr(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const m of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const v=r[(0,Rn.unescapeFragment)(m)];if(v===void 0)return;r=v;const p=typeof r=="object"&&r[this.opts.schemaId];!po.has(m)&&p&&(t=(0,Ce.resolveUrl)(this.opts.uriResolver,t,p))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Rn.schemaHasRulesButRef)(r,this.RULES)){const m=(0,Ce.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=lr.call(this,n,m)}const{schemaId:l}=this.opts;if(i=i||new ur({schema:r,schemaId:l,root:n,baseId:t}),i.schema!==i.root.schema)return i}const mo="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",$o="Meta-schema for $data reference (JSON AnySchema extension proposal)",yo="object",vo=["$data"],go={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},_o=!1,wo={$id:mo,description:$o,type:yo,required:vo,properties:go,additionalProperties:_o};var Ir={},wr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Ma,function(r){function n(){for(var u=arguments.length,o=Array(u),f=0;f<u;f++)o[f]=arguments[f];if(o.length>1){o[0]=o[0].slice(0,-1);for(var N=o.length-1,P=1;P<N;++P)o[P]=o[P].slice(1,-1);return o[N]=o[N].slice(1),o.join("")}else return o[0]}function a(u){return"(?:"+u+")"}function i(u){return u===void 0?"undefined":u===null?"null":Object.prototype.toString.call(u).split(" ").pop().split("]").shift().toLowerCase()}function l(u){return u.toUpperCase()}function m(u){return u!=null?u instanceof Array?u:typeof u.length!="number"||u.split||u.setInterval||u.call?[u]:Array.prototype.slice.call(u):[]}function v(u,o){var f=u;if(o)for(var N in o)f[N]=o[N];return f}function p(u){var o="[A-Za-z]",f="[0-9]",N=n(f,"[A-Fa-f]"),P=a(a("%[EFef]"+N+"%"+N+N+"%"+N+N)+"|"+a("%[89A-Fa-f]"+N+"%"+N+N)+"|"+a("%"+N+N)),z="[\\:\\/\\?\\#\\[\\]\\@]",K="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Z=n(z,K),ne=u?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ue=u?"[\\uE000-\\uF8FF]":"[]",Y=n(o,f,"[\\-\\.\\_\\~]",ne);a(o+n(o,f,"[\\+\\-\\.]")+"*"),a(a(P+"|"+n(Y,K,"[\\:]"))+"*");var te=a(a("25[0-5]")+"|"+a("2[0-4]"+f)+"|"+a("1"+f+f)+"|"+a("0?[1-9]"+f)+"|0?0?"+f),le=a(te+"\\."+te+"\\."+te+"\\."+te),J=a(N+"{1,4}"),oe=a(a(J+"\\:"+J)+"|"+le),fe=a(a(J+"\\:")+"{6}"+oe),ie=a("\\:\\:"+a(J+"\\:")+"{5}"+oe),Ge=a(a(J)+"?\\:\\:"+a(J+"\\:")+"{4}"+oe),Ae=a(a(a(J+"\\:")+"{0,1}"+J)+"?\\:\\:"+a(J+"\\:")+"{3}"+oe),Me=a(a(a(J+"\\:")+"{0,2}"+J)+"?\\:\\:"+a(J+"\\:")+"{2}"+oe),ft=a(a(a(J+"\\:")+"{0,3}"+J)+"?\\:\\:"+J+"\\:"+oe),xe=a(a(a(J+"\\:")+"{0,4}"+J)+"?\\:\\:"+oe),be=a(a(a(J+"\\:")+"{0,5}"+J)+"?\\:\\:"+J),Ve=a(a(a(J+"\\:")+"{0,6}"+J)+"?\\:\\:"),et=a([fe,ie,Ge,Ae,Me,ft,xe,be,Ve].join("|")),ze=a(a(Y+"|"+P)+"+");a("[vV]"+N+"+\\."+n(Y,K,"[\\:]")+"+"),a(a(P+"|"+n(Y,K))+"*");var Tt=a(P+"|"+n(Y,K,"[\\:\\@]"));return a(a(P+"|"+n(Y,K,"[\\@]"))+"+"),a(a(Tt+"|"+n("[\\/\\?]",ue))+"*"),{NOT_SCHEME:new RegExp(n("[^]",o,f,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Y,K),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Y,K),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Y,K),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Y,K),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Y,K,"[\\:\\@\\/\\?]",ue),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Y,K,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Y,K),"g"),UNRESERVED:new RegExp(Y,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Y,Z),"g"),PCT_ENCODED:new RegExp(P,"g"),IPV4ADDRESS:new RegExp("^("+le+")$"),IPV6ADDRESS:new RegExp("^\\[?("+et+")"+a(a("\\%25|\\%(?!"+N+"{2})")+"("+ze+")")+"?\\]?$")}}var y=p(!1),g=p(!0),k=function(){function u(o,f){var N=[],P=!0,z=!1,K=void 0;try{for(var Z=o[Symbol.iterator](),ne;!(P=(ne=Z.next()).done)&&(N.push(ne.value),!(f&&N.length===f));P=!0);}catch(ue){z=!0,K=ue}finally{try{!P&&Z.return&&Z.return()}finally{if(z)throw K}}return N}return function(o,f){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return u(o,f);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=function(u){if(Array.isArray(u)){for(var o=0,f=Array(u.length);o<u.length;o++)f[o]=u[o];return f}else return Array.from(u)},O=2147483647,C=36,_=1,d=26,h=38,T=700,j=72,V=128,E="-",R=/^xn--/,A=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=C-_,X=Math.floor,ye=String.fromCharCode;function ce(u){throw new RangeError(B[u])}function qe(u,o){for(var f=[],N=u.length;N--;)f[N]=o(u[N]);return f}function Te(u,o){var f=u.split("@"),N="";f.length>1&&(N=f[0]+"@",u=f[1]),u=u.replace(L,".");var P=u.split("."),z=qe(P,o).join(".");return N+z}function He(u){for(var o=[],f=0,N=u.length;f<N;){var P=u.charCodeAt(f++);if(P>=55296&&P<=56319&&f<N){var z=u.charCodeAt(f++);(z&64512)==56320?o.push(((P&1023)<<10)+(z&1023)+65536):(o.push(P),f--)}else o.push(P)}return o}var Xe=function(o){return String.fromCodePoint.apply(String,I(o))},je=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:C},F=function(o,f){return o+22+75*(o<26)-((f!=0)<<5)},w=function(o,f,N){var P=0;for(o=N?X(o/T):o>>1,o+=X(o/f);o>re*d>>1;P+=C)o=X(o/re);return X(P+(re+1)*o/(o+h))},b=function(o){var f=[],N=o.length,P=0,z=V,K=j,Z=o.lastIndexOf(E);Z<0&&(Z=0);for(var ne=0;ne<Z;++ne)o.charCodeAt(ne)>=128&&ce("not-basic"),f.push(o.charCodeAt(ne));for(var ue=Z>0?Z+1:0;ue<N;){for(var Y=P,te=1,le=C;;le+=C){ue>=N&&ce("invalid-input");var J=je(o.charCodeAt(ue++));(J>=C||J>X((O-P)/te))&&ce("overflow"),P+=J*te;var oe=le<=K?_:le>=K+d?d:le-K;if(J<oe)break;var fe=C-oe;te>X(O/fe)&&ce("overflow"),te*=fe}var ie=f.length+1;K=w(P-Y,ie,Y==0),X(P/ie)>O-z&&ce("overflow"),z+=X(P/ie),P%=ie,f.splice(P++,0,z)}return String.fromCodePoint.apply(String,f)},$=function(o){var f=[];o=He(o);var N=o.length,P=V,z=0,K=j,Z=!0,ne=!1,ue=void 0;try{for(var Y=o[Symbol.iterator](),te;!(Z=(te=Y.next()).done);Z=!0){var le=te.value;le<128&&f.push(ye(le))}}catch(jt){ne=!0,ue=jt}finally{try{!Z&&Y.return&&Y.return()}finally{if(ne)throw ue}}var J=f.length,oe=J;for(J&&f.push(E);oe<N;){var fe=O,ie=!0,Ge=!1,Ae=void 0;try{for(var Me=o[Symbol.iterator](),ft;!(ie=(ft=Me.next()).done);ie=!0){var xe=ft.value;xe>=P&&xe<fe&&(fe=xe)}}catch(jt){Ge=!0,Ae=jt}finally{try{!ie&&Me.return&&Me.return()}finally{if(Ge)throw Ae}}var be=oe+1;fe-P>X((O-z)/be)&&ce("overflow"),z+=(fe-P)*be,P=fe;var Ve=!0,et=!1,ze=void 0;try{for(var Tt=o[Symbol.iterator](),gn;!(Ve=(gn=Tt.next()).done);Ve=!0){var _n=gn.value;if(_n<P&&++z>O&&ce("overflow"),_n==P){for(var Gt=z,Jt=C;;Jt+=C){var Wt=Jt<=K?_:Jt>=K+d?d:Jt-K;if(Gt<Wt)break;var wn=Gt-Wt,En=C-Wt;f.push(ye(F(Wt+wn%En,0))),Gt=X(wn/En)}f.push(ye(F(Gt,0))),K=w(z,be,oe==J),z=0,++oe}}}catch(jt){et=!0,ze=jt}finally{try{!Ve&&Tt.return&&Tt.return()}finally{if(et)throw ze}}++z,++P}return f.join("")},s=function(o){return Te(o,function(f){return R.test(f)?b(f.slice(4).toLowerCase()):f})},c=function(o){return Te(o,function(f){return A.test(f)?"xn--"+$(f):f})},S={version:"2.1.0",ucs2:{decode:He,encode:Xe},decode:b,encode:$,toASCII:c,toUnicode:s},M={};function D(u){var o=u.charCodeAt(0),f=void 0;return o<16?f="%0"+o.toString(16).toUpperCase():o<128?f="%"+o.toString(16).toUpperCase():o<2048?f="%"+(o>>6|192).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase():f="%"+(o>>12|224).toString(16).toUpperCase()+"%"+(o>>6&63|128).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase(),f}function U(u){for(var o="",f=0,N=u.length;f<N;){var P=parseInt(u.substr(f+1,2),16);if(P<128)o+=String.fromCharCode(P),f+=3;else if(P>=194&&P<224){if(N-f>=6){var z=parseInt(u.substr(f+4,2),16);o+=String.fromCharCode((P&31)<<6|z&63)}else o+=u.substr(f,6);f+=6}else if(P>=224){if(N-f>=9){var K=parseInt(u.substr(f+4,2),16),Z=parseInt(u.substr(f+7,2),16);o+=String.fromCharCode((P&15)<<12|(K&63)<<6|Z&63)}else o+=u.substr(f,9);f+=9}else o+=u.substr(f,3),f+=3}return o}function H(u,o){function f(N){var P=U(N);return P.match(o.UNRESERVED)?P:N}return u.scheme&&(u.scheme=String(u.scheme).replace(o.PCT_ENCODED,f).toLowerCase().replace(o.NOT_SCHEME,"")),u.userinfo!==void 0&&(u.userinfo=String(u.userinfo).replace(o.PCT_ENCODED,f).replace(o.NOT_USERINFO,D).replace(o.PCT_ENCODED,l)),u.host!==void 0&&(u.host=String(u.host).replace(o.PCT_ENCODED,f).toLowerCase().replace(o.NOT_HOST,D).replace(o.PCT_ENCODED,l)),u.path!==void 0&&(u.path=String(u.path).replace(o.PCT_ENCODED,f).replace(u.scheme?o.NOT_PATH:o.NOT_PATH_NOSCHEME,D).replace(o.PCT_ENCODED,l)),u.query!==void 0&&(u.query=String(u.query).replace(o.PCT_ENCODED,f).replace(o.NOT_QUERY,D).replace(o.PCT_ENCODED,l)),u.fragment!==void 0&&(u.fragment=String(u.fragment).replace(o.PCT_ENCODED,f).replace(o.NOT_FRAGMENT,D).replace(o.PCT_ENCODED,l)),u}function ee(u){return u.replace(/^0*(.*)/,"$1")||"0"}function se(u,o){var f=u.match(o.IPV4ADDRESS)||[],N=k(f,2),P=N[1];return P?P.split(".").map(ee).join("."):u}function Ie(u,o){var f=u.match(o.IPV6ADDRESS)||[],N=k(f,3),P=N[1],z=N[2];if(P){for(var K=P.toLowerCase().split("::").reverse(),Z=k(K,2),ne=Z[0],ue=Z[1],Y=ue?ue.split(":").map(ee):[],te=ne.split(":").map(ee),le=o.IPV4ADDRESS.test(te[te.length-1]),J=le?7:8,oe=te.length-J,fe=Array(J),ie=0;ie<J;++ie)fe[ie]=Y[ie]||te[oe+ie]||"";le&&(fe[J-1]=se(fe[J-1],o));var Ge=fe.reduce(function(be,Ve,et){if(!Ve||Ve==="0"){var ze=be[be.length-1];ze&&ze.index+ze.length===et?ze.length++:be.push({index:et,length:1})}return be},[]),Ae=Ge.sort(function(be,Ve){return Ve.length-be.length})[0],Me=void 0;if(Ae&&Ae.length>1){var ft=fe.slice(0,Ae.index),xe=fe.slice(Ae.index+Ae.length);Me=ft.join(":")+"::"+xe.join(":")}else Me=fe.join(":");return z&&(Me+="%"+z),Me}else return u}var bt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,St="".match(/(){0}/)[1]===void 0;function we(u){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f={},N=o.iri!==!1?g:y;o.reference==="suffix"&&(u=(o.scheme?o.scheme+":":"")+"//"+u);var P=u.match(bt);if(P){St?(f.scheme=P[1],f.userinfo=P[3],f.host=P[4],f.port=parseInt(P[5],10),f.path=P[6]||"",f.query=P[7],f.fragment=P[8],isNaN(f.port)&&(f.port=P[5])):(f.scheme=P[1]||void 0,f.userinfo=u.indexOf("@")!==-1?P[3]:void 0,f.host=u.indexOf("//")!==-1?P[4]:void 0,f.port=parseInt(P[5],10),f.path=P[6]||"",f.query=u.indexOf("?")!==-1?P[7]:void 0,f.fragment=u.indexOf("#")!==-1?P[8]:void 0,isNaN(f.port)&&(f.port=u.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),f.host&&(f.host=Ie(se(f.host,N),N)),f.scheme===void 0&&f.userinfo===void 0&&f.host===void 0&&f.port===void 0&&!f.path&&f.query===void 0?f.reference="same-document":f.scheme===void 0?f.reference="relative":f.fragment===void 0?f.reference="absolute":f.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==f.reference&&(f.error=f.error||"URI is not a "+o.reference+" reference.");var z=M[(o.scheme||f.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!z||!z.unicodeSupport)){if(f.host&&(o.domainHost||z&&z.domainHost))try{f.host=S.toASCII(f.host.replace(N.PCT_ENCODED,U).toLowerCase())}catch(K){f.error=f.error||"Host's domain name can not be converted to ASCII via punycode: "+K}H(f,y)}else H(f,N);z&&z.parse&&z.parse(f,o)}else f.error=f.error||"URI can not be parsed.";return f}function Pt(u,o){var f=o.iri!==!1?g:y,N=[];return u.userinfo!==void 0&&(N.push(u.userinfo),N.push("@")),u.host!==void 0&&N.push(Ie(se(String(u.host),f),f).replace(f.IPV6ADDRESS,function(P,z,K){return"["+z+(K?"%25"+K:"")+"]"})),(typeof u.port=="number"||typeof u.port=="string")&&(N.push(":"),N.push(String(u.port))),N.length?N.join(""):void 0}var it=/^\.\.?\//,ct=/^\/\.(\/|$)/,ut=/^\/\.\.(\/|$)/,Nt=/^\/?(?:.|\n)*?(?=\/|$)/;function ke(u){for(var o=[];u.length;)if(u.match(it))u=u.replace(it,"");else if(u.match(ct))u=u.replace(ct,"/");else if(u.match(ut))u=u.replace(ut,"/"),o.pop();else if(u==="."||u==="..")u="";else{var f=u.match(Nt);if(f){var N=f[0];u=u.slice(N.length),o.push(N)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function ve(u){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=o.iri?g:y,N=[],P=M[(o.scheme||u.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(u,o),u.host&&!f.IPV6ADDRESS.test(u.host)){if(o.domainHost||P&&P.domainHost)try{u.host=o.iri?S.toUnicode(u.host):S.toASCII(u.host.replace(f.PCT_ENCODED,U).toLowerCase())}catch(Z){u.error=u.error||"Host's domain name can not be converted to "+(o.iri?"Unicode":"ASCII")+" via punycode: "+Z}}H(u,f),o.reference!=="suffix"&&u.scheme&&(N.push(u.scheme),N.push(":"));var z=Pt(u,o);if(z!==void 0&&(o.reference!=="suffix"&&N.push("//"),N.push(z),u.path&&u.path.charAt(0)!=="/"&&N.push("/")),u.path!==void 0){var K=u.path;!o.absolutePath&&(!P||!P.absolutePath)&&(K=ke(K)),z===void 0&&(K=K.replace(/^\/\//,"/%2F")),N.push(K)}return u.query!==void 0&&(N.push("?"),N.push(u.query)),u.fragment!==void 0&&(N.push("#"),N.push(u.fragment)),N.join("")}function lt(u,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=arguments[3],P={};return N||(u=we(ve(u,f),f),o=we(ve(o,f),f)),f=f||{},!f.tolerant&&o.scheme?(P.scheme=o.scheme,P.userinfo=o.userinfo,P.host=o.host,P.port=o.port,P.path=ke(o.path||""),P.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(P.userinfo=o.userinfo,P.host=o.host,P.port=o.port,P.path=ke(o.path||""),P.query=o.query):(o.path?(o.path.charAt(0)==="/"?P.path=ke(o.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?P.path="/"+o.path:u.path?P.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+o.path:P.path=o.path,P.path=ke(P.path)),P.query=o.query):(P.path=u.path,o.query!==void 0?P.query=o.query:P.query=u.query),P.userinfo=u.userinfo,P.host=u.host,P.port=u.port),P.scheme=u.scheme),P.fragment=o.fragment,P}function Ot(u,o,f){var N=v({scheme:"null"},f);return ve(lt(we(u,N),we(o,N),N,!0),N)}function Ye(u,o){return typeof u=="string"?u=ve(we(u,o),o):i(u)==="object"&&(u=we(ve(u,o),o)),u}function Ct(u,o,f){return typeof u=="string"?u=ve(we(u,f),f):i(u)==="object"&&(u=ve(u,f)),typeof o=="string"?o=ve(we(o,f),f):i(o)==="object"&&(o=ve(o,f)),u===o}function Ht(u,o){return u&&u.toString().replace(!o||!o.iri?y.ESCAPE:g.ESCAPE,D)}function Ee(u,o){return u&&u.toString().replace(!o||!o.iri?y.PCT_ENCODED:g.PCT_ENCODED,U)}var Ze={scheme:"http",domainHost:!0,parse:function(o,f){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,f){var N=String(o.scheme).toLowerCase()==="https";return(o.port===(N?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}},dn={scheme:"https",domainHost:Ze.domainHost,parse:Ze.parse,serialize:Ze.serialize};function fn(u){return typeof u.secure=="boolean"?u.secure:String(u.scheme).toLowerCase()==="wss"}var Rt={scheme:"ws",domainHost:!0,parse:function(o,f){var N=o;return N.secure=fn(N),N.resourceName=(N.path||"/")+(N.query?"?"+N.query:""),N.path=void 0,N.query=void 0,N},serialize:function(o,f){if((o.port===(fn(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var N=o.resourceName.split("?"),P=k(N,2),z=P[0],K=P[1];o.path=z&&z!=="/"?z:void 0,o.query=K,o.resourceName=void 0}return o.fragment=void 0,o}},hn={scheme:"wss",domainHost:Rt.domainHost,parse:Rt.parse,serialize:Rt.serialize},Pa={},pn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",De="[0-9A-Fa-f]",Na=a(a("%[EFef]"+De+"%"+De+De+"%"+De+De)+"|"+a("%[89A-Fa-f]"+De+"%"+De+De)+"|"+a("%"+De+De)),Oa="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ca="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ra=n(Ca,'[\\"\\\\]'),Ta="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ja=new RegExp(pn,"g"),dt=new RegExp(Na,"g"),Ia=new RegExp(n("[^]",Oa,"[\\.]",'[\\"]',Ra),"g"),mn=new RegExp(n("[^]",pn,Ta),"g"),ka=mn;function fr(u){var o=U(u);return o.match(ja)?o:u}var $n={scheme:"mailto",parse:function(o,f){var N=o,P=N.to=N.path?N.path.split(","):[];if(N.path=void 0,N.query){for(var z=!1,K={},Z=N.query.split("&"),ne=0,ue=Z.length;ne<ue;++ne){var Y=Z[ne].split("=");switch(Y[0]){case"to":for(var te=Y[1].split(","),le=0,J=te.length;le<J;++le)P.push(te[le]);break;case"subject":N.subject=Ee(Y[1],f);break;case"body":N.body=Ee(Y[1],f);break;default:z=!0,K[Ee(Y[0],f)]=Ee(Y[1],f);break}}z&&(N.headers=K)}N.query=void 0;for(var oe=0,fe=P.length;oe<fe;++oe){var ie=P[oe].split("@");if(ie[0]=Ee(ie[0]),f.unicodeSupport)ie[1]=Ee(ie[1],f).toLowerCase();else try{ie[1]=S.toASCII(Ee(ie[1],f).toLowerCase())}catch(Ge){N.error=N.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ge}P[oe]=ie.join("@")}return N},serialize:function(o,f){var N=o,P=m(o.to);if(P){for(var z=0,K=P.length;z<K;++z){var Z=String(P[z]),ne=Z.lastIndexOf("@"),ue=Z.slice(0,ne).replace(dt,fr).replace(dt,l).replace(Ia,D),Y=Z.slice(ne+1);try{Y=f.iri?S.toUnicode(Y):S.toASCII(Ee(Y,f).toLowerCase())}catch(oe){N.error=N.error||"Email address's domain name can not be converted to "+(f.iri?"Unicode":"ASCII")+" via punycode: "+oe}P[z]=ue+"@"+Y}N.path=P.join(",")}var te=o.headers=o.headers||{};o.subject&&(te.subject=o.subject),o.body&&(te.body=o.body);var le=[];for(var J in te)te[J]!==Pa[J]&&le.push(J.replace(dt,fr).replace(dt,l).replace(mn,D)+"="+te[J].replace(dt,fr).replace(dt,l).replace(ka,D));return le.length&&(N.query=le.join("&")),N}},Da=/^([^\:]+)\:(.*)/,yn={scheme:"urn",parse:function(o,f){var N=o.path&&o.path.match(Da),P=o;if(N){var z=f.scheme||P.scheme||"urn",K=N[1].toLowerCase(),Z=N[2],ne=z+":"+(f.nid||K),ue=M[ne];P.nid=K,P.nss=Z,P.path=void 0,ue&&(P=ue.parse(P,f))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(o,f){var N=f.scheme||o.scheme||"urn",P=o.nid,z=N+":"+(f.nid||P),K=M[z];K&&(o=K.serialize(o,f));var Z=o,ne=o.nss;return Z.path=(P||f.nid)+":"+ne,Z}},Aa=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,vn={scheme:"urn:uuid",parse:function(o,f){var N=o;return N.uuid=N.nss,N.nss=void 0,!f.tolerant&&(!N.uuid||!N.uuid.match(Aa))&&(N.error=N.error||"UUID is not valid."),N},serialize:function(o,f){var N=o;return N.nss=(o.uuid||"").toLowerCase(),N}};M[Ze.scheme]=Ze,M[dn.scheme]=dn,M[Rt.scheme]=Rt,M[hn.scheme]=hn,M[$n.scheme]=$n,M[yn.scheme]=yn,M[vn.scheme]=vn,r.SCHEMES=M,r.pctEncChar=D,r.pctDecChars=U,r.parse=we,r.removeDotSegments=ke,r.serialize=ve,r.resolveComponents=lt,r.resolve=Ot,r.normalize=Ye,r.equal=Ct,r.escapeComponent=Ht,r.unescapeComponent=Ee,Object.defineProperty(r,"__esModule",{value:!0})})})(wr,wr.exports);var Eo=wr.exports;Object.defineProperty(Ir,"__esModule",{value:!0});const pa=Eo;pa.code='require("ajv/dist/runtime/uri").default';Ir.default=pa;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Pe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=W;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=zt,a=Kt,i=st,l=_e,m=W,v=pe,p=qt,y=x,g=wo,k=Ir,I=(F,w)=>new RegExp(F,w);I.code="new RegExp";const O=["removeAdditional","useDefaults","coerceTypes"],C=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},h=200;function T(F){var w,b,$,s,c,S,M,D,U,H,ee,se,Ie,bt,St,we,Pt,it,ct,ut,Nt,ke,ve,lt,Ot;const Ye=F.strict,Ct=(w=F.code)===null||w===void 0?void 0:w.optimize,Ht=Ct===!0||Ct===void 0?1:Ct||0,Ee=($=(b=F.code)===null||b===void 0?void 0:b.regExp)!==null&&$!==void 0?$:I,Ze=(s=F.uriResolver)!==null&&s!==void 0?s:k.default;return{strictSchema:(S=(c=F.strictSchema)!==null&&c!==void 0?c:Ye)!==null&&S!==void 0?S:!0,strictNumbers:(D=(M=F.strictNumbers)!==null&&M!==void 0?M:Ye)!==null&&D!==void 0?D:!0,strictTypes:(H=(U=F.strictTypes)!==null&&U!==void 0?U:Ye)!==null&&H!==void 0?H:"log",strictTuples:(se=(ee=F.strictTuples)!==null&&ee!==void 0?ee:Ye)!==null&&se!==void 0?se:"log",strictRequired:(bt=(Ie=F.strictRequired)!==null&&Ie!==void 0?Ie:Ye)!==null&&bt!==void 0?bt:!1,code:F.code?{...F.code,optimize:Ht,regExp:Ee}:{optimize:Ht,regExp:Ee},loopRequired:(St=F.loopRequired)!==null&&St!==void 0?St:h,loopEnum:(we=F.loopEnum)!==null&&we!==void 0?we:h,meta:(Pt=F.meta)!==null&&Pt!==void 0?Pt:!0,messages:(it=F.messages)!==null&&it!==void 0?it:!0,inlineRefs:(ct=F.inlineRefs)!==null&&ct!==void 0?ct:!0,schemaId:(ut=F.schemaId)!==null&&ut!==void 0?ut:"$id",addUsedSchema:(Nt=F.addUsedSchema)!==null&&Nt!==void 0?Nt:!0,validateSchema:(ke=F.validateSchema)!==null&&ke!==void 0?ke:!0,validateFormats:(ve=F.validateFormats)!==null&&ve!==void 0?ve:!0,unicodeRegExp:(lt=F.unicodeRegExp)!==null&&lt!==void 0?lt:!0,int32range:(Ot=F.int32range)!==null&&Ot!==void 0?Ot:!0,uriResolver:Ze}}class j{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...T(w)};const{es5:b,lines:$}=this.opts.code;this.scope=new m.ValueScope({scope:{},prefixes:C,es5:b,lines:$}),this.logger=X(w.logger);const s=w.validateFormats;w.validateFormats=!1,this.RULES=(0,i.getRules)(),V.call(this,_,w,"NOT SUPPORTED"),V.call(this,d,w,"DEPRECATED","warn"),this._metaOpts=B.call(this),w.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&L.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),R.call(this),w.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:b,schemaId:$}=this.opts;let s=g;$==="id"&&(s={...g},s.id=s.$id,delete s.$id),b&&w&&this.addMetaSchema(s,s[$],!1)}defaultMeta(){const{meta:w,schemaId:b}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[b]||w:void 0}validate(w,b){let $;if(typeof w=="string"){if($=this.getSchema(w),!$)throw new Error(`no schema with key or ref "${w}"`)}else $=this.compile(w);const s=$(b);return"$async"in $||(this.errors=$.errors),s}compile(w,b){const $=this._addSchema(w,b);return $.validate||this._compileSchemaEnv($)}compileAsync(w,b){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return s.call(this,w,b);async function s(H,ee){await c.call(this,H.$schema);const se=this._addSchema(H,ee);return se.validate||S.call(this,se)}async function c(H){H&&!this.getSchema(H)&&await s.call(this,{$ref:H},!0)}async function S(H){try{return this._compileSchemaEnv(H)}catch(ee){if(!(ee instanceof a.default))throw ee;return M.call(this,ee),await D.call(this,ee.missingSchema),S.call(this,H)}}function M({missingSchema:H,missingRef:ee}){if(this.refs[H])throw new Error(`AnySchema ${H} is loaded but ${ee} cannot be resolved`)}async function D(H){const ee=await U.call(this,H);this.refs[H]||await c.call(this,ee.$schema),this.refs[H]||this.addSchema(ee,H,b)}async function U(H){const ee=this._loading[H];if(ee)return ee;try{return await(this._loading[H]=$(H))}finally{delete this._loading[H]}}}addSchema(w,b,$,s=this.opts.validateSchema){if(Array.isArray(w)){for(const S of w)this.addSchema(S,void 0,$,s);return this}let c;if(typeof w=="object"){const{schemaId:S}=this.opts;if(c=w[S],c!==void 0&&typeof c!="string")throw new Error(`schema ${S} must be string`)}return b=(0,v.normalizeId)(b||c),this._checkUnique(b),this.schemas[b]=this._addSchema(w,$,b,s,!0),this}addMetaSchema(w,b,$=this.opts.validateSchema){return this.addSchema(w,b,!0,$),this}validateSchema(w,b){if(typeof w=="boolean")return!0;let $;if($=w.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate($,w);if(!s&&b){const c="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(c);else throw new Error(c)}return s}getSchema(w){let b;for(;typeof(b=E.call(this,w))=="string";)w=b;if(b===void 0){const{schemaId:$}=this.opts,s=new l.SchemaEnv({schema:{},schemaId:$});if(b=l.resolveSchema.call(this,s,w),!b)return;this.refs[w]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const b=E.call(this,w);return typeof b=="object"&&this._cache.delete(b.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const b=w;this._cache.delete(b);let $=w[this.opts.schemaId];return $&&($=(0,v.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const b of w)this.addKeyword(b);return this}addKeyword(w,b){let $;if(typeof w=="string")$=w,typeof b=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=$);else if(typeof w=="object"&&b===void 0){if(b=w,$=b.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ce.call(this,$,b),!b)return(0,y.eachItem)($,c=>qe.call(this,c)),this;He.call(this,b);const s={...b,type:(0,p.getJSONTypes)(b.type),schemaType:(0,p.getJSONTypes)(b.schemaType)};return(0,y.eachItem)($,s.type.length===0?c=>qe.call(this,c,s):c=>s.type.forEach(S=>qe.call(this,c,s,S))),this}getKeyword(w){const b=this.RULES.all[w];return typeof b=="object"?b.definition:!!b}removeKeyword(w){const{RULES:b}=this;delete b.keywords[w],delete b.all[w];for(const $ of b.rules){const s=$.rules.findIndex(c=>c.keyword===w);s>=0&&$.rules.splice(s,1)}return this}addFormat(w,b){return typeof b=="string"&&(b=new RegExp(b)),this.formats[w]=b,this}errorsText(w=this.errors,{separator:b=", ",dataVar:$="data"}={}){return!w||w.length===0?"No errors":w.map(s=>`${$}${s.instancePath} ${s.message}`).reduce((s,c)=>s+b+c)}$dataMetaSchema(w,b){const $=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const s of b){const c=s.split("/").slice(1);let S=w;for(const M of c)S=S[M];for(const M in $){const D=$[M];if(typeof D!="object")continue;const{$data:U}=D.definition,H=S[M];U&&H&&(S[M]=je(H))}}return w}_removeAllSchemas(w,b){for(const $ in w){const s=w[$];(!b||b.test($))&&(typeof s=="string"?delete w[$]:s&&!s.meta&&(this._cache.delete(s.schema),delete w[$]))}}_addSchema(w,b,$,s=this.opts.validateSchema,c=this.opts.addUsedSchema){let S;const{schemaId:M}=this.opts;if(typeof w=="object")S=w[M];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let D=this._cache.get(w);if(D!==void 0)return D;$=(0,v.normalizeId)(S||$);const U=v.getSchemaRefs.call(this,w,$);return D=new l.SchemaEnv({schema:w,schemaId:M,meta:b,baseId:$,localRefs:U}),this._cache.set(D.schema,D),c&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=D),s&&this.validateSchema(w,!0),D}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):l.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const b=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,w)}finally{this.opts=b}}}e.default=j,j.ValidationError=n.default,j.MissingRefError=a.default;function V(F,w,b,$="error"){for(const s in F){const c=s;c in w&&this.logger[$](`${b}: option ${s}. ${F[c]}`)}}function E(F){return F=(0,v.normalizeId)(F),this.schemas[F]||this.refs[F]}function R(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const w in F)this.addSchema(F[w],w)}function A(){for(const F in this.opts.formats){const w=this.opts.formats[F];w&&this.addFormat(F,w)}}function L(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in F){const b=F[w];b.keyword||(b.keyword=w),this.addKeyword(b)}}function B(){const F={...this.opts};for(const w of O)delete F[w];return F}const re={log(){},warn(){},error(){}};function X(F){if(F===!1)return re;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}const ye=/^[a-z_$][a-z0-9_$:-]*$/i;function ce(F,w){const{RULES:b}=this;if((0,y.eachItem)(F,$=>{if(b.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!ye.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function qe(F,w,b){var $;const s=w==null?void 0:w.post;if(b&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:c}=this;let S=s?c.post:c.rules.find(({type:D})=>D===b);if(S||(S={type:b,rules:[]},c.rules.push(S)),c.keywords[F]=!0,!w)return;const M={keyword:F,definition:{...w,type:(0,p.getJSONTypes)(w.type),schemaType:(0,p.getJSONTypes)(w.schemaType)}};w.before?Te.call(this,S,M,w.before):S.rules.push(M),c.all[F]=M,($=w.implements)===null||$===void 0||$.forEach(D=>this.addKeyword(D))}function Te(F,w,b){const $=F.rules.findIndex(s=>s.keyword===b);$>=0?F.rules.splice($,0,w):(F.rules.push(w),this.logger.warn(`rule ${b} is not defined`))}function He(F){let{metaSchema:w}=F;w!==void 0&&(F.$data&&this.opts.$data&&(w=je(w)),F.validateSchema=this.compile(w,!0))}const Xe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function je(F){return{anyOf:[F,Xe]}}})(Ln);var kr={},Dr={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});const bo={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Ar.default=bo;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.callRef=ot.getValidate=void 0;const So=Kt,Tn=Q,ge=W,pt=Re,jn=_e,Bt=x,Po={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:i,validateName:l,opts:m,self:v}=n,{root:p}=i;if((r==="#"||r==="#/")&&a===p.baseId)return g();const y=jn.resolveRef.call(v,p,a,r);if(y===void 0)throw new So.default(n.opts.uriResolver,a,r);if(y instanceof jn.SchemaEnv)return k(y);return I(y);function g(){if(i===p)return er(e,l,i,i.$async);const O=t.scopeValue("root",{ref:p});return er(e,(0,ge._)`${O}.validate`,p,p.$async)}function k(O){const C=ma(e,O);er(e,C,O,O.$async)}function I(O){const C=t.scopeValue("schema",m.code.source===!0?{ref:O,code:(0,ge.stringify)(O)}:{ref:O}),_=t.name("valid"),d=e.subschema({schema:O,dataTypes:[],schemaPath:ge.nil,topSchemaRef:C,errSchemaPath:r},_);e.mergeEvaluated(d),e.ok(_)}}};function ma(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ge._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ot.getValidate=ma;function er(e,t,r,n){const{gen:a,it:i}=e,{allErrors:l,schemaEnv:m,opts:v}=i,p=v.passContext?pt.default.this:ge.nil;n?y():g();function y(){if(!m.$async)throw new Error("async schema referenced by sync schema");const O=a.let("valid");a.try(()=>{a.code((0,ge._)`await ${(0,Tn.callValidateCode)(e,t,p)}`),I(t),l||a.assign(O,!0)},C=>{a.if((0,ge._)`!(${C} instanceof ${i.ValidationError})`,()=>a.throw(C)),k(C),l||a.assign(O,!1)}),e.ok(O)}function g(){e.result((0,Tn.callValidateCode)(e,t,p),()=>I(t),()=>k(t))}function k(O){const C=(0,ge._)`${O}.errors`;a.assign(pt.default.vErrors,(0,ge._)`${pt.default.vErrors} === null ? ${C} : ${pt.default.vErrors}.concat(${C})`),a.assign(pt.default.errors,(0,ge._)`${pt.default.vErrors}.length`)}function I(O){var C;if(!i.opts.unevaluated)return;const _=(C=r==null?void 0:r.validate)===null||C===void 0?void 0:C.evaluated;if(i.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(i.props=Bt.mergeEvaluated.props(a,_.props,i.props));else{const d=a.var("props",(0,ge._)`${O}.evaluated.props`);i.props=Bt.mergeEvaluated.props(a,d,i.props,ge.Name)}if(i.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(i.items=Bt.mergeEvaluated.items(a,_.items,i.items));else{const d=a.var("items",(0,ge._)`${O}.evaluated.items`);i.items=Bt.mergeEvaluated.items(a,d,i.items,ge.Name)}}}ot.callRef=er;ot.default=Po;Object.defineProperty(Dr,"__esModule",{value:!0});const No=Ar,Oo=ot,Co=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",No.default,Oo.default];Dr.default=Co;var Mr={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});const ar=W,We=ar.operators,sr={maximum:{okStr:"<=",ok:We.LTE,fail:We.GT},minimum:{okStr:">=",ok:We.GTE,fail:We.LT},exclusiveMaximum:{okStr:"<",ok:We.LT,fail:We.GTE},exclusiveMinimum:{okStr:">",ok:We.GT,fail:We.LTE}},Ro={message:({keyword:e,schemaCode:t})=>(0,ar.str)`must be ${sr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ar._)`{comparison: ${sr[e].okStr}, limit: ${t}}`},To={keyword:Object.keys(sr),type:"number",schemaType:"number",$data:!0,error:Ro,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,ar._)`${r} ${sr[t].fail} ${n} || isNaN(${r})`)}};Vr.default=To;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});const Mt=W,jo={message:({schemaCode:e})=>(0,Mt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Mt._)`{multipleOf: ${e}}`},Io={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:jo,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,i=a.opts.multipleOfPrecision,l=t.let("res"),m=i?(0,Mt._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${i}`:(0,Mt._)`${l} !== parseInt(${l})`;e.fail$data((0,Mt._)`(${n} === 0 || (${l} = ${r}/${n}, ${m}))`)}};Fr.default=Io;var Ur={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});function $a(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}qr.default=$a;$a.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Ur,"__esModule",{value:!0});const nt=W,ko=x,Do=qr,Ao={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,nt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,nt._)`{limit: ${e}}`},Mo={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Ao,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,i=t==="maxLength"?nt.operators.GT:nt.operators.LT,l=a.opts.unicode===!1?(0,nt._)`${r}.length`:(0,nt._)`${(0,ko.useFunc)(e.gen,Do.default)}(${r})`;e.fail$data((0,nt._)`${l} ${i} ${n}`)}};Ur.default=Mo;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});const Vo=Q,or=W,Fo={message:({schemaCode:e})=>(0,or.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,or._)`{pattern: ${e}}`},Uo={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Fo,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:i}=e,l=i.opts.unicodeRegExp?"u":"",m=r?(0,or._)`(new RegExp(${a}, ${l}))`:(0,Vo.usePattern)(e,n);e.fail$data((0,or._)`!${m}.test(${t})`)}};zr.default=Uo;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const Vt=W,qo={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Vt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Vt._)`{limit: ${e}}`},zo={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:qo,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Vt.operators.GT:Vt.operators.LT;e.fail$data((0,Vt._)`Object.keys(${r}).length ${a} ${n}`)}};Kr.default=zo;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const kt=Q,Ft=W,Ko=x,Lo={message:({params:{missingProperty:e}})=>(0,Ft.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ft._)`{missingProperty: ${e}}`},Ho={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Lo,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:i,it:l}=e,{opts:m}=l;if(!i&&r.length===0)return;const v=r.length>=m.loopRequired;if(l.allErrors?p():y(),m.strictRequired){const I=e.parentSchema.properties,{definedProperties:O}=e.it;for(const C of r)if((I==null?void 0:I[C])===void 0&&!O.has(C)){const _=l.schemaEnv.baseId+l.errSchemaPath,d=`required property "${C}" is not defined at "${_}" (strictRequired)`;(0,Ko.checkStrictMode)(l,d,l.opts.strictRequired)}}function p(){if(v||i)e.block$data(Ft.nil,g);else for(const I of r)(0,kt.checkReportMissingProp)(e,I)}function y(){const I=t.let("missing");if(v||i){const O=t.let("valid",!0);e.block$data(O,()=>k(I,O)),e.ok(O)}else t.if((0,kt.checkMissingProp)(e,r,I)),(0,kt.reportMissingProp)(e,I),t.else()}function g(){t.forOf("prop",n,I=>{e.setParams({missingProperty:I}),t.if((0,kt.noPropertyInData)(t,a,I,m.ownProperties),()=>e.error())})}function k(I,O){e.setParams({missingProperty:I}),t.forOf(I,n,()=>{t.assign(O,(0,kt.propertyInData)(t,a,I,m.ownProperties)),t.if((0,Ft.not)(O),()=>{e.error(),t.break()})},Ft.nil)}}};Lr.default=Ho;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const Ut=W,Go={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ut.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ut._)`{limit: ${e}}`},Jo={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Go,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?Ut.operators.GT:Ut.operators.LT;e.fail$data((0,Ut._)`${r}.length ${a} ${n}`)}};Hr.default=Jo;var Gr={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});const ya=Yn;ya.code='require("ajv/dist/runtime/equal").default';Lt.default=ya;Object.defineProperty(Gr,"__esModule",{value:!0});const $r=qt,he=W,Wo=x,Bo=Lt,Qo={message:({params:{i:e,j:t}})=>(0,he.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,he._)`{i: ${e}, j: ${t}}`},Xo={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Qo,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:i,schemaCode:l,it:m}=e;if(!n&&!a)return;const v=t.let("valid"),p=i.items?(0,$r.getSchemaTypes)(i.items):[];e.block$data(v,y,(0,he._)`${l} === false`),e.ok(v);function y(){const O=t.let("i",(0,he._)`${r}.length`),C=t.let("j");e.setParams({i:O,j:C}),t.assign(v,!0),t.if((0,he._)`${O} > 1`,()=>(g()?k:I)(O,C))}function g(){return p.length>0&&!p.some(O=>O==="object"||O==="array")}function k(O,C){const _=t.name("item"),d=(0,$r.checkDataTypes)(p,_,m.opts.strictNumbers,$r.DataType.Wrong),h=t.const("indices",(0,he._)`{}`);t.for((0,he._)`;${O}--;`,()=>{t.let(_,(0,he._)`${r}[${O}]`),t.if(d,(0,he._)`continue`),p.length>1&&t.if((0,he._)`typeof ${_} == "string"`,(0,he._)`${_} += "_"`),t.if((0,he._)`typeof ${h}[${_}] == "number"`,()=>{t.assign(C,(0,he._)`${h}[${_}]`),e.error(),t.assign(v,!1).break()}).code((0,he._)`${h}[${_}] = ${O}`)})}function I(O,C){const _=(0,Wo.useFunc)(t,Bo.default),d=t.name("outer");t.label(d).for((0,he._)`;${O}--;`,()=>t.for((0,he._)`${C} = ${O}; ${C}--;`,()=>t.if((0,he._)`${_}(${r}[${O}], ${r}[${C}])`,()=>{e.error(),t.assign(v,!1).break(d)})))}}};Gr.default=Xo;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const Er=W,Yo=x,Zo=Lt,xo={message:"must be equal to constant",params:({schemaCode:e})=>(0,Er._)`{allowedValue: ${e}}`},ei={keyword:"const",$data:!0,error:xo,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Er._)`!${(0,Yo.useFunc)(t,Zo.default)}(${r}, ${a})`):e.fail((0,Er._)`${i} !== ${r}`)}};Jr.default=ei;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});const Dt=W,ti=x,ri=Lt,ni={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Dt._)`{allowedValues: ${e}}`},ai={keyword:"enum",schemaType:"array",$data:!0,error:ni,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:i,it:l}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const m=a.length>=l.opts.loopEnum;let v;const p=()=>v??(v=(0,ti.useFunc)(t,ri.default));let y;if(m||n)y=t.let("valid"),e.block$data(y,g);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const I=t.const("vSchema",i);y=(0,Dt.or)(...a.map((O,C)=>k(I,C)))}e.pass(y);function g(){t.assign(y,!1),t.forOf("v",i,I=>t.if((0,Dt._)`${p()}(${r}, ${I})`,()=>t.assign(y,!0).break()))}function k(I,O){const C=a[O];return typeof C=="object"&&C!==null?(0,Dt._)`${p()}(${r}, ${I}[${O}])`:(0,Dt._)`${r} === ${C}`}}};Wr.default=ai;Object.defineProperty(Mr,"__esModule",{value:!0});const si=Vr,oi=Fr,ii=Ur,ci=zr,ui=Kr,li=Lr,di=Hr,fi=Gr,hi=Jr,pi=Wr,mi=[si.default,oi.default,ii.default,ci.default,ui.default,li.default,di.default,fi.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},hi.default,pi.default];Mr.default=mi;var Br={},wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.validateAdditionalItems=void 0;const at=W,br=x,$i={message:({params:{len:e}})=>(0,at.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,at._)`{limit: ${e}}`},yi={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:$i,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,br.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}va(e,n)}};function va(e,t){const{gen:r,schema:n,data:a,keyword:i,it:l}=e;l.items=!0;const m=r.const("len",(0,at._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,at._)`${m} <= ${t.length}`);else if(typeof n=="object"&&!(0,br.alwaysValidSchema)(l,n)){const p=r.var("valid",(0,at._)`${m} <= ${t.length}`);r.if((0,at.not)(p),()=>v(p)),e.ok(p)}function v(p){r.forRange("i",t.length,m,y=>{e.subschema({keyword:i,dataProp:y,dataPropType:br.Type.Num},p),l.allErrors||r.if((0,at.not)(p),()=>r.break())})}}wt.validateAdditionalItems=va;wt.default=yi;var Qr={},Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.validateTuple=void 0;const In=W,tr=x,vi=Q,gi={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return ga(e,"additionalItems",t);r.items=!0,!(0,tr.alwaysValidSchema)(r,t)&&e.ok((0,vi.validateArray)(e))}};function ga(e,t,r=e.schema){const{gen:n,parentSchema:a,data:i,keyword:l,it:m}=e;y(a),m.opts.unevaluated&&r.length&&m.items!==!0&&(m.items=tr.mergeEvaluated.items(n,r.length,m.items));const v=n.name("valid"),p=n.const("len",(0,In._)`${i}.length`);r.forEach((g,k)=>{(0,tr.alwaysValidSchema)(m,g)||(n.if((0,In._)`${p} > ${k}`,()=>e.subschema({keyword:l,schemaProp:k,dataProp:k},v)),e.ok(v))});function y(g){const{opts:k,errSchemaPath:I}=m,O=r.length,C=O===g.minItems&&(O===g.maxItems||g[t]===!1);if(k.strictTuples&&!C){const _=`"${l}" is ${O}-tuple, but minItems or maxItems/${t} are not specified or different at path "${I}"`;(0,tr.checkStrictMode)(m,_,k.strictTuples)}}}Et.validateTuple=ga;Et.default=gi;Object.defineProperty(Qr,"__esModule",{value:!0});const _i=Et,wi={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,_i.validateTuple)(e,"items")};Qr.default=wi;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});const kn=W,Ei=x,bi=Q,Si=wt,Pi={message:({params:{len:e}})=>(0,kn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,kn._)`{limit: ${e}}`},Ni={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Pi,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,Ei.alwaysValidSchema)(n,t)&&(a?(0,Si.validateAdditionalItems)(e,a):e.ok((0,bi.validateArray)(e)))}};Xr.default=Ni;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});const Se=W,Qt=x,Oi={message:({params:{min:e,max:t}})=>t===void 0?(0,Se.str)`must contain at least ${e} valid item(s)`:(0,Se.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Se._)`{minContains: ${e}}`:(0,Se._)`{minContains: ${e}, maxContains: ${t}}`},Ci={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Oi,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:i}=e;let l,m;const{minContains:v,maxContains:p}=n;i.opts.next?(l=v===void 0?1:v,m=p):l=1;const y=t.const("len",(0,Se._)`${a}.length`);if(e.setParams({min:l,max:m}),m===void 0&&l===0){(0,Qt.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(m!==void 0&&l>m){(0,Qt.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Qt.alwaysValidSchema)(i,r)){let C=(0,Se._)`${y} >= ${l}`;m!==void 0&&(C=(0,Se._)`${C} && ${y} <= ${m}`),e.pass(C);return}i.items=!0;const g=t.name("valid");m===void 0&&l===1?I(g,()=>t.if(g,()=>t.break())):l===0?(t.let(g,!0),m!==void 0&&t.if((0,Se._)`${a}.length > 0`,k)):(t.let(g,!1),k()),e.result(g,()=>e.reset());function k(){const C=t.name("_valid"),_=t.let("count",0);I(C,()=>t.if(C,()=>O(_)))}function I(C,_){t.forRange("i",0,y,d=>{e.subschema({keyword:"contains",dataProp:d,dataPropType:Qt.Type.Num,compositeRule:!0},C),_()})}function O(C){t.code((0,Se._)`${C}++`),m===void 0?t.if((0,Se._)`${C} >= ${l}`,()=>t.assign(g,!0).break()):(t.if((0,Se._)`${C} > ${m}`,()=>t.assign(g,!1).break()),l===1?t.assign(g,!0):t.if((0,Se._)`${C} >= ${l}`,()=>t.assign(g,!0)))}}};Yr.default=Ci;var _a={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=W,r=x,n=Q;e.error={message:({params:{property:v,depsCount:p,deps:y}})=>{const g=p===1?"property":"properties";return(0,t.str)`must have ${g} ${y} when property ${v} is present`},params:({params:{property:v,depsCount:p,deps:y,missingProperty:g}})=>(0,t._)`{property: ${v},
    missingProperty: ${g},
    depsCount: ${p},
    deps: ${y}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(v){const[p,y]=i(v);l(v,p),m(v,y)}};function i({schema:v}){const p={},y={};for(const g in v){if(g==="__proto__")continue;const k=Array.isArray(v[g])?p:y;k[g]=v[g]}return[p,y]}function l(v,p=v.schema){const{gen:y,data:g,it:k}=v;if(Object.keys(p).length===0)return;const I=y.let("missing");for(const O in p){const C=p[O];if(C.length===0)continue;const _=(0,n.propertyInData)(y,g,O,k.opts.ownProperties);v.setParams({property:O,depsCount:C.length,deps:C.join(", ")}),k.allErrors?y.if(_,()=>{for(const d of C)(0,n.checkReportMissingProp)(v,d)}):(y.if((0,t._)`${_} && (${(0,n.checkMissingProp)(v,C,I)})`),(0,n.reportMissingProp)(v,I),y.else())}}e.validatePropertyDeps=l;function m(v,p=v.schema){const{gen:y,data:g,keyword:k,it:I}=v,O=y.name("valid");for(const C in p)(0,r.alwaysValidSchema)(I,p[C])||(y.if((0,n.propertyInData)(y,g,C,I.opts.ownProperties),()=>{const _=v.subschema({keyword:k,schemaProp:C},O);v.mergeValidEvaluated(_,O)},()=>y.var(O,!0)),v.ok(O))}e.validateSchemaDeps=m,e.default=a})(_a);var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});const wa=W,Ri=x,Ti={message:"property name must be valid",params:({params:e})=>(0,wa._)`{propertyName: ${e.propertyName}}`},ji={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ti,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,Ri.alwaysValidSchema)(a,r))return;const i=t.name("valid");t.forIn("key",n,l=>{e.setParams({propertyName:l}),e.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},i),t.if((0,wa.not)(i),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(i)}};Zr.default=ji;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});const Xt=Q,Oe=W,Ii=Re,Yt=x,ki={message:"must NOT have additional properties",params:({params:e})=>(0,Oe._)`{additionalProperty: ${e.additionalProperty}}`},Di={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ki,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:i,it:l}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:m,opts:v}=l;if(l.props=!0,v.removeAdditional!=="all"&&(0,Yt.alwaysValidSchema)(l,r))return;const p=(0,Xt.allSchemaProperties)(n.properties),y=(0,Xt.allSchemaProperties)(n.patternProperties);g(),e.ok((0,Oe._)`${i} === ${Ii.default.errors}`);function g(){t.forIn("key",a,_=>{!p.length&&!y.length?O(_):t.if(k(_),()=>O(_))})}function k(_){let d;if(p.length>8){const h=(0,Yt.schemaRefOrVal)(l,n.properties,"properties");d=(0,Xt.isOwnProperty)(t,h,_)}else p.length?d=(0,Oe.or)(...p.map(h=>(0,Oe._)`${_} === ${h}`)):d=Oe.nil;return y.length&&(d=(0,Oe.or)(d,...y.map(h=>(0,Oe._)`${(0,Xt.usePattern)(e,h)}.test(${_})`))),(0,Oe.not)(d)}function I(_){t.code((0,Oe._)`delete ${a}[${_}]`)}function O(_){if(v.removeAdditional==="all"||v.removeAdditional&&r===!1){I(_);return}if(r===!1){e.setParams({additionalProperty:_}),e.error(),m||t.break();return}if(typeof r=="object"&&!(0,Yt.alwaysValidSchema)(l,r)){const d=t.name("valid");v.removeAdditional==="failing"?(C(_,d,!1),t.if((0,Oe.not)(d),()=>{e.reset(),I(_)})):(C(_,d),m||t.if((0,Oe.not)(d),()=>t.break()))}}function C(_,d,h){const T={keyword:"additionalProperties",dataProp:_,dataPropType:Yt.Type.Str};h===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(T,d)}}};dr.default=Di;var xr={};Object.defineProperty(xr,"__esModule",{value:!0});const Ai=Pe,Dn=Q,yr=x,An=dr,Mi={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&An.default.code(new Ai.KeywordCxt(i,An.default,"additionalProperties"));const l=(0,Dn.allSchemaProperties)(r);for(const g of l)i.definedProperties.add(g);i.opts.unevaluated&&l.length&&i.props!==!0&&(i.props=yr.mergeEvaluated.props(t,(0,yr.toHash)(l),i.props));const m=l.filter(g=>!(0,yr.alwaysValidSchema)(i,r[g]));if(m.length===0)return;const v=t.name("valid");for(const g of m)p(g)?y(g):(t.if((0,Dn.propertyInData)(t,a,g,i.opts.ownProperties)),y(g),i.allErrors||t.else().var(v,!0),t.endIf()),e.it.definedProperties.add(g),e.ok(v);function p(g){return i.opts.useDefaults&&!i.compositeRule&&r[g].default!==void 0}function y(g){e.subschema({keyword:"properties",schemaProp:g,dataProp:g},v)}}};xr.default=Mi;var en={};Object.defineProperty(en,"__esModule",{value:!0});const Mn=Q,Zt=W,Vn=x,Fn=x,Vi={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:i}=e,{opts:l}=i,m=(0,Mn.allSchemaProperties)(r),v=m.filter(C=>(0,Vn.alwaysValidSchema)(i,r[C]));if(m.length===0||v.length===m.length&&(!i.opts.unevaluated||i.props===!0))return;const p=l.strictSchema&&!l.allowMatchingProperties&&a.properties,y=t.name("valid");i.props!==!0&&!(i.props instanceof Zt.Name)&&(i.props=(0,Fn.evaluatedPropsToName)(t,i.props));const{props:g}=i;k();function k(){for(const C of m)p&&I(C),i.allErrors?O(C):(t.var(y,!0),O(C),t.if(y))}function I(C){for(const _ in p)new RegExp(C).test(_)&&(0,Vn.checkStrictMode)(i,`property ${_} matches pattern ${C} (use allowMatchingProperties)`)}function O(C){t.forIn("key",n,_=>{t.if((0,Zt._)`${(0,Mn.usePattern)(e,C)}.test(${_})`,()=>{const d=v.includes(C);d||e.subschema({keyword:"patternProperties",schemaProp:C,dataProp:_,dataPropType:Fn.Type.Str},y),i.opts.unevaluated&&g!==!0?t.assign((0,Zt._)`${g}[${_}]`,!0):!d&&!i.allErrors&&t.if((0,Zt.not)(y),()=>t.break())})})}}};en.default=Vi;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});const Fi=x,Ui={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Fi.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};tn.default=Ui;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});const qi=Q,zi={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:qi.validateUnion,error:{message:"must match a schema in anyOf"}};rn.default=zi;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});const rr=W,Ki=x,Li={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,rr._)`{passingSchemas: ${e.passing}}`},Hi={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Li,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const i=r,l=t.let("valid",!1),m=t.let("passing",null),v=t.name("_valid");e.setParams({passing:m}),t.block(p),e.result(l,()=>e.reset(),()=>e.error(!0));function p(){i.forEach((y,g)=>{let k;(0,Ki.alwaysValidSchema)(a,y)?t.var(v,!0):k=e.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},v),g>0&&t.if((0,rr._)`${v} && ${l}`).assign(l,!1).assign(m,(0,rr._)`[${m}, ${g}]`).else(),t.if(v,()=>{t.assign(l,!0),t.assign(m,g),k&&e.mergeEvaluated(k,rr.Name)})})}}};nn.default=Hi;var an={};Object.defineProperty(an,"__esModule",{value:!0});const Gi=x,Ji={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((i,l)=>{if((0,Gi.alwaysValidSchema)(n,i))return;const m=e.subschema({keyword:"allOf",schemaProp:l},a);e.ok(a),e.mergeEvaluated(m)})}};an.default=Ji;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});const ir=W,Ea=x,Wi={message:({params:e})=>(0,ir.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ir._)`{failingKeyword: ${e.ifClause}}`},Bi={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Wi,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Ea.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Un(n,"then"),i=Un(n,"else");if(!a&&!i)return;const l=t.let("valid",!0),m=t.name("_valid");if(v(),e.reset(),a&&i){const y=t.let("ifClause");e.setParams({ifClause:y}),t.if(m,p("then",y),p("else",y))}else a?t.if(m,p("then")):t.if((0,ir.not)(m),p("else"));e.pass(l,()=>e.error(!0));function v(){const y=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);e.mergeEvaluated(y)}function p(y,g){return()=>{const k=e.subschema({keyword:y},m);t.assign(l,m),e.mergeValidEvaluated(k,l),g?t.assign(g,(0,ir._)`${y}`):e.setParams({ifClause:y})}}}};function Un(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ea.alwaysValidSchema)(e,r)}sn.default=Bi;var on={};Object.defineProperty(on,"__esModule",{value:!0});const Qi=x,Xi={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Qi.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};on.default=Xi;Object.defineProperty(Br,"__esModule",{value:!0});const Yi=wt,Zi=Qr,xi=Et,ec=Xr,tc=Yr,rc=_a,nc=Zr,ac=dr,sc=xr,oc=en,ic=tn,cc=rn,uc=nn,lc=an,dc=sn,fc=on;function hc(e=!1){const t=[ic.default,cc.default,uc.default,lc.default,dc.default,fc.default,nc.default,ac.default,rc.default,sc.default,oc.default];return e?t.push(Zi.default,ec.default):t.push(Yi.default,xi.default),t.push(tc.default),t}Br.default=hc;var cn={},un={};Object.defineProperty(un,"__esModule",{value:!0});const de=W,pc={message:({schemaCode:e})=>(0,de.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,de._)`{format: ${e}}`},mc={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:pc,code(e,t){const{gen:r,data:n,$data:a,schema:i,schemaCode:l,it:m}=e,{opts:v,errSchemaPath:p,schemaEnv:y,self:g}=m;if(!v.validateFormats)return;a?k():I();function k(){const O=r.scopeValue("formats",{ref:g.formats,code:v.code.formats}),C=r.const("fDef",(0,de._)`${O}[${l}]`),_=r.let("fType"),d=r.let("format");r.if((0,de._)`typeof ${C} == "object" && !(${C} instanceof RegExp)`,()=>r.assign(_,(0,de._)`${C}.type || "string"`).assign(d,(0,de._)`${C}.validate`),()=>r.assign(_,(0,de._)`"string"`).assign(d,C)),e.fail$data((0,de.or)(h(),T()));function h(){return v.strictSchema===!1?de.nil:(0,de._)`${l} && !${d}`}function T(){const j=y.$async?(0,de._)`(${C}.async ? await ${d}(${n}) : ${d}(${n}))`:(0,de._)`${d}(${n})`,V=(0,de._)`(typeof ${d} == "function" ? ${j} : ${d}.test(${n}))`;return(0,de._)`${d} && ${d} !== true && ${_} === ${t} && !${V}`}}function I(){const O=g.formats[i];if(!O){h();return}if(O===!0)return;const[C,_,d]=T(O);C===t&&e.pass(j());function h(){if(v.strictSchema===!1){g.logger.warn(V());return}throw new Error(V());function V(){return`unknown format "${i}" ignored in schema at path "${p}"`}}function T(V){const E=V instanceof RegExp?(0,de.regexpCode)(V):v.code.formats?(0,de._)`${v.code.formats}${(0,de.getProperty)(i)}`:void 0,R=r.scopeValue("formats",{key:i,ref:V,code:E});return typeof V=="object"&&!(V instanceof RegExp)?[V.type||"string",V.validate,(0,de._)`${R}.validate`]:["string",V,R]}function j(){if(typeof O=="object"&&!(O instanceof RegExp)&&O.async){if(!y.$async)throw new Error("async format in sync schema");return(0,de._)`await ${d}(${n})`}return typeof _=="function"?(0,de._)`${d}(${n})`:(0,de._)`${d}.test(${n})`}}}};un.default=mc;Object.defineProperty(cn,"__esModule",{value:!0});const $c=un,yc=[$c.default];cn.default=yc;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.contentVocabulary=gt.metadataVocabulary=void 0;gt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];gt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(kr,"__esModule",{value:!0});const vc=Dr,gc=Mr,_c=Br,wc=cn,qn=gt,Ec=[vc.default,gc.default,(0,_c.default)(),wc.default,qn.metadataVocabulary,qn.contentVocabulary];kr.default=Ec;var ln={},ba={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(ba);Object.defineProperty(ln,"__esModule",{value:!0});const mt=W,Sr=ba,zn=_e,bc=x,Sc={message:({params:{discrError:e,tagName:t}})=>e===Sr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,mt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Pc={keyword:"discriminator",type:"object",schemaType:"object",error:Sc,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:i}=e,{oneOf:l}=a;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=n.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const v=t.let("valid",!1),p=t.const("tag",(0,mt._)`${r}${(0,mt.getProperty)(m)}`);t.if((0,mt._)`typeof ${p} == "string"`,()=>y(),()=>e.error(!1,{discrError:Sr.DiscrError.Tag,tag:p,tagName:m})),e.ok(v);function y(){const I=k();t.if(!1);for(const O in I)t.elseIf((0,mt._)`${p} === ${O}`),t.assign(v,g(I[O]));t.else(),e.error(!1,{discrError:Sr.DiscrError.Mapping,tag:p,tagName:m}),t.endIf()}function g(I){const O=t.name("valid"),C=e.subschema({keyword:"oneOf",schemaProp:I},O);return e.mergeEvaluated(C,mt.Name),O}function k(){var I;const O={},C=d(a);let _=!0;for(let j=0;j<l.length;j++){let V=l[j];V!=null&&V.$ref&&!(0,bc.schemaHasRulesButRef)(V,i.self.RULES)&&(V=zn.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,V==null?void 0:V.$ref),V instanceof zn.SchemaEnv&&(V=V.schema));const E=(I=V==null?void 0:V.properties)===null||I===void 0?void 0:I[m];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);_=_&&(C||d(V)),h(E,j)}if(!_)throw new Error(`discriminator: "${m}" must be required`);return O;function d({required:j}){return Array.isArray(j)&&j.includes(m)}function h(j,V){if(j.const)T(j.const,V);else if(j.enum)for(const E of j.enum)T(E,V);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function T(j,V){if(typeof j!="string"||j in O)throw new Error(`discriminator: "${m}" values must be unique strings`);O[j]=V}}}};ln.default=Pc;const Nc="http://json-schema.org/draft-07/schema#",Oc="http://json-schema.org/draft-07/schema#",Cc="Core schema meta-schema",Rc={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Tc=["object","boolean"],jc={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Ic={$schema:Nc,$id:Oc,title:Cc,definitions:Rc,type:Tc,properties:jc,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Ln,n=kr,a=ln,i=Ic,l=["/properties"],m="http://json-schema.org/draft-07/schema";class v extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(O=>this.addVocabulary(O)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const O=this.opts.$data?this.$dataMetaSchema(i,l):i;this.addMetaSchema(O,m,!1),this.refs["http://json-schema.org/schema"]=m}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(m)?m:void 0)}}e.exports=t=v,Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var p=Pe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return p.KeywordCxt}});var y=W;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var g=zt;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return g.default}});var k=Kt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return k.default}})})(vr,vr.exports);var Sa=vr.exports;const kc=Kn(Sa);var Pr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Sa,n=W,a=vt,i=Pe,l=_t,m=Re,v="errorMessage",p=new r.Name("emUsed"),y={required:"missingProperty",dependencies:"property",dependentRequired:"property"},g=/\$\{[^}]+\}/,k=/\$\{([^}]+)\}/g,I=/^""\s*\+\s*|\s*\+\s*""$/g;function O(_){return{keyword:v,schemaType:["string","object"],post:!0,code(d){const{gen:h,data:T,schema:j,schemaValue:V,it:E}=d;if(E.createErrors===!1)return;const R=j,A=n.strConcat(m.default.instancePath,E.errorPath);h.if(r._`${m.default.errors} > 0`,()=>{if(typeof R=="object"){const[$,s]=B(R);s&&re(s),$&&X($),ye(L(R))}const b=typeof R=="string"?R:R._;b&&ce(b),_.keepErrors||qe()});function L({properties:b,items:$}){const s={};if(b){s.props={};for(const c in b)s.props[c]=[]}if($){s.items={};for(let c=0;c<$.length;c++)s.items[c]=[]}return s}function B(b){let $,s;for(const c in b){if(c==="properties"||c==="items")continue;const S=b[c];if(typeof S=="object"){$||($={});const M=$[c]={};for(const D in S)M[D]=[]}else s||(s={}),s[c]=[]}return[$,s]}function re(b){const $=h.const("emErrors",r.stringify(b)),s=h.const("templates",je(b,j));h.forOf("err",m.default.vErrors,D=>h.if(Te(D,$),()=>h.code(r._`${$}[${D}.keyword].push(${D})`).assign(r._`${D}.${p}`,!0)));const{singleError:c}=_;if(c){const D=h.let("message",r._`""`),U=h.let("paramsErrors",r._`[]`);S(H=>{h.if(D,()=>h.code(r._`${D} += ${typeof c=="string"?c:";"}`)),h.code(r._`${D} += ${M(H)}`),h.assign(U,r._`${U}.concat(${$}[${H}])`)}),l.reportError(d,{message:D,params:r._`{errors: ${U}}`})}else S(D=>l.reportError(d,{message:M(D),params:r._`{errors: ${$}[${D}]}`}));function S(D){h.forIn("key",$,U=>h.if(r._`${$}[${U}].length`,()=>D(U)))}function M(D){return r._`${D} in ${s} ? ${s}[${D}]() : ${V}[${D}]`}}function X(b){const $=h.const("emErrors",r.stringify(b)),s=[];for(const U in b)s.push([U,je(b[U],j[U])]);const c=h.const("templates",h.object(...s)),S=h.scopeValue("obj",{ref:y,code:r.stringify(y)}),M=h.let("emPropParams"),D=h.let("emParamsErrors");h.forOf("err",m.default.vErrors,U=>h.if(Te(U,$),()=>{h.assign(M,r._`${S}[${U}.keyword]`),h.assign(D,r._`${$}[${U}.keyword][${U}.params[${M}]]`),h.if(D,()=>h.code(r._`${D}.push(${U})`).assign(r._`${U}.${p}`,!0))})),h.forIn("key",$,U=>h.forIn("keyProp",r._`${$}[${U}]`,H=>{h.assign(D,r._`${$}[${U}][${H}]`),h.if(r._`${D}.length`,()=>{const ee=h.const("tmpl",r._`${c}[${U}] && ${c}[${U}][${H}]`);l.reportError(d,{message:r._`${ee} ? ${ee}() : ${V}[${U}][${H}]`,params:r._`{errors: ${D}}`})})}))}function ye(b){const{props:$,items:s}=b;if(!$&&!s)return;const c=r._`typeof ${T} == "object"`,S=r._`Array.isArray(${T})`,M=h.let("emErrors");let D,U;const H=h.let("templates");$&&s?(D=h.let("emChildKwd"),h.if(c),h.if(S,()=>{ee(s,j.items),h.assign(D,r.str`items`)},()=>{ee($,j.properties),h.assign(D,r.str`properties`)}),U=r._`[${D}]`):s?(h.if(S),ee(s,j.items),U=r._`.items`):$&&(h.if(n.and(c,n.not(S))),ee($,j.properties),U=r._`.properties`),h.forOf("err",m.default.vErrors,se=>He(se,M,Ie=>h.code(r._`${M}[${Ie}].push(${se})`).assign(r._`${se}.${p}`,!0))),h.forIn("key",M,se=>h.if(r._`${M}[${se}].length`,()=>{l.reportError(d,{message:r._`${se} in ${H} ? ${H}[${se}]() : ${V}${U}[${se}]`,params:r._`{errors: ${M}[${se}]}`}),h.assign(r._`${m.default.vErrors}[${m.default.errors}-1].instancePath`,r._`${A} + "/" + ${se}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),h.endIf();function ee(se,Ie){h.assign(M,r.stringify(se)),h.assign(H,je(se,Ie))}}function ce(b){const $=h.const("emErrs",r._`[]`);h.forOf("err",m.default.vErrors,s=>h.if(Xe(s),()=>h.code(r._`${$}.push(${s})`).assign(r._`${s}.${p}`,!0))),h.if(r._`${$}.length`,()=>l.reportError(d,{message:F(b),params:r._`{errors: ${$}}`}))}function qe(){const b=h.const("emErrs",r._`[]`);h.forOf("err",m.default.vErrors,$=>h.if(r._`!${$}.${p}`,()=>h.code(r._`${b}.push(${$})`))),h.assign(m.default.vErrors,b).assign(m.default.errors,r._`${b}.length`)}function Te(b,$){return n.and(r._`${b}.keyword !== ${v}`,r._`!${b}.${p}`,r._`${b}.instancePath === ${A}`,r._`${b}.keyword in ${$}`,r._`${b}.schemaPath.indexOf(${E.errSchemaPath}) === 0`,r._`/^\\/[^\\/]*$/.test(${b}.schemaPath.slice(${E.errSchemaPath.length}))`)}function He(b,$,s){h.if(n.and(r._`${b}.keyword !== ${v}`,r._`!${b}.${p}`,r._`${b}.instancePath.indexOf(${A}) === 0`),()=>{const c=h.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:r._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),S=h.const("emMatches",r._`${c}.exec(${b}.instancePath.slice(${A}.length))`),M=h.const("emChild",r._`${S} && ${S}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);h.if(r._`${M} !== undefined && ${M} in ${$}`,()=>s(M))})}function Xe(b){return n.and(r._`${b}.keyword !== ${v}`,r._`!${b}.${p}`,n.or(r._`${b}.instancePath === ${A}`,n.and(r._`${b}.instancePath.indexOf(${A}) === 0`,r._`${b}.instancePath[${A}.length] === "/"`)),r._`${b}.schemaPath.indexOf(${E.errSchemaPath}) === 0`,r._`${b}.schemaPath[${E.errSchemaPath}.length] === "/"`)}function je(b,$){const s=[];for(const c in b){const S=$[c];g.test(S)&&s.push([c,w(S)])}return h.object(...s)}function F(b){return g.test(b)?new a._Code(a.safeStringify(b).replace(k,($,s)=>`" + JSON.stringify(${i.getData(s,E)}) + "`).replace(I,"")):r.stringify(b)}function w(b){return r._`function(){return ${F(b)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const C=(_,d={})=>{if(!_.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(_.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return _.addKeyword(O(d))};t.default=C,e.exports=C,e.exports.default=C})(Pr,Pr.exports);var Dc=Pr.exports;const Ac=Kn(Dc);var Mc=function(e,t){return e.forEach(function(r){r.keyword==="required"&&(r.instancePath+="/"+r.params.missingProperty)}),e.reduce(function(r,n){var a=n.instancePath.substring(1).replace(/\//g,".");if(r[a]||(r[a]={message:n.message,type:n.keyword}),t){var i=r[a].types,l=i&&i[n.keyword];r[a]=Va(a,t,r,n.keyword,l?[].concat(l,n.message||""):n.message)}return r},{})},Vc=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{var l=new kc(Object.assign({},{allErrors:!0,validateSchema:!0},t));Ac(l);var m=l.compile(Object.assign({$async:r&&r.mode==="async"},e)),v=m(n);return i.shouldUseNativeValidation&&qa({},i),Promise.resolve(v?{values:n,errors:{}}:{values:{},errors:za(Mc(m.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)})}catch(p){return Promise.reject(p)}}};const Fc=e=>Fa(e.properties);function Uc(e){return Ua({resolver:t=>Vc(t,e==null?void 0:e.schemaOptions,e==null?void 0:e.resolverOptions),fieldResolver:Fc,...e})}Uc();export{Uc as c};
