import{r as o}from"./index-76fb7be0.js";import{c as le}from"./index-7abe7895.js";import{j as f,b as x,m as n,n as u,f as de,a as ue,o as fe,t as me,g as he}from"./chunk-ZJJGQIVY-3d316dd5.js";import{a as ke}from"./chunk-56K2BSAJ-a2503b05.js";import{u as z}from"./index-3e7aa64e.js";import{u as be}from"./index-5f92aa2b.js";import{u as W}from"./index-30c8b35e.js";import{m as te}from"./index-17e33fe9.js";import{t as ve}from"./index-979d1106.js";import{k as X}from"./emotion-react.browser.esm-b737cf90.js";var[Ve,pe]=le({name:"CheckboxGroupContext",strict:!1});function Ce(s){const[l,t]=o.useState(s),[a,k]=o.useState(!1);return s!==l&&(k(!0),t(s)),a}function ye(s){return f.jsx(x.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...s,children:f.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function xe(s){return f.jsx(x.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...s,children:f.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function ge(s){const{isIndeterminate:l,isChecked:t,...a}=s,k=l?xe:ye;return t||l?f.jsx(x.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:f.jsx(k,{...a})}):null}var Ie={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function Se(s,l=[]){const t=Object.assign({},s);for(const a of l)a in t&&delete t[a];return t}function Pe(s={}){const l=ke(s),{isDisabled:t,isReadOnly:a,isRequired:k,isInvalid:r,id:p,onBlur:U,onFocus:O,"aria-describedby":g}=l,{defaultChecked:I,isChecked:S,isFocusable:q,onChange:H,isIndeterminate:d,name:P,value:R,tabIndex:B=void 0,"aria-label":D,"aria-labelledby":w,"aria-invalid":b,...G}=s,_=Se(G,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),j=W(H),F=W(U),A=W(O),[C,V]=o.useState(!1),[v,M]=o.useState(!1),[E,T]=o.useState(!1),[L,y]=o.useState(!1);o.useEffect(()=>ve(V),[]);const m=o.useRef(null),[J,ae]=o.useState(!0),[ne,N]=o.useState(!!I),$=S!==void 0,i=$?S:ne,Q=o.useCallback(e=>{if(a||t){e.preventDefault();return}$||N(i?e.target.checked:d?!0:e.target.checked),j==null||j(e)},[a,t,i,$,d,j]);z(()=>{m.current&&(m.current.indeterminate=!!d)},[d]),be(()=>{t&&M(!1)},[t,M]),z(()=>{const e=m.current;if(!(e!=null&&e.form))return;const c=()=>{N(!!I)};return e.form.addEventListener("reset",c),()=>{var h;return(h=e.form)==null?void 0:h.removeEventListener("reset",c)}},[]);const Y=t&&!q,Z=o.useCallback(e=>{e.key===" "&&y(!0)},[y]),ee=o.useCallback(e=>{e.key===" "&&y(!1)},[y]);z(()=>{if(!m.current)return;m.current.checked!==i&&N(m.current.checked)},[m.current]);const oe=o.useCallback((e={},c=null)=>{const h=K=>{v&&K.preventDefault(),y(!0)};return{...e,ref:c,"data-active":n(L),"data-hover":n(E),"data-checked":n(i),"data-focus":n(v),"data-focus-visible":n(v&&C),"data-indeterminate":n(d),"data-disabled":n(t),"data-invalid":n(r),"data-readonly":n(a),"aria-hidden":!0,onMouseDown:u(e.onMouseDown,h),onMouseUp:u(e.onMouseUp,()=>y(!1)),onMouseEnter:u(e.onMouseEnter,()=>T(!0)),onMouseLeave:u(e.onMouseLeave,()=>T(!1))}},[L,i,t,v,C,E,d,r,a]),se=o.useCallback((e={},c=null)=>({...e,ref:c,"data-active":n(L),"data-hover":n(E),"data-checked":n(i),"data-focus":n(v),"data-focus-visible":n(v&&C),"data-indeterminate":n(d),"data-disabled":n(t),"data-invalid":n(r),"data-readonly":n(a)}),[L,i,t,v,C,E,d,r,a]),re=o.useCallback((e={},c=null)=>({..._,...e,ref:te(c,h=>{h&&ae(h.tagName==="LABEL")}),onClick:u(e.onClick,()=>{var h;J||((h=m.current)==null||h.click(),requestAnimationFrame(()=>{var K;(K=m.current)==null||K.focus({preventScroll:!0})}))}),"data-disabled":n(t),"data-checked":n(i),"data-invalid":n(r)}),[_,t,i,r,J]),ie=o.useCallback((e={},c=null)=>({...e,ref:te(m,c),type:"checkbox",name:P,value:R,id:p,tabIndex:B,onChange:u(e.onChange,Q),onBlur:u(e.onBlur,F,()=>M(!1)),onFocus:u(e.onFocus,A,()=>M(!0)),onKeyDown:u(e.onKeyDown,Z),onKeyUp:u(e.onKeyUp,ee),required:k,checked:i,disabled:Y,readOnly:a,"aria-label":D,"aria-labelledby":w,"aria-invalid":b?!!b:r,"aria-describedby":g,"aria-disabled":t,style:Ie}),[P,R,p,Q,F,A,Z,ee,k,i,Y,a,D,w,b,r,g,t,B]),ce=o.useCallback((e={},c=null)=>({...e,ref:c,onMouseDown:u(e.onMouseDown,De),"data-disabled":n(t),"data-checked":n(i),"data-invalid":n(r)}),[i,t,r]);return{state:{isInvalid:r,isFocused:v,isChecked:i,isActive:L,isHovered:E,isIndeterminate:d,isDisabled:t,isReadOnly:a,isRequired:k},getRootProps:re,getCheckboxProps:oe,getIndicatorProps:se,getInputProps:ie,getLabelProps:ce,htmlProps:_}}function De(s){s.preventDefault(),s.stopPropagation()}var we={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},_e={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},je=X({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),Ae=X({from:{opacity:0},to:{opacity:1}}),Ee=X({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Le=de(function(l,t){const a=pe(),k={...a,...l},r=ue("Checkbox",k),p=fe(l),{spacing:U="0.5rem",className:O,children:g,iconColor:I,iconSize:S,icon:q=f.jsx(ge,{}),isChecked:H,isDisabled:d=a==null?void 0:a.isDisabled,onChange:P,inputProps:R,...B}=p;let D=H;a!=null&&a.value&&p.value&&(D=a.value.includes(p.value));let w=P;a!=null&&a.onChange&&p.value&&(w=me(a.onChange,P));const{state:b,getInputProps:G,getCheckboxProps:_,getLabelProps:j,getRootProps:F}=Pe({...B,isDisabled:d,isChecked:D,onChange:w}),A=Ce(b.isChecked),C=o.useMemo(()=>({animation:A?b.isIndeterminate?`${Ae} 20ms linear, ${Ee} 200ms linear`:`${je} 200ms linear`:void 0,fontSize:S,color:I,...r.icon}),[I,S,A,b.isIndeterminate,r.icon]),V=o.cloneElement(q,{__css:C,isIndeterminate:b.isIndeterminate,isChecked:b.isChecked});return f.jsxs(x.label,{__css:{..._e,...r.container},className:he("chakra-checkbox",O),...F(),children:[f.jsx("input",{className:"chakra-checkbox__input",...G(R,t)}),f.jsx(x.span,{__css:{...we,...r.control},className:"chakra-checkbox__control",..._(),children:V}),g&&f.jsx(x.span,{className:"chakra-checkbox__label",...j(),__css:{marginStart:U,...r.label},children:g})]})});Le.displayName="Checkbox";export{Le as C,Pe as u};
