import{a as me,b as z,c as fe,d as Se,e as F,f as Le,g as B,h as m,i as Z,j as H,k as we,l as de,m as xe,n as ke,o as Me,p as pe,q as se}from"./import-5516e61c.js";import{R as X,r as y}from"./index-76fb7be0.js";function Oe(t,r){return r.get?r.get.call(t):r.value}function ge(t,r,s){if(!r.has(t))throw new TypeError("attempted to "+s+" private field on non-instance");return r.get(t)}function Ke(t,r){var s=ge(t,r,"get");return Oe(t,s)}function Ce(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function De(t,r,s){Ce(t,r),r.set(t,s)}function Fe(t,r,s){if(r.set)r.set.call(t,s);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=s}}function ie(t,r,s){var o=ge(t,r,"set");return Fe(t,o,s),s}let I="default",ee="",Y=new WeakMap;function ae(t){if(de()){if(I==="default"){const r=m(t);ee=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}I="disabled"}else(t instanceof HTMLElement||t instanceof SVGElement)&&(Y.set(t,t.style.userSelect),t.style.userSelect="none")}function G(t){if(de()){if(I!=="disabled")return;I="restoring",setTimeout(()=>{xe(()=>{if(I==="restoring"){const r=m(t);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=ee||""),ee="",I="default"}})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&Y.has(t)){let r=Y.get(t);t.style.userSelect==="none"&&(t.style.userSelect=r),t.getAttribute("style")===""&&t.removeAttribute("style"),Y.delete(t)}}const ve=X.createContext({register:()=>{}});ve.displayName="PressResponderContext";function Ie(t){let r=y.useContext(ve);if(r){let{register:s,...o}=r;t=z(o,t),s()}return ke(r,t.ref),t}var j=new WeakMap;class V{continuePropagation(){ie(this,j,!1)}get shouldStopPropagation(){return Ke(this,j)}constructor(r,s,o){De(this,j,{writable:!0,value:void 0}),ie(this,j,!0),this.type=r,this.pointerType=s,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey}}const oe=Symbol("linkClicked");function be(t){let{onPress:r,onPressChange:s,onPressStart:o,onPressEnd:u,onPressUp:p,isDisabled:f,isPressed:b,preventFocusOnPress:h,shouldCancelOnPointerExit:T,allowTextSelectionOnPress:E,ref:ne,...g}=Ie(t),[U,A]=y.useState(!1),M=y.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:w,removeAllGlobalListeners:O}=fe(),S=F((e,l)=>{let P=M.current;if(f||P.didFirePressStart)return!1;let a=!0;if(P.isTriggeringEvent=!0,o){let c=new V("pressstart",l,e);o(c),a=c.shouldStopPropagation}return s&&s(!0),P.isTriggeringEvent=!1,P.didFirePressStart=!0,A(!0),a}),v=F((e,l,P=!0)=>{let a=M.current;if(!a.didFirePressStart)return!1;a.ignoreClickAfterPress=!0,a.didFirePressStart=!1,a.isTriggeringEvent=!0;let c=!0;if(u){let n=new V("pressend",l,e);u(n),c=n.shouldStopPropagation}if(s&&s(!1),A(!1),r&&P&&!f){let n=new V("press",l,e);r(n),c&&(c=n.shouldStopPropagation)}return a.isTriggeringEvent=!1,c}),K=F((e,l)=>{let P=M.current;if(f)return!1;if(p){P.isTriggeringEvent=!0;let a=new V("pressup",l,e);return p(a),P.isTriggeringEvent=!1,a.shouldStopPropagation}return!0}),x=F(e=>{let l=M.current;l.isPressed&&l.target&&(l.isOverTarget&&l.pointerType!=null&&v(L(l.target,e),l.pointerType,!1),l.isPressed=!1,l.isOverTarget=!1,l.activePointerId=null,l.pointerType=null,O(),E||G(l.target))}),R=F(e=>{T&&x(e)}),Ee=y.useMemo(()=>{let e=M.current,l={onKeyDown(a){if(J(a.nativeEvent,a.currentTarget)&&a.currentTarget.contains(a.target)){var c;le(a.target,a.key)&&a.preventDefault();let n=!0;if(!e.isPressed&&!a.repeat){e.target=a.currentTarget,e.isPressed=!0,n=S(a,"keyboard");let i=a.currentTarget,d=C=>{J(C,i)&&!C.repeat&&i.contains(C.target)&&e.target&&K(L(e.target,C),"keyboard")};w(m(a.currentTarget),"keyup",Me(d,P),!0)}n&&a.stopPropagation(),a.metaKey&&pe()&&((c=e.metaKeyEvents)===null||c===void 0||c.set(a.key,a.nativeEvent))}else a.key==="Meta"&&(e.metaKeyEvents=new Map)},onClick(a){if(!(a&&!a.currentTarget.contains(a.target))&&a&&a.button===0&&!e.isTriggeringEvent&&!se.isOpening){let c=!0;if(f&&a.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(e.pointerType==="virtual"||Z(a.nativeEvent))){!f&&!h&&B(a.currentTarget);let n=S(a,"virtual"),i=K(a,"virtual"),d=v(a,"virtual");c=n&&i&&d}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,c&&a.stopPropagation()}}},P=a=>{var c;if(e.isPressed&&e.target&&J(a,e.target)){var n;le(a.target,a.key)&&a.preventDefault();let d=a.target;v(L(e.target,a),"keyboard",e.target.contains(d)),O(),a.key!=="Enter"&&re(e.target)&&e.target.contains(d)&&!a[oe]&&(a[oe]=!0,se(e.target,a,!1)),e.isPressed=!1,(n=e.metaKeyEvents)===null||n===void 0||n.delete(a.key)}else if(a.key==="Meta"&&(!((c=e.metaKeyEvents)===null||c===void 0)&&c.size)){var i;let d=e.metaKeyEvents;e.metaKeyEvents=void 0;for(let C of d.values())(i=e.target)===null||i===void 0||i.dispatchEvent(new KeyboardEvent("keyup",C))}};if(typeof PointerEvent<"u"){l.onPointerDown=i=>{if(i.button!==0||!i.currentTarget.contains(i.target))return;if(Le(i.nativeEvent)){e.pointerType="virtual";return}Q(i.currentTarget)&&i.preventDefault(),e.pointerType=i.pointerType;let d=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=i.pointerId,e.target=i.currentTarget,!f&&!h&&B(i.currentTarget),E||ae(e.target),d=S(i,e.pointerType),w(m(i.currentTarget),"pointermove",a,!1),w(m(i.currentTarget),"pointerup",c,!1),w(m(i.currentTarget),"pointercancel",n,!1)),d&&i.stopPropagation()},l.onMouseDown=i=>{i.currentTarget.contains(i.target)&&i.button===0&&(Q(i.currentTarget)&&i.preventDefault(),i.stopPropagation())},l.onPointerUp=i=>{!i.currentTarget.contains(i.target)||e.pointerType==="virtual"||i.button===0&&D(i,i.currentTarget)&&K(i,e.pointerType||i.pointerType)};let a=i=>{i.pointerId===e.activePointerId&&(e.target&&D(i,e.target)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,S(L(e.target,i),e.pointerType)):e.target&&e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,v(L(e.target,i),e.pointerType,!1),R(i)))},c=i=>{i.pointerId===e.activePointerId&&e.isPressed&&i.button===0&&e.target&&(D(i,e.target)&&e.pointerType!=null?v(L(e.target,i),e.pointerType):e.isOverTarget&&e.pointerType!=null&&v(L(e.target,i),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,O(),E||G(e.target))},n=i=>{x(i)};l.onDragStart=i=>{i.currentTarget.contains(i.target)&&x(i)}}else{l.onMouseDown=n=>{if(n.button!==0||!n.currentTarget.contains(n.target))return;if(Q(n.currentTarget)&&n.preventDefault(),e.ignoreEmulatedMouseEvents){n.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=n.currentTarget,e.pointerType=Z(n.nativeEvent)?"virtual":"mouse",!f&&!h&&B(n.currentTarget),S(n,e.pointerType)&&n.stopPropagation(),w(m(n.currentTarget),"mouseup",a,!1)},l.onMouseEnter=n=>{if(!n.currentTarget.contains(n.target))return;let i=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!0,i=S(n,e.pointerType)),i&&n.stopPropagation()},l.onMouseLeave=n=>{if(!n.currentTarget.contains(n.target))return;let i=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!1,i=v(n,e.pointerType,!1),R(n)),i&&n.stopPropagation()},l.onMouseUp=n=>{n.currentTarget.contains(n.target)&&!e.ignoreEmulatedMouseEvents&&n.button===0&&K(n,e.pointerType||"mouse")};let a=n=>{if(n.button===0){if(e.isPressed=!1,O(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&D(n,e.target)&&e.pointerType!=null?v(L(e.target,n),e.pointerType):e.target&&e.isOverTarget&&e.pointerType!=null&&v(L(e.target,n),e.pointerType,!1),e.isOverTarget=!1}};l.onTouchStart=n=>{if(!n.currentTarget.contains(n.target))return;let i=He(n.nativeEvent);if(!i)return;e.activePointerId=i.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=n.currentTarget,e.pointerType="touch",!f&&!h&&B(n.currentTarget),E||ae(e.target),S(n,e.pointerType)&&n.stopPropagation(),w(H(n.currentTarget),"scroll",c,!0)},l.onTouchMove=n=>{if(!n.currentTarget.contains(n.target))return;if(!e.isPressed){n.stopPropagation();return}let i=ue(n.nativeEvent,e.activePointerId),d=!0;i&&D(i,n.currentTarget)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,d=S(n,e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,d=v(n,e.pointerType,!1),R(n)),d&&n.stopPropagation()},l.onTouchEnd=n=>{if(!n.currentTarget.contains(n.target))return;if(!e.isPressed){n.stopPropagation();return}let i=ue(n.nativeEvent,e.activePointerId),d=!0;i&&D(i,n.currentTarget)&&e.pointerType!=null?(K(n,e.pointerType),d=v(n,e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(d=v(n,e.pointerType,!1)),d&&n.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!E&&G(e.target),O()},l.onTouchCancel=n=>{n.currentTarget.contains(n.target)&&(n.stopPropagation(),e.isPressed&&x(n))};let c=n=>{e.isPressed&&n.target.contains(e.target)&&x({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};l.onDragStart=n=>{n.currentTarget.contains(n.target)&&x(n)}}return l},[w,f,h,O,E,x,R,v,S,K]);return y.useEffect(()=>()=>{var e;E||G((e=M.current.target)!==null&&e!==void 0?e:void 0)},[E]),{isPressed:b||U,pressProps:z(g,Ee)}}function re(t){return t.tagName==="A"&&t.hasAttribute("href")}function J(t,r){const{key:s,code:o}=t,u=r,p=u.getAttribute("role");return(s==="Enter"||s===" "||s==="Spacebar"||o==="Space")&&!(u instanceof H(u).HTMLInputElement&&!$e(u,s)||u instanceof H(u).HTMLTextAreaElement||u.isContentEditable)&&!((p==="link"||!p&&re(u))&&s!=="Enter")}function He(t){const{targetTouches:r}=t;return r.length>0?r[0]:null}function ue(t,r){const s=t.changedTouches;for(let o=0;o<s.length;o++){const u=s[o];if(u.identifier===r)return u}return null}function L(t,r){return{currentTarget:t,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey}}function _e(t){let r=0,s=0;return t.width!==void 0?r=t.width/2:t.radiusX!==void 0&&(r=t.radiusX),t.height!==void 0?s=t.height/2:t.radiusY!==void 0&&(s=t.radiusY),{top:t.clientY-s,right:t.clientX+r,bottom:t.clientY+s,left:t.clientX-r}}function We(t,r){return!(t.left>r.right||r.left>t.right||t.top>r.bottom||r.top>t.bottom)}function D(t,r){let s=r.getBoundingClientRect(),o=_e(t);return We(s,o)}function Q(t){return!(t instanceof HTMLElement)||!t.hasAttribute("draggable")}function le(t,r){return t instanceof HTMLInputElement?!$e(t,r):t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!re(t)}const Ue=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $e(t,r){return t.type==="checkbox"||t.type==="radio"?r===" ":Ue.has(t.type)}const Ne=X.forwardRef(({children:t,...r},s)=>{s=me(s);let{pressProps:o}=be({...r,ref:s}),u=X.Children.only(t);return X.cloneElement(u,{ref:s,...z(u.props,o)})});class Ae{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(r,s){this.nativeEvent=s,this.target=s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget,this.bubbles=s.bubbles,this.cancelable=s.cancelable,this.defaultPrevented=s.defaultPrevented,this.eventPhase=s.eventPhase,this.isTrusted=s.isTrusted,this.timeStamp=s.timeStamp,this.type=r}}function Re(t){let r=y.useRef({isFocused:!1,observer:null});we(()=>{const o=r.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let s=F(o=>{t==null||t(o)});return y.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){r.current.isFocused=!0;let u=o.target,p=f=>{r.current.isFocused=!1,u.disabled&&s(new Ae("blur",f)),r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)};u.addEventListener("focusout",p,{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&u.disabled){var f;(f=r.current.observer)===null||f===void 0||f.disconnect();let b=u===document.activeElement?null:document.activeElement;u.dispatchEvent(new FocusEvent("blur",{relatedTarget:b})),u.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:b}))}}),r.current.observer.observe(u,{attributes:!0,attributeFilter:["disabled"]})}},[s])}let _=null,Be=new Set,W=new Map,k=!1,te=!1;function q(t,r){for(let s of Be)s(t,r)}function Ge(t){return!(t.metaKey||!pe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function N(t){k=!0,Ge(t)&&(_="keyboard",q("keyboard",t))}function $(t){_="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(k=!0,q("pointer",t))}function Te(t){Z(t)&&(k=!0,_="virtual")}function Pe(t){t.target===window||t.target===document||(!k&&!te&&(_="virtual",q("virtual",t)),k=!1,te=!1)}function ye(){k=!1,te=!0}function ce(t){if(typeof window>"u"||W.get(H(t)))return;const r=H(t),s=m(t);let o=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){k=!0,o.apply(this,arguments)},s.addEventListener("keydown",N,!0),s.addEventListener("keyup",N,!0),s.addEventListener("click",Te,!0),r.addEventListener("focus",Pe,!0),r.addEventListener("blur",ye,!1),typeof PointerEvent<"u"?(s.addEventListener("pointerdown",$,!0),s.addEventListener("pointermove",$,!0),s.addEventListener("pointerup",$,!0)):(s.addEventListener("mousedown",$,!0),s.addEventListener("mousemove",$,!0),s.addEventListener("mouseup",$,!0)),r.addEventListener("beforeunload",()=>{he(t)},{once:!0}),W.set(r,{focus:o})}const he=(t,r)=>{const s=H(t),o=m(t);r&&o.removeEventListener("DOMContentLoaded",r),W.has(s)&&(s.HTMLElement.prototype.focus=W.get(s).focus,o.removeEventListener("keydown",N,!0),o.removeEventListener("keyup",N,!0),o.removeEventListener("click",Te,!0),s.removeEventListener("focus",Pe,!0),s.removeEventListener("blur",ye,!1),typeof PointerEvent<"u"?(o.removeEventListener("pointerdown",$,!0),o.removeEventListener("pointermove",$,!0),o.removeEventListener("pointerup",$,!0)):(o.removeEventListener("mousedown",$,!0),o.removeEventListener("mousemove",$,!0),o.removeEventListener("mouseup",$,!0)),W.delete(s))};function je(t){const r=m(t);let s;return r.readyState!=="loading"?ce(t):(s=()=>{ce(t)},r.addEventListener("DOMContentLoaded",s)),()=>he(t,s)}typeof document<"u"&&je();function ze(){return _}function qe(t){_=t,q(t,null)}function Je(t){let{isDisabled:r,onBlurWithin:s,onFocusWithin:o,onFocusWithinChange:u}=t,p=y.useRef({isFocusWithin:!1}),f=y.useCallback(T=>{p.current.isFocusWithin&&!T.currentTarget.contains(T.relatedTarget)&&(p.current.isFocusWithin=!1,s&&s(T),u&&u(!1))},[s,u,p]),b=Re(f),h=y.useCallback(T=>{!p.current.isFocusWithin&&document.activeElement===T.target&&(o&&o(T),u&&u(!0),p.current.isFocusWithin=!0,b(T))},[o,u,b]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:f}}}const Ve=500;function Qe(t){let{isDisabled:r,onLongPressStart:s,onLongPressEnd:o,onLongPress:u,threshold:p=Ve,accessibilityDescription:f}=t;const b=y.useRef();let{addGlobalListener:h,removeGlobalListener:T}=fe(),{pressProps:E}=be({isDisabled:r,onPressStart(g){if(g.continuePropagation(),(g.pointerType==="mouse"||g.pointerType==="touch")&&(s&&s({...g,type:"longpressstart"}),b.current=setTimeout(()=>{g.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),u&&u({...g,type:"longpress"}),b.current=void 0},p),g.pointerType==="touch")){let U=A=>{A.preventDefault()};h(g.target,"contextmenu",U,{once:!0}),h(window,"pointerup",()=>{setTimeout(()=>{T(g.target,"contextmenu",U)},30)},{once:!0})}},onPressEnd(g){b.current&&clearTimeout(b.current),o&&(g.pointerType==="mouse"||g.pointerType==="touch")&&o({...g,type:"longpressend"})}}),ne=Se(u&&!r?f:void 0);return{longPressProps:z(E,ne)}}export{Qe as $,De as _,ze as a,qe as b,Je as c,be as d,Ne as e};
